<HTML>
<HEAD>
<TITLE>Lesson 1: Planning a Network Upgrade</TITLE>
<link rel="STYLESHEET" type="text/css" href="upwin2k.css">

<SCRIPT LANGUAGE="JavaScript"><!-- 
function fullSize(sURL){window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}
--></SCRIPT>
</head>
<SCRIPT LANGUAGE="JavaScript">
<!--

function fullSize(sURL){
	window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}

function LibraryHeaderNav(sBackward, sForward, sImgLeftOff, sImgLeftOn, sImgRightOff, sImgRightOn, iH, iW, sImgLeftStyle, sImgRightStyle, sImgRuleStyle, sRuleColor, sRuleSize){
	var tableStr;
	//validate questionable args for defs
	tableStr = "<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 border=0 width=100%>";
	tableStr += "<TR VALIGN=top ALIGN=right>";

	tableStr += "<TD align=right class=" + sImgRuleStyle + ">&nbsp;</TD>";	
	
	tableStr += "<TD width=34 align=right class=" + sImgLeftStyle + ">";
	tableStr += "<A href='" + sBackward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgLeftOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgLeftOff + '\'\"';
	tableStr += " SRC='" + sImgLeftOff + "' vspace=0 hspace=0></a></TD>";
	
	tableStr += "<TD width=34 align=left class=" + sImgRightStyle + ">";
	tableStr += "<A href='" + sForward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgRightOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgRightOff + '\'\"';
	tableStr += " SRC='" + sImgRightOff + "' vspace=0 hspace=0></a></TD></TR>";

	tableStr += "<TR VALIGN=top>";
	tableStr += "<TD height=3 align=center colspan=3 class=" + sImgRuleStyle + ">";
	tableStr += "<HR color=" + sRuleColor + " size=" + sRuleSize + "></TD></TR></TABLE>";
	//alert(tableStr);
	document.write(tableStr);
}

 																						     //purple is: #aa22aa   orange is: #ff9900
LibraryHeaderNav("ch13a.htm", "ch13c.htm", "images/unit_p_a1.gif", "images/unit_p_a2.gif", "images/unit_p_b1.gif", "images/unit_p_b2.gif", 18, 34, "unit01", "unit02", "headerrule", "#aa22aa", "2");
//--></SCRIPT><P>

<A NAME="602"><H1>Lesson 1: Planning a Network Upgrade</H1></A>

<p>Your network is a critical resource, one that's imperative to
the business success of your organization. As such, it is extremely
important that you thoroughly plan any network changes or modifications
before performing a network upgrade. When you plan and prepare for a
network upgrade, you help ensure the upgraded network works properly
once completed and that the chosen structure satisfies the business
requirements of your organization.</p>

<p>
<div class="sidebar"><blockquote>
<p><b>After this lesson, you will be able to</b></p>

<ul>
<p><li>Plan a network upgrade to Windows 2000.</li></p>
</ul>

<p><b>Estimated lesson time: 20 minutes</b></p>
</blockquote></div>
</p>

<A NAME="603"><H2>Understanding the Upgrade Process</H2></A>

<p>To be better able to plan your upgrade, you need to understand the
upgrade process. Upgrading your network from Windows NT 4.0 to Windows
2000 occurs in several discrete steps, as follows:</p>

<ol>
<p><li>Establishing the root domain of the Windows 2000 Network</li></p>

<p><li>Upgrading member servers and client computers</li></p>

<p><li>Upgrading the primary domain controllers to Windows 2000</li></p>

<p><li>Upgrading the backup domain controllers to Windows 2000</li></p>

<p><li>Switching the domain from mixed to native mode</li></p>
</ol>

<p>
<div class="note"><blockquote><b>NOTE</b><hr>
These steps will be explained later in this
chapter.
</blockquote></div>
</p>

<p>You can upgrade member servers and client computers running Windows
95, Windows 98, or Windows NT Workstation 3.51 or 4.0 at any time before
or after you upgrade your domain controllers. Member servers and client
computers are not dependent upon directory services based on Active
Directory technology to operate on the network. By upgrading your
member servers and clients first, you can take advantage of the
benefits of the new Windows 2000 features, and then upgrade to Active Directory directory services as organizational
resources permit.</p>

<A NAME="604"><H2>Choosing an Upgrade Model</H2></A>

<p>The model you choose for your Windows 2000 upgrade depends on the
Windows NT 4.0 domain structure in your existing network.</p>

<A NAME="605"><H3>Upgrading the Single Domain Model</H3></A>

<p>In a single domain model, the Windows NT 4.0 primary domain
controller (PDC) maintains the master copy of the Security Account
Manager (SAM) database. The SAM database can be replicated to one or
more backup domain controllers (BDCs). In Windows NT 4.0, the single
domain model is the simplest architecture you can use.</p>

<p>If you have a Windows NT 4.0 single domain, you can upgrade it to a
single Windows 2000 Active Directory domain. With Active Directory directory
services, you will be able to manage the domain much more easily by
using organizational units (OUs) within the domain to reflect the
structure of your organization.</p>

<A NAME="606"><H3>Upgrading the Single Master Domain Model</H3></A>

<p>In Windows NT 4.0, a single master domain model consists of multiple
domains, with one domain designated as the master domain. The master
domain is the domain where user accounts and global groups are created. The
resource domains contain computer accounts and built-in accounts, but do not
normally contain user or group accounts. The resource domains trust the
master domain.</p>

<p>If you have a Windows NT 4.0 single master domain model, you can
upgrade it to a Windows 2000 Active Directory domain tree. In this case, the
master domain becomes the root domain of the tree. This makes it much easier
to manage the domain by using OUs within the domain to reflect the
structure of the organization.</p>

<A NAME="607"><H3>Upgrading the Multiple Master Domain Model</H3></A>

<p>In Windows NT 4.0, the multiple master domain model consists of more
than one master domain and one or more resource domains that trust
every master domain. This model is often used when organizations
contain a large number of accounts, or when domain synchronization
traffic between geographically separate sites is undesirable.</p>

<p>If you have a Windows NT 4.0 multiple master domain model, you can
also upgrade to a Windows 2000 Active Directory domain tree. To do this,
create a new empty root domain, and then upgrade the master domains to
child domains of the new root domain. Finally, add any resource domains
as child domains of the appropriate upgraded master domains.</p>

<A NAME="608"><H3>Upgrading the Complete Trust Domain Model</H3></A>

<p>In Windows NT 4.0, the complete trust domain model consists of
multiple domains, but no master domain. All domains maintain their own user accounts and global groups. All domains trust each other, and
administration is decentralized.</p>

<p>If you have a Windows NT 4.0 complete trust domain model, you can
upgrade it to a Windows 2000 Active Directory domain tree. Each division within
the organization will maintain its own domain as a child of a common, empty
root domain. Trust relationships are automatic and transitive, so
administrators no longer need to manage relationships.</p>

<p>If each of your Windows NT 4.0 domains represent a subsidiary that
operates under a different name, you could alternatively upgrade these domains
into a forest, with each domain representing the root of its own tree.
This approach works best for separate companies or divisions that need
to maintain limited communication, rather than for a single
company.</p>

<A NAME="609"><H2>Migrating to Active Directory Directory Services</H2></A>

<p>You must carefully consider the following questions before you
migrate your network from Windows NT 4.0 to Windows 2000. Careful thought and
planning here will help ensure a successful network upgrade.</p>

<p>Consider these questions when planning the Active Directory
Migration to Windows 2000:</p>

<ul>
<p><li>Have you identified any domain controllers running critical
services, such as Dynamic Host Configuration Protocol (DHCP) and Windows Internet
Naming Service (WINS), and created a disaster recovery plan for
these domain controllers?</li></p>

<p><li>Can you roll back your system if you encounter
problems?</li></p>

<p><li>Can you identify the site structure for replication?</li></p>

<p><li>Can you use your existing Domain Name System (DNS) servers
or do you need to add new servers?</li></p>

<p><li>Do you need to establish a root zone on your network?</li></p>

<p><li>What do you plan to call your domains?</li></p>
</ul>


<p>If you can answer these questions, you are ready to proceed with the
network upgrade.</p>

<A NAME="610"><H2>Developing a Naming Strategy</H2></A>

<p>An effective naming strategy is important to help your organization
take advantage of Windows 2000 functionality. An effective naming
strategy makes it easier for users to log on to the network and to
locate network resources.</p>

<p>Every Active Directory domain must have a corresponding DNS domain.
If you have an existing DNS namespace, it shouldn't determine your
Active Directory structure. Rather, DNS should accommodate Active
Directory directory services. It is possible to keep your existing DNS
namespace and create a new one for Active Directory directory services.</p>

<p>As you create a DNS namespace, consider the following domain
guidelines and standard naming conventions:</p>

<ul>
<p><li>The number of domain levels is determined by Active
Directory directory services. DNS provides a naming service to Active Directory
directory services, so the number of DNS domains is determined by your
Active Directory domain structure. Any existing DNS naming structure
should not determine your Active Directory domain structure.</li></p>

<p><li>Use unique names. Each subdomain must have a unique name
within its parent domain to ensure that the name is unique throughout
the DNS namespace.</li></p>

<p><li>Avoid lengthy domain names. This is especially important if
you have many levels of domains because you might potentially exceed
naming limitations. Domain names can be up to 63 characters, including
the periods. The total length cannot exceed 255 characters.</li></p>
</ul>


<p>
<div class="note"><blockquote><b>NOTE</b><hr>
Windows 2000 does not support case-sensitive
domain names.
</blockquote></div>
</p>

<ul>
<p><li>Use standard DNS characters and Unicode characters.</li></p>
<ul>
<p><li>Windows 2000 supports the following standard DNS characters:
A-Z, a-z, 0-9, and the hyphen (-).</li></p>

<p><li>The DNS Service also supports the Unicode character set. The
Unicode character set includes additional characters not found in the
ASCII character set, which are required for languages such as French,
German, and Spanish.</li></p>

<p><li> Only use Unicode characters if all servers running the DNS
Service in your environment support Unicode.</li></p></ul>
</ul>

<p>
<div class="note"><blockquote><b>NOTE</b><hr>
For more information on the Unicode character
set, see Request for Comment (RFC) 2044. For more information on DNS
characters, see RFC 1123.
</blockquote></div>
</p>

<A NAME="611"><H2>Adapting Windows 2000 to an Existing Network Structure</H2></A>

<p>You can often adapt Windows 2000 DNS and Active Directory directory
services to an existing network structure. As you plan your upgrade,
examine your existing DNS servers to see if you can use them as part of your Windows
2000 network.</p>

<A NAME="612"><H3>Using an Existing DNS Server</H3></A>

<p>To use an existing DNS server for Active Directory directory
services, it must support the following:</p>

<ul>
<p><li><b>Service location resource records.</b> For more
information see RFC 2052.</li></p>

<p><li><b>Dynamic update protocol for DNS.</b> For more information
see RFC 2136.</li></p>
</ul>


<p>If your existing DNS servers do not support RFC 2052 and RFC 2136,
you must install and configure a DNS server that does. The DNS Service
included with Windows 2000 allows you to set up a DNS server that meets
these RFC requirements.</p>

<A NAME="613"><H3>Creating a Root Zone</H3></A>

<p>You configure a root zone for your intranet in only two
instances:</p>

<ul>
<p><li><b>When you are not connecting to the Internet.</b> The root
level domain is for your intranet only.</li></p>

<p><li><b>When using a proxy service to gain access to the
Internet.</b> You create the root of your local DNS namespace. The
proxy service handles translation and connection necessary to access
the Internet.</li></p>
</ul>


<A NAME="614"><H2>Lesson Summary</H2></A>

<p>Careful planning will help ensure that your upgraded network will
work properly. After you complete your planning, the first step in
upgrading your network is to establish the root domain of the Windows
2000 network. The next three steps are to upgrade your PDCs, your BDCs,
and your member servers and client computers. The last step in
upgrading your network is switching the domain from mixed mode to
native mode.</p>

<p>The model you choose for your Windows 2000 upgrade depends upon
the Windows NT 4.0 domain structure in your existing network. Upgrade a
Windows NT 4.0 single domain to a single Active Directory domain, and
use organizational units (OUs) within the domain to reflect the
structure of your organization. Upgrade a Windows NT 4.0 single master domain model to an Active
Directory domain tree. The master domain becomes the root domain of the
tree, and you can use OUs within the domain to reflect the structure of
the organization.</p>

<p>Upgrade a Windows NT 4.0 multiple master domain model to an Active
Directory domain tree. Create a new empty root domain, and then upgrade
the master domains to child domains of the new root domain, and add any
resource domains as child domains of the appropriate upgraded master
domains. Upgrade a Windows NT 4.0 complete trust domain model to an Active Directory
domain tree. Each division within the organization will maintain its
own domain as a child of a common, empty root domain. Trust
relationships are automatic and transitive, so administrators no longer
need to manage relationships.</p>

<p>Every Active Directory domain must have a corresponding DNS domain.
If your existing DNS server does not support service location resource
records (see RFC 2052) and dynamic update protocol for DNS (see RFC
2136), you must install and configure a DNS server that does. The DNS
Service included with Windows 2000 allows you to set up a DNS server
that meets these RFC requirements.</p>

</BODY>
</HTML>



