<HTML>
<HEAD>
<TITLE>Lesson 2: Configuring Inbound Connections</TITLE>
<link rel="STYLESHEET" type="text/css" href="upwin2k.css">

<SCRIPT LANGUAGE="JavaScript"><!-- 
function fullSize(sURL){window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}
--></SCRIPT>
</head>
<SCRIPT LANGUAGE="JavaScript">
<!--

function fullSize(sURL){
	window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}

function LibraryHeaderNav(sBackward, sForward, sImgLeftOff, sImgLeftOn, sImgRightOff, sImgRightOn, iH, iW, sImgLeftStyle, sImgRightStyle, sImgRuleStyle, sRuleColor, sRuleSize){
	var tableStr;
	//validate questionable args for defs
	tableStr = "<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 border=0 width=100%>";
	tableStr += "<TR VALIGN=top ALIGN=right>";

	tableStr += "<TD align=right class=" + sImgRuleStyle + ">&nbsp;</TD>";	
	
	tableStr += "<TD width=34 align=right class=" + sImgLeftStyle + ">";
	tableStr += "<A href='" + sBackward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgLeftOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgLeftOff + '\'\"';
	tableStr += " SRC='" + sImgLeftOff + "' vspace=0 hspace=0></a></TD>";
	
	tableStr += "<TD width=34 align=left class=" + sImgRightStyle + ">";
	tableStr += "<A href='" + sForward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgRightOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgRightOff + '\'\"';
	tableStr += " SRC='" + sImgRightOff + "' vspace=0 hspace=0></a></TD></TR>";

	tableStr += "<TR VALIGN=top>";
	tableStr += "<TD height=3 align=center colspan=3 class=" + sImgRuleStyle + ">";
	tableStr += "<HR color=" + sRuleColor + " size=" + sRuleSize + "></TD></TR></TABLE>";
	//alert(tableStr);
	document.write(tableStr);
}

 																						     //purple is: #aa22aa   orange is: #ff9900
LibraryHeaderNav("ch09b.htm", "ch09d.htm", "images/unit_p_a1.gif", "images/unit_p_a2.gif", "images/unit_p_b1.gif", "images/unit_p_b2.gif", 18, 34, "unit01", "unit02", "headerrule", "#aa22aa", "2");
//--></SCRIPT><P>

<A NAME="438"><H1>Lesson 2: Configuring Inbound Connections</H1></A>

<p>Configuring inbound connections on a computer running Windows 2000
allows the computer to act as a dial-in server. You can configure
inbound connections in Windows 2000 with the same Network Connection
wizard used for outbound connections if the computer is not a member of
a domain. (Outbound connections and the Network Connection wizard are
discussed in the next <a href="ch09d.htm">lesson</a> in this chapter.) However, you must use the Routing and Remote Access
Service (RRAS) to configure inbound connections when the computer is a
member of a domain or a domain controller. Experience with this
administrative tool can help you set up VPNs and modem pools on a
remote access server.</p>

<p>
<div class="note"><blockquote><b>NOTE</b><hr>
RRAS in Windows 2000 is also a full-featured
software router and an open platform for routing and internetworking.
The Windows 2000 RRAS extends the routing capabilities of the
Windows NT 4.0 RRAS by adding IP multicast, network address translation
(NAT), and additional VPN services. The routing functions of RRAS are
outside the scope of this training kit.
</blockquote></div>
</p>

<p>
<div class="sidebar"><blockquote>
<p><b>After this lesson, you will be able to</b></p>

<ul>
<p><li>Install RRAS.</li></p>

<p><li>Configure inbound connections in Windows 2000.</li></p>

<p><li>Configure remote access to allow incoming VPN
connections.</li></p>
</ul>


<p><b>Estimated lesson time: 25 minutes</b></p>
</blockquote></div>
</p>

<A NAME="439"><H2>Configuring Inbound Dial-Up Connections</H2></A>

<p>To configure and administer inbound connections on a computer that
is a member of a domain, you must use RRAS. You must do several things
to prepare to start and configure RRAS. First you must purchase the
appropriate hardware, verify the compatibility of all of the hardware
to be installed, install the hardware, and then verify that the
hardware has been installed successfully. After the hardware is installed, you can install and configure Transmission
Control Protocol/Internet Protocol (TCP/IP), Internet Packet Exchange
(IPX), NetBIOS Enhanced User Interface (NetBEUI), and AppleTalk.</p>

<p>After installing the hardware and any appropriate protocols, you are
ready to install RRAS. On the Start menu, point to Programs, point to
Administrative Tools, and click Routing And Remote Access. Right-click
the server name, and select Configure And Enable Routing And Remote
Access (see Figure 9.1).</p>

<p>
<A HREF="javascript:fullSize('F09UP01x.htm')"> <img src="images/F09UP01.JPG" width=404 height=231 border=0 ALT = "Click to view at full size."> </A>
</p><p>
<!--caption--><b>Figure 9.1</b> <i>Initiating the RRAS configuration and enable process</i><!--/caption-->
</p>


<p>The Routing And Remote Access Server Setup wizard appears. Click
Next to continue and on the first page of the wizard, the Common
Configurations page, select one of the following five options to
indicate how you want to configure the interfaces for dial-in
access:</p>

<ul>
<p><li><b>Internet Connection Server.</b> Enables all the computers
on this network to connect to the Internet.</li></p>

<p><li><b>Remote Access Server.</b> Enables remote computers to
dial in to the network.</li></p>

<p><li><b>Virtual Private Network (VPN) Server.</b> Enables remote
computers to connect to the network through the Internet.</li></p>

<p><li><b>Network Router.</b> Enables the network to communicate
with other networks.</li></p>

<p><li><b>Manually Configured Server.</b> Starts the server with
default settings.</li></p>
</ul>


<p>On the Remote Client Protocols page, you can review the protocols
that have been installed on your server to make sure all the protocols
that are needed are installed. On the IP Address Assignment page, you
select whether to use DHCP or to use A Static Pool for assigning IP
addresses to the dial-in clients. On the Managing Multiple Remote
Access Servers page, you indicate whether you want to set up the server
to use RADIUS. Then the Completing The Routing And Remote Access Server Setup Wizard page appears, and you click Finish to
exit the wizard.</p>

<A NAME="440"><H2>Configuring Virtual Private Network Ports</H2></A>

<p>When RRAS is started for the first time, Windows 2000 automatically
creates five PPTP and five L2TP ports. You can configure these ports
under the Ports node on the console tree (see Figure 9.2).</p>

<p>
<A HREF="javascript:fullSize('F09UP02x.htm')"> <img src="images/F09UP02.JPG" width=404 height=285 border=0 ALT = "Click to view at full size."> </A>
</p><p>
<!--caption--><b>Figure 9.2</b> <i>Port configuration</i><!--/caption-->
</p>


<p>To configure VPN ports, in the console tree of the Routing And
Remote Access window, right-click Ports, and then click Properties. In
the Ports Properties dialog box, select a device. For VPN ports, these
will read WAN Miniport (PPTP) and WAN Miniport (L2TP). Click the
Configure button. In the Configure Ports dialog box, select the Remote
Access Connection (Inbound only) check box to enable inbound VPN
connections (see Figure 9.3). Optionally, you can increase or decrease
the number of virtual ports available on the server. Click OK in the
Configure Ports dialog box and in the Ports Properties dialog box.</p>

<A NAME="441"><H2>Configuring Modem and Cable Ports</H2></A>

<p>When RRAS is started for the first time, Windows 2000 automatically
detects any modems that are installed and creates modem ports for them.
Windows 2000 also creates ports for each parallel or serial cable
connection it detects. You can also configure these ports manually
under the Ports node on the console tree.</p>

<p>To configure modem or cable ports, in the console tree of the
Routing And Remote Access window, right-click Ports, and then click Properties. In
the Ports Properties dialog box, select a device, and then click the
Configure button.</p>

<p>
<div class="note"><blockquote><b>NOTE</b><hr>
Modem, parallel, and serial ports are listed
individually, but are grouped together and can be configured either
individually or together. To configure several ports simultaneously, hold down the Ctrl key or the Shift key
to select multiple ports, and then click the Configure
button.
</blockquote></div>
</p>

<p>
<A HREF="javascript:fullSize('f09up03x.htm')"> <img src="images/f09up03.JPG" width=404 height=358 border=0 ALT = "Click to view at full size."> </A>
</p><p>
<!--caption--><b>Figure 9.3</b> <i>Enabling inbound connections</i><!--/caption-->
</p>


<p>In the Configure Device dialog box, select the Remote Access
Connections (Inbound Only) check box to enable inbound connections (see Figure
9.3). If you are configuring a modem port, enter a phone number.</p>

<p>When you are through configuring the ports, click OK in the
Configure Device and Ports Properties dialog boxes.</p>

<p><img src="images/practic.JPG" width=68 height=54 border="0"></p>

<A NAME="442"><H2>Practice: Installing and Configuring RRAS</H2></A>

<p>In this practice, you will use the Routing And Remote Access Server
Setup wizard to install and configure RRAS.</p>


<p><li><b>To install RRAS</b></li></p>
<ol>
<p><li>Log on as Administrator.</li></p>

<p><li>On the Start menu, point to Programs, point to Administrative
Tools, and click Routing And Remote Access.</li></p>

<p>The Routing And Remote Access Server Setup wizard appears.</p>

<p><li value="4">Click Next.</li></p>

<p><li>On the Common Configurations page, select the Remote Access
Server option, and then click Next.</li></p>

<p>The Remote Client Protocols page appears.</p>

<p><li>Under Protocols, ensure that TCP/IP is listed and ensure that
the Yes, All Of The Required Protocols Are On This List option is
selected, and then click Next.</li></p>

<p>The IP Address Assignment page appears.</p>

<p><li>Select the From A Specified Range Of Addresses option, and then
click Next.</li></p>

<p>The Address Range Assignment page appears.</p>

<p><li>Click New.</li></p>

<p>The New Address Range dialog box appears.</p>

<p><li>In the Start IP Address box, type 192.168.0.0.</li></p>

<p><li>In the End IP Address box, type 192.168.0.225, and then click
OK.</li></p>

<p><li>Click Next.</li></p>

<p>The Managing Multiple Remote Access Servers page appears.</p>

<p><li>Select No I Don't Want To Set Up This Server To Use RADIUS
Now, and then click Next.</li></p>

<p>The Completing The Routing And Remote Access Server Setup Wizard
page appears.</p>

<p><li>Click Finish.</li></p>

<p>A Routing And Remote Access dialog box appears indicating that to
support the relaying of DHCP messages from remote access clients, you
must configure the properties of the DHCP relay agent with the IP
address of your DHCP server.</p>

<p><li>Click OK.</li></p>

<p>The Routing And Remote Access service is started and initialized
automatically.</p>
</ol>

<A NAME="443"><H2>Lesson Summary</H2></A>

<p>You configure inbound connections in Windows 2000 with the Network
Connection wizard if the computer is not a member of a domain. However,
RRAS is used to configure inbound connections when the computer is a
member of a domain or a domain controller. Windows 2000 automatically creates five
PPTP and five L2TP ports. You can configure these ports under the Ports
node on the console tree.</p>

<p>Windows 2000 automatically detects any modems that are installed and
creates modem ports for them. Windows 2000 also creates ports for each
parallel or serial cable connection it detects. You can also configure these ports
manually under the Ports node on the console tree.</p>

</BODY>
</HTML>



