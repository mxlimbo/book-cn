<HTML>
<HEAD>
<TITLE>Lesson 1: Using Fault-Tolerant Volumes</TITLE>
<link rel="STYLESHEET" type="text/css" href="upwin2k.css">

<SCRIPT LANGUAGE="JavaScript"><!-- 
function fullSize(sURL){window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}
--></SCRIPT>
</head>
<SCRIPT LANGUAGE="JavaScript">
<!--

function fullSize(sURL){
	window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}

function LibraryHeaderNav(sBackward, sForward, sImgLeftOff, sImgLeftOn, sImgRightOff, sImgRightOn, iH, iW, sImgLeftStyle, sImgRightStyle, sImgRuleStyle, sRuleColor, sRuleSize){
	var tableStr;
	//validate questionable args for defs
	tableStr = "<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 border=0 width=100%>";
	tableStr += "<TR VALIGN=top ALIGN=right>";

	tableStr += "<TD align=right class=" + sImgRuleStyle + ">&nbsp;</TD>";	
	
	tableStr += "<TD width=34 align=right class=" + sImgLeftStyle + ">";
	tableStr += "<A href='" + sBackward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgLeftOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgLeftOff + '\'\"';
	tableStr += " SRC='" + sImgLeftOff + "' vspace=0 hspace=0></a></TD>";
	
	tableStr += "<TD width=34 align=left class=" + sImgRightStyle + ">";
	tableStr += "<A href='" + sForward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgRightOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgRightOff + '\'\"';
	tableStr += " SRC='" + sImgRightOff + "' vspace=0 hspace=0></a></TD></TR>";

	tableStr += "<TR VALIGN=top>";
	tableStr += "<TD height=3 align=center colspan=3 class=" + sImgRuleStyle + ">";
	tableStr += "<HR color=" + sRuleColor + " size=" + sRuleSize + "></TD></TR></TABLE>";
	//alert(tableStr);
	document.write(tableStr);
}

 																						     //purple is: #aa22aa   orange is: #ff9900
LibraryHeaderNav("ch12a.htm", "ch12c.htm", "images/unit_p_a1.gif", "images/unit_p_a2.gif", "images/unit_p_b1.gif", "images/unit_p_b2.gif", 18, 34, "unit01", "unit02", "headerrule", "#aa22aa", "2");
//--></SCRIPT><P>

<A NAME="557"><H1>Lesson 1: Using Fault-Tolerant Volumes</H1></A>

<p>Microsoft Windows 2000 Server includes support for two types of
fault-tolerant volumes: mirrored volumes and RAID-5 volumes. Similar to
mirror sets and stripe sets with parity in Microsoft Windows NT Server
4.0, Windows 2000 fault-tolerant volumes write data on multiple disks.
Understanding how to use fault-tolerant volumes can help to protect
data in the event of a disk failure.</p>

<p>
<div class="note"><blockquote><b>NOTE</b><hr>
Fault-tolerant volumes in the Windows 2000
family of server products, which include Windows 2000 Server, Windows
2000 Advanced Server, and Windows 2000 Datacenter, are only available on dynamic disks.
Microsoft Windows 2000 Professional does not support fault-tolerant
volumes.
</blockquote></div>
</p>

<p>
<div class="sidebar"><blockquote>
<p><b>After this lesson, you will be able to</b></p>

<ul>
<p><li>Use Windows 2000 fault-tolerant volumes.</li></p>
</ul>

<p><b>Estimated lesson time: 10 minutes</b></p>
</blockquote></div>
</p>

<A NAME="558"><H2>Implementing Fault-Tolerant Volumes</H2></A>

<p>You can use fault tolerance to help protect data against disk
failures. In Windows 2000 Server, you create mirrored and RAID-5
volumes from unallocated space by using the Create Volume wizard in
Computer Management.</p>

<p>To create a mirrored or RAID-5 volume from unallocated space, you
would do the following:</p>

<ol>
<p><li>In Computer Management, expand Storage, if necessary, and then
click Disk Management.</li></p>

<p><li>Right-click an area of unallocated space, and then click Create
Volume.</li></p>

<p><li>Click Next, and then, on the Select Volume Type page, specify
the type of volume to create.</li></p>

<p>Table 12.1 describes the additional options you can specify in the
Create Volume wizard.</p>

<p><b>Table 12.1</b> <i>Create Volume Wizard Options</i></p>

<p><table cellpadding=5 width="95%"><tr>
<th>Option</th>
<th>Description</th>
</tr><tr>
<td valign="top">Select Disks</td>
<td valign="top">The dynamic disks that will make up the volume. For
mirrored volumes, you can select only two disks. For RAID-5 volumes,  you must select at least three disks.</td>
</tr><tr>
<td valign="top">Volume Size</td>
<td valign="top">The amount of unallocated disk space to use on each
selected dynamic disk.</td>
</tr><tr>
<td valign="top">Assign A Drive Letter Or Path</td>
<td valign="top">A drive letter or path for the volume that you are
creating.</td>
</tr><tr>
<td valign="top">Format Volume</td>
<td valign="top">Formatting options for the volume.</td>
</tr></table></p>

<p><li>After you specify the appropriate options, click Finish to
create the volume.</li></p>
</ol>

<p>To mirror an existing volume, you would do the following:</p>

<ol>
<p><li>After you specify the appropriate options, click Finish to
create the volume.</li></p>

<p><li>Select the second disk in the mirrored volume, and then click
OK.</li></p>
</ol>

<A NAME="559"><H2>Recovering a Failed Mirrored Volume</H2></A>

<p>When one member of a mirrored volume fails, the other member
continues to operate, though it is no longer fault tolerant. To prevent
potential data loss, you must recover the mirrored volume as soon as
possible. The status of the failed volume appears in Disk Management as
Failed Redundancy, and one of the disks will appear as Offline,
Missing, or Online (Errors). The method that you use to recover the
mirrored volume depends on the status of the disk.</p>

<A NAME="560"><H3>Recovering a Disk Identified as Offline or Missing</H3></A>

<p>To recover a mirrored volume if the disk status is either Offline or
Missing, you would do the following:</p>

<ol>
<p><li>Ensure that the disk is attached to the computer and has
power.</li></p>

<p><li>In the Disk Management window, right-click the disk that is
identified as Missing or Offline, and then click Reactivate Disk.</li></p>

<p>The status of the disk should return to Healthy, and the mirrored
volume should regenerate automatically.</p>
</ol>

<A NAME="561"><H3>Recovering a Disk Identified as Online (Errors)</H3></A>

<p>To recover a mirrored volume if the disk status is Online (Errors),
in the Disk Management window, right-click the disk, and then click
Reactivate Disk. The status of the disk should return to Healthy, and
the mirrored volume should regenerate automatically.</p>

<p>
<div class="note"><blockquote><b>NOTE</b><hr>
If a disk continues to appear as Online
(Errors), it might be about to fail. You should replace the disk as
soon as possible.
</blockquote></div>
</p>

<A NAME="562"><H3>Replacing a Disk and Reestablishing a Mirrored Volume</H3></A>

<p>If the preceding procedures fail to reactivate the disk or if the
status of the volume does not return to Healthy, you must replace the
failed disk and reestablish the mirrored volume:</p>

<p>To create a new mirrored volume, you would do the following:</p>

<ol>
<p><li>In the Disk Management window, right-click the mirrored volume
on the failed disk, and then click Remove Mirror.</li></p>

<p><li>In the Remove Mirror dialog box, click the failed disk, and then
click Remove Mirror.</li></p>

<p><li>Click Yes when prompted to confirm your choice.</li></p>

<p><li>Right-click the volume that you want to mirror, and then click
Add Mirror.</li></p>

<p><li>Select the second disk in the mirrored volume, and then click
OK.</li></p>
</ol>

<A NAME="563"><H2>Recovering a Failed RAID-5 Volume</H2></A>

<p>When one member of a RAID-5 volume fails, the other members continue
to operate, though the volume is no longer fault-tolerant. To prevent
potential data loss, you must recover the RAID-5 volume as soon as
possible.</p>

<p>The status of the failed volume appears in the Disk Management
window as Failed Redundancy, and one of the disks will appear as
Offline, Missing, or Online (Errors). The method that you use to
recover the RAID-5 volume depends on the status of the disk.</p>

<A NAME="564"><H3>Recovering a Disk Identified as Offline or Missing</H3></A>

<p>To recover a RAID-5 volume if the disk status is either Offline or
Missing, you would do the following:</p>

<ol>
<p><li>Ensure that the disk is attached to the computer and has
power.</li></p>

<p><li>In the Disk Management window, right-click the disk that is
identified as Missing or Offline, and then click Reactivate Disk.</li></p>

<p>The status of the disk should return to Healthy, and the RAID-5
volume should regenerate automatically.</p>
</ol>

<A NAME="565"><H3>Recovering a Disk Identified as Online (Errors)</H3></A>

<p>To recover a RAID-5 volume if the disk status is Online (Errors), in
the Disk Management window, right-click the disk, and then click
Reactivate Disk. The status of the disk should return to Healthy, and
the RAID-5 volume should regenerate automatically.</p>

<p>
<div class="note"><blockquote><b>NOTE</b><hr>
If a disk continues to appear as Online
(Errors), it might be about to fail. You should replace the disk as
soon as possible.
</blockquote></div>
</p>

<A NAME="566"><H3>Replacing a Disk and Regenerating a RAID-5 Volume</H3></A>

<p>If the preceding procedures fail to reactivate the disk or if the
status of the volume does not return to Healthy, you must replace the
failed disk and regenerate the RAID-5 volume.</p>

<p>To regenerate a RAID-5 volume using a different disk, you would do
the following:</p>

<ol>
<p><li>In the Disk Management window, right-click the RAID-5 volume on
the failed disk, and then click Repair Volume.</li></p>

<p><li>In the Repair RAID-5 Volume dialog box, select the disk that
will replace the failed disk in the RAID-5 volume, and then click
OK.</li></p>
</ol>

<A NAME="567"><H2>Lesson Summary</H2></A>

<p>The Microsoft Windows 2000 family of server products includes
support for two types of fault-tolerant volumes: mirrored volumes and
RAID-5 volumes. You can use fault tolerance to help protect data
against disk failures. In Windows 2000 Server, you create mirrored and
RAID-5 volumes from unallocated space by using the Create Volume wizard in the Storage node of Computer
Management.</p>

<p>If one member of a mirrored volume fails, the other member will
continue to operate, but it is no longer fault tolerant. The status of the failed
volume appears in the Disk Management window as Failed Redundancy, and
one of the disks will appear as Offline, Missing, or Online (Errors).
If the disk status is either Offline or Missing, ensure that the disk
is attached to the computer and has power.</p>

<p>To recover a mirrored volume, in the Disk Management window,
right-click the disk that is identified as Offline, Missing, or Online
(Errors), and then click Reactivate Disk. If the disk fails to reactivate or if the status of
the volume does not return to Healthy, you must replace the failed disk
and reestablish the mirrored volume. To create a new mirrored volume,
use the Disk Management tool to remove the existing mirror and then to
create a new mirror.</p>

<p>When one member of a RAID-5 volume fails, the other members continue
to operate, though the volume is no longer fault-tolerant. The status of
the failed volume appears in the Disk Management window as Failed
Redundancy, and one of the disks will appear as Offline, Missing, or
Online (Errors). If the disk status is either Offline or Missing,
ensure that the disk is attached to the computer and has power.</p>

<p>To recover a RAID-5 volume, in the Disk Management window,
right-click the disk that is identified as Offline, Missing, or Online
(Errors), and then click Reactivate Disk. If the disk fails to reactivate or if the status of
the volume does not return to Healthy, you must replace the failed disk
and regenerate the RAID-5 volume. To regenerate a RAID-5 volume using a
different disk, in the Disk Management console window, right-click the
RAID-5 volume on the failed disk, and then click Repair Volume. In the
Repair RAID-5 Volume dialog box, select the disk that will replace the
failed disk in the RAID-5 volume, and then click OK.</p>

</BODY>
</HTML>



