<HTML>
<HEAD>
<TITLE>Lesson 6: Troubleshooting the DNS Service</TITLE>
<link rel="STYLESHEET" type="text/css" href="upwin2k.css">

<SCRIPT LANGUAGE="JavaScript"><!-- 
function fullSize(sURL){window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}
--></SCRIPT>
</head>
<SCRIPT LANGUAGE="JavaScript">
<!--

function fullSize(sURL){
	window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}

function LibraryHeaderNav(sBackward, sForward, sImgLeftOff, sImgLeftOn, sImgRightOff, sImgRightOn, iH, iW, sImgLeftStyle, sImgRightStyle, sImgRuleStyle, sRuleColor, sRuleSize){
	var tableStr;
	//validate questionable args for defs
	tableStr = "<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 border=0 width=100%>";
	tableStr += "<TR VALIGN=top ALIGN=right>";

	tableStr += "<TD align=right class=" + sImgRuleStyle + ">&nbsp;</TD>";	
	
	tableStr += "<TD width=34 align=right class=" + sImgLeftStyle + ">";
	tableStr += "<A href='" + sBackward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgLeftOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgLeftOff + '\'\"';
	tableStr += " SRC='" + sImgLeftOff + "' vspace=0 hspace=0></a></TD>";
	
	tableStr += "<TD width=34 align=left class=" + sImgRightStyle + ">";
	tableStr += "<A href='" + sForward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgRightOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgRightOff + '\'\"';
	tableStr += " SRC='" + sImgRightOff + "' vspace=0 hspace=0></a></TD></TR>";

	tableStr += "<TR VALIGN=top>";
	tableStr += "<TD height=3 align=center colspan=3 class=" + sImgRuleStyle + ">";
	tableStr += "<HR color=" + sRuleColor + " size=" + sRuleSize + "></TD></TR></TABLE>";
	//alert(tableStr);
	document.write(tableStr);
}

 																						     //purple is: #aa22aa   orange is: #ff9900
LibraryHeaderNav("ch03f.htm", "ch03h.htm", "images/unit_p_a1.gif", "images/unit_p_a2.gif", "images/unit_p_b1.gif", "images/unit_p_b2.gif", 18, 34, "unit01", "unit02", "headerrule", "#aa22aa", "2");
//--></SCRIPT><P>

<A NAME="159"><H1>Lesson 6: Troubleshooting the DNS Service</H1></A>

<p>This lesson discusses how to troubleshoot name servers by using the
DNS monitoring and logging options and the Nslookup command-line
utility.</p>

<p>
<div class="sidebar"><blockquote>
<p><b>After this lesson, you will be able to:</b></p>

<ul>
<p><li>Troubleshoot the DNS Service.</li></p>
</ul>


<p><b>Estimated lesson time: 5 minutes</b></p>
</blockquote></div>
</p>

<A NAME="160"><H2>Monitoring the DNS Service</H2></A>

<p>DNS has an option that allows you to monitor the DNS Service. In the
DNS tool, right-click the name server to monitor, click Properties, and
then click the Monitoring tab. Test the name server by performing two
types of queries:</p>

<ul>
<p><li><b>A Simple Query Against This DNS Server.</b> Select this
option to perform a simple query test of the DNS server. This will be a
local test using the DNS client on this computer to query the name
server.</li></p>

<p><li><b>A Recursive Query To Other DNS Servers.</b> Select this
option to perform a more complex, recursive query test of the name
server. This query tests the name server by forwarding a recursive
query to another name server.</li></p>
</ul>


<A NAME="161"><H2>Setting Logging Options</H2></A>

<p>The DNS tool allows you to set additional logging options for
debugging purposes. Right-click the name server, click Properties, and
then click the Logging tab. You can select from 11 options: Query,
Notify, Update, Questions, Answers, Send, Receive, UDP, TCP, Full
Packets, and Write Through.</p>

<A NAME="162"><H2>Using Nslookup</H2></A>

<p>Nslookup is the primary diagnostic tool for the DNS Service, and it
is installed along with TCP/IP. Use Nslookup to view any resource
record and direct queries to any name server, including UNIX DNS
implementations.</p>

<p>Nslookup has two modes: interactive and noninteractive.</p>

<ul>
<p><li>When you require more than one piece of data, use
interactive mode. To run interactive mode, at the command prompt, type
<b>Nslookup</b>. To exit interactive mode, type <b>exit</b>.</li></p>

<p><li>When you require a single piece of data, use noninteractive
mode. Type the Nslookup syntax at the command line, and the data is
returned.</li></p>
</ul>


<p>The syntax for Nslookup is as follows:</p>

<P><table cellpadding=5 width="95%"><TR><TD>
<PRE> nslookup [<b>-</b>option ...] [computer-to-find <b>|</b> <b>-</b> [server]]</PRE>
</TD></TR></TABLE>
</P>

<p>Table 3.5 describes the optional parameters for Nslookup.</p>

<p><b>Table 3.5</b> <i>Nslookup Optional Parameters</i></p>

<P>
<table cellpadding=5 width="95%">
<tr> 
<th>Syntax  </th>
<th>Description  </th></tr>
<tr>
<td valign="top">-<i>option&#8230;</i>  </td>
<td valign="top">Specifies one or more Nslookup commands. For a list of  commands, type a question mark (<b>?</b>) in interactive mode to open Help.  </td></tr>
<tr>
<td valign="top"><i>computer-to-find</i>  </td>
<td valign="top">If the computer to find is an IP address, Nslookup returns the  host name. If the computer to find is a name, Nslookup returns  an IP address. If the computer to find is a name and does not have  a trailing period, the default DNS domain name is appended to the name. To look up a computer outside the current DNS domain, append a period to the name.</td></tr>
<tr>
<td valign="top">-<i>server</i>  </td>
<td valign="top">Use this server as the DNS name server. If the server is omitted, the currently-configured default name server is used.  </td></tr>
</table></p>


<A NAME="163"><H2>Lesson Summary</H2></A>

<p>You can troubleshoot name servers by using the DNS tool for
monitoring and logging options and the Nslookup command-line utility.
You can test the name server by performing a simple query or by
performing a recursive query. A simple query performs a local test
using the DNS client on this computer to query the name server. A
recursive query performs a more complex, recursive query test of the
name server. This query tests the name server by forwarding a recursive
query to another name server.</p>

<p>You also learned that Nslookup is the primary diagnostic tool for
the DNS Service. It is installed along with the TCP/IP protocol. You
can use Nslookup to view any resource record and direct queries to any
name server, including UNIX DNS implementations.</p>

</BODY>
</HTML>



