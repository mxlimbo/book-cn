<!DOCTYPE html SYSTEM "msxhtml1-strict.dtd">
<html lang="en" xml:lang="en">
<head>
<link rel="stylesheet" type="text/css" href="styles.css" />
<script type="text/javascript" language="JavaScript" src="expando.js"></script>
<title>Lesson 4: User Name Mapping Server</title>


</head>
<body>
<div class="prevnext"><p><a href="chabd.htm">3</a> <a href="chabf.htm">4</a></p></div>

<h1><a name="1993">Lesson 4: User Name Mapping Server</a></h1>


<p>The User Name Mapping Server, a component of SFU, provides the functionality of mapping Windows-based network user names to UNIX-based network user names and vice versa. This is a means to associate user names in two networks for users who have different identities in Windows-based and UNIX-based domains.</p>

<p>All SFU NFS components&#8212;Server for NFS, Client for NFS, and Gateway for NFS&#8212;use User Name Mapping For NFS Authentication And Access. In an enterprise, all SFU NFS component installations can use a Central User Name Mapping to have consistent identification and authentication across the network. User Name Mapping makes it easy to administer access to NFS resources between UNIX-based and Windows-based networks. Similarly, Remote Shell Service, which is included with SFU, also uses User Name Mapping to map UNIX user names to Windows user names through remote shell (rsh) requests and executes them under the right context.</p>

<hr />
<p><b>After this lesson, you will be able to</b></p>

<ul>
<li>List three benefits of using the User Name Mapping Service</li>

<li>Describe the advantage of using a central mapping server</li>

<li>Distinguish between simple and advanced mapping</li>

<li>Install Username Mapping Server</li>
</ul>

<p><b>Estimated lesson time: 15 minutes</b></p>
<hr />

<h2><a name="1994">Benefits of User Name Mapping Service</a></h2>


<p>User Name Mapping service provides the following benefits:</p>

<ul>
<li>This service can be deployed on a single node in the organization and all Client for NFS, Gateway for NFS, and Server for NFS computers can access this server for mapping. A central mapping server reduces the cost of administration and results in a lower cost of administering a heterogeneous network.</li>

<li>This service can obtain UNIX user names from a UNIX NIS or an NIS+ server working in yp-compatible mode. It can also obtain UNIX user names from Service for UNIX PCNFS servers. This causes minimal disruption in introducing User Name Mapping and other Windows-based NFS components into the network.</li>

<li>Allows simple and advanced mapping. With support for simple mappings, creating default mappings for those users with identical names in two domains is a very easy task. With the support for advanced mapping, if a user has different names in two networks, the two names can be mapped to provide consistent and correct file access.</li>

<li>Supports multiple Windows-based and UNIX-based domains. This allows the mapping server to be shared between multiple domains. Further, User Name Mapping can map users irrespective of the domains in which the user names were created.</li>

<li>Maps users and groups. The service allows Windows-based NFS file servers to provide the same semantics as provided by UNIX NFS servers. With group mappings, access to UNIX NFS resources using the group permission bits on a file is honored for Windows-based users.</li>

<li>Refreshes NIS, PCNFS, and Windows user names periodically. The key advantage of this feature is that an addition, a deletion, or a change to users in UNIX and Windows name spaces does not require administrative intervention.</li>

<li>Provides command-line, graphical, and remote administration capability. This allows simplicity in administration of User Name Mappings.</li>

<li>Supports backup and restoration of mappings.</li>

<li>Allows mapping of multiple Windows users to one UNIX user. This reduces the administrative tasks of creating and managing rights and permissions.</li>

<li>User Name Mapping ensures that only members of the Administrator's group can perform administrative tasks.</li>

<li>User Name Mapping authenticates a UNIX user name and password using a UNIX cryptography algorithm and provides UNIX identification. This is useful where the Windows user requires access to UNIX resources using a UNIX account to which the user is not mapped.</li>
</ul>

<blockquote><div class="note"><b>NOTE</b><hr />
User Name Mapping is not a password synchronization mechanism. User Name Mapping stores mappings between Windows names and UNIX UIDs or GIDs, but it does not validate passwords during mapping.</div></blockquote>

<p>In particular, Microsoft's objectives for the User Mapping Server do the following:</p>

<ul>
<li>Provide Windows users access to their UNIX-based NFS resources with single sign-on. The users do not have to remember two sets of user names and passwords or sign on separately to the two operating systems.</li>

<li>Share a single set of User Name Mappings across the network. Multiple instances of Client for NFS, Server for NFS, and Gateway for NFS should be able to use just one set of mappings. This should allow consistent access for users while using any of the NFS products from any computer.</li>

<li>Ease the administrative task of maintaining maps on all Windows computers providing NFS services or Remote Shell Service.</li>
</ul>

<h2><a name="1995">Central Mapping Server</a></h2>


<p>Other Windows-based NFS servers or NFS gateways require local mappings to map Windows users to UNIX users and vice versa. Windows-based NFS clients require users to authenticate with NIS or PCNFS servers.</p>

<p>User name mapping can be deployed as a central server. It can be installed on one server and all SFU NFS components can use it.</p>

<p>Having a central user name mapping server is also useful to set up central policies. Users may be mapped centrally to reflect the enterprise policies. For example, if a Windows-based user is allowed read-only access to some files, you can map that user to a UNIX-based user with read-only permissions on those same files. Access from any NFS client results in the Windows user being identified as the mapped UNIX user.</p>

<p>With a single, central mapping server common to the enterprise, the administrative cost of mappings is considerably reduced. The traditional setup of User Name Mapping per NFS server or NFS gateway is expensive because the effort of creating and managing the mappings are replicated on each machine. Administering maps on just one central server is far less costly compared to the solution used earlier.</p>

<h2><a name="1996">Mapping Between UNIX and Windows Users</a></h2>


<p>Simple mapping allows the mapping of users with the same user names in the separate Windows-based and UNIX-based name spaces. When enabled, simple mapping maps users with identical user names between two name spaces. Administrators can associate a Windows domain to a UNIX NIS domain or a PCNFS server for simple mapping. Simple mapping provides an easy way to configure large number of users. Most users in the network have identical user names in both Windows-based network and UNIX-based network. Such users can be mapped using simple mapping.</p>

<p>Advanced mapping allows administrators to create explicit mappings between any Windows-based user name and a UNIX-based user name.</p>

<p>Advanced mapping provides the following features:</p>

<ul>
<li>It maps users that belong to domains different from Windows- or UNIX-based domains that are mapped using simple mapping. This includes users from other domains that need access to NFS resources.</li>

<li>It overrides a mapping created by simple mapping by explicitly associating a Windows-based user to a user with a different user name in the UNIX name space and vice versa.</li>

<li>It maps users that may not have the same user names in Windows and UNIX. Some users may have different user names due to historical or administrative reasons. These may be mapped so that they refer to the same actual user.</li>

<li>It maps users that should not have access to NFS resources. These users may be mapped to unassigned users, resulting in no access.</li>

<li>It maps multiple Windows-based users to a single UNIX-based user. This is used when there is a small set of UNIX-based users that represent a class of access to NFS resources.</li>
</ul>

<p>When a User Name Mapping client sends a request to resolve a mapping by providing a Windows or UNIX user name, the mapping server uses the following algorithm:</p>

<ol>
<li>If an advanced mapping is set for a user, it provides the advanced mapping. A Windows user name may be associated with only one UNIX user name, which is returned for a Windows user. On the other hand, a UNIX user may be associated with several Windows users. If a UNIX user name is associated with number of Windows user names, the one that is marked as primary is returned.</li>

<li>If a Windows user name or a UNIX user name is explicitly associated with an unmapped user, User Name Mapping returns that the user is unmapped. This is especially useful to override users who get mapped by default due to simple mapping. This is also useful for assigning an anonymous UID or GID.</li>

<li>If there is no explicit mapping created for the user, it looks for an implicit mapping where Windows and UNIX user names are the same. If it finds such a mapping, it returns it.</li>

<li>If there is no mapping&#8212;either implicit or explicit&#8212;for the user, it returns that the user is unmapped.</li>
</ol>

<p>With this sequence, an advanced mapping overrides the simple mapping between Windows users and UNIX users.</p>

<h2><a name="1997">Installing Username Mapping Server</a></h2>


<p>If you select User Name Mapping Server to map and authenticate your users, you need to install it on any computer that is running Windows NT or Windows 2000 and acting as a mapping server.</p>

<p><b>Follow these steps to install User Name Mapping Server from Windows:</b></p>

<ol>
<li>Run Services For UNIX setup.</li>

<li>Click Custom Installation.</li>

<li>Select User Name Mapping Server, and then select Run It From My Computer.</li>
</ol>

<h2><a name="1998">Administration Mechanisms</a></h2>


<p>User Name Mapping provides both a command-line- and a MMC-based graphical user interface (GUI) tool for managing the User Name Mapping Server as well as the mappings themselves. These two tools provide the following functions:</p>

<ul>
<li>Start and stop the User Name Mapping Server.</li>

<li>Create, delete, and modify mappings, for both simple and advanced mappings.</li>

<li>Set the refresh interval to refresh simple mappings periodically. Download UNIX and Windows user names from Windows domain controller and NIS master server and update simple mappings.</li>

<li>Map multiple Windows users to a single UNIX user. Set and mark a primary mapping for one-to-one Windows and UNIX user mapping.</li>

<li>List and view User Name Mappings; list only the advanced user mappings, or list simple User Name Mappings.</li>

<li>Restore and back up user mappings.</li>
</ul>

<p>In addition, Administrative Tools allow you to administer local or remote User Name Mappings.</p>

<h2><a name="1999">Lesson Summary</a></h2>


<p>The User Name Mapping Service, a component of SFU, provides the functionality of mapping Microsoft Windows-based network user names to UNIX-based network user names and vice versa. This is a means to associate user names in two networks for users who have different identities in Windows-based and UNIX-based domains.</p>

</body>
</html>



