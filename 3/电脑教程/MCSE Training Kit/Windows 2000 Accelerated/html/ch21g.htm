<!DOCTYPE html SYSTEM "msxhtml1-strict.dtd">
<html lang="en" xml:lang="en">
<head>
<link rel="stylesheet" type="text/css" href="styles.css" />
<script type="text/javascript" language="JavaScript" src="expando.js"></script>
<title>Lesson 6: Security Configuration and Analysis</title>


</head>
<body>
<div class="prevnext"><p><a href="ch21f.htm">3</a> <a href="ch21h.htm">4</a></p></div>

<h1><a name="1605">Lesson 6: Security Configuration and Analysis</a></h1>


<p>Security Configuration and Analysis is a tool that enables you to configure security, analyze security, view results, and resolve any discrepancies revealed by analysis. This tool is located on the Security Configuration and Analysis console. This lesson shows you how to use the Security Configuration and Analysis console.</p>

<hr />
<p><b>After this lesson, you will be able to</b></p>

<ul>
<li>Explain how the Security Configuration and Analysis console works</li>

<li>Use the Security Configuration and Analysis console to perform security configuration and analysis tasks</li>
</ul>

<p><b>Estimated lesson time: 25 minutes</b></p>
<hr />

<h2><a name="1606">How the Security Configuration and Analysis Console Works</a></h2>


<p>The Security Configuration and Analysis console uses a database to perform configuration and analysis functions. The security configuration and analysis database is a computer-specific data store. The database architecture allows the use of personal databases, security template import and export, and the combination of multiple security templates into one composite security template that can be used for analysis or configuration. New security templates can be incrementally added to the database to create a composite security template; overwriting a template is also an option. You can also create personal databases for storing your own customized security templates.</p>

<h2><a name="1607">Security Configuration</a></h2>


<p>The Security Configuration and Analysis console can be used to configure local system security. By using personal databases, you can import security templates created with the Security Templates console and apply these templates to the GPO for the local computer. This immediately configures the system security with the levels specified in the template.</p>

<h2><a name="1608">Security Analysis</a></h2>


<p>The state of the operating system and applications on a computer is dynamic. For example, security levels may occasionally be required to change temporarily in order to enable immediate resolution of an administration or network issue. After this security requirement is finished, the temporary change may not be reversed. This means that a computer may no longer meet the requirements for enterprise security.</p>

<p>The Security Configuration and Analysis console allows administrators to perform a quick security analysis. In the analysis, recommendations are presented alongside current system settings, and icons or remarks are used to highlight any areas where the current settings do not match the proposed level of security. Security Configuration and Analysis also offers the ability to resolve any discrepancies revealed by analysis.</p>

<p>Regular analysis enables an administrator to track and ensure an adequate level of security on each computer as part of an enterprise risk management program. Analysis is highly specified and information about all system aspects related to security is provided in the results. This enables an administrator to tune the security levels, and most important, to detect any security flaws that may occur in the system over time.</p>

<h2><a name="1609">Using Security Configuration and Analysis</a></h2>


<p>The following is the sequence of tasks required to use Security Configuration and Analysis:</p>

<ol>
<li>Accessing the Security Configuration and Analysis console</li>

<li>Setting a working security database</li>

<li>Importing a security template into a security database</li>

<li>Analyzing system security</li>

<li>Viewing security analysis results</li>

<li>Configuring system security</li>

<li>Exporting security database settings to a security template</li>
</ol>

<h3><a name="1610">Accessing the Security Configuration and Analysis Console</a></h3>


<p>The Security Configuration and Analysis console is the main tool for using the security configuration and analysis tool.</p>

<p><b>Follow these steps to access the Security Configuration and Analysis console:</b></p>

<ol>
<li>Do one of the following:

<ul>
<li>To add the Security Configuration and Analysis console to a new console, click Start, click Run, type <b>mmc</b> and then click OK.</li>

<li>To add the Security Configuration and Analysis console to an existing console, go directly to Step 2.</li>
</ul></li>

<li>On the Console menu, click Add/Remove Snap-In, and then click Add.</li>

<li>In the Add Standalone Snap-In dialog box, select Security Configuration And Analysis and click Add.</li>

<li>Click Close, and then click OK.</li>

<li>On the Console menu, click Save.</li>

<li>Enter the name to assign to this console and click Save.

<p>The console appears on the Administrative Tools menu.</p></li>
</ol>

<h3><a name="1611">Setting a Working Security Database</a></h3>


<p>The Security Configuration and Analysis console uses a database to perform configuration and analysis functions. Before you can configure or analyze security you must determine the working security database to use.</p>

<p><b>Follow these steps to set a working security database:</b></p>

<ol>
<li>In the Security Configuration and Analysis console (see Figure 21.16), right-click Security Configuration And Analysis.</li>
</ol>

<div class="figure">
<a href="javascript:fullSize('F21cc16x.htm')"><img src="images/F21cc16.JPG" /></a>
<div class="caption"><b>Figure 21.16</b> <i>The Security Configuration and Analysis console</i>
</div>
</div>


<ol start="2">
<li>Click Open Database.</li>

<li>In the Open Database dialog box, choose an existing personal database or type a filename to create a new personal database, and then click Open.

<ul>
<li>If you chose an existing personal database, this database is now the working security database.</li>

<li>If you created a new personal database, the Import Template dialog box appears.</li>
</ul></li>

<li>Select the security template to load into the security database, and then click Open.

<p>This database is now the working security database.</p></li>
</ol>

<h3><a name="1612">Importing a Security Template into a Security Database</a></h3>


<p>In Lesson 5, &quot;<a href="ch21f.htm#1590">Using Security Templates</a>,&quot; you learned to import a security template directly into a GPO. In this lesson you import a security template into the security database used in the Security Configuration and Analysis console.</p>

<p>You can merge several different templates into one composite template, which can then can be used for analysis or configuration of a system, by importing each template into a working database. The database merges the various templates to create one composite template, resolving conflicts in order of import; the last one imported takes precedence when there is contention. Only if you chose to overwrite will they not be merged into a composite template (stored configuration). Once the templates are imported to the selected database, you can analyze or configure the system.</p>

<p><b>Follow these steps to import a security template into a security database:</b></p>

<ol>
<li>In the Security Configuration and Analysis console, right-click Security Configuration And Analysis.</li>

<li>Open or create a working security database.</li>

<li>Select Import Template.</li>

<li>Select a security template file, and then click Open.</li>

<li>Repeat the previous step for each template you want to merge with previous templates into the database.</li>
</ol>

<blockquote><div class="note"><b>NOTE</b><hr />
If you want to replace the template rather than merge it into the stored template, click the Clear This Database Before Importing check box in the Import Template dialog box.</div></blockquote>

<h3><a name="1613">Analyzing System Security</a></h3>


<p>Security Configuration and Analysis performs security analysis by comparing the current state of system security against a security template that you have imported to a personal database. This template is the database configuration, and it is the template that contains your preferred or recommended security settings for that system.</p>

<p>Security Configuration and Analysis queries the system's security settings for all security areas in the database configuration. Values found are compared to the database configuration. If the current system settings match the database configuration settings, they are assumed to be correct. If not, the policies in question are displayed as potential problems that need investigation.</p>

<p><b>Follow these steps to analyze system security:</b></p>

<ol>
<li>In the Security Configuration and Analysis console, set a working database (if one is not currently set).</li>

<li>Right-click Security Configuration And Analysis, and then click Analyze Computer Now.</li>

<li>In the Perform Analysis dialog box, verify the path for the log file location, and then click OK.
<p>The different security areas are displayed as they are analyzed. Once this is complete, you can check the log file or review the results.</p></li>
</ol>

<blockquote><div class="note"><b>NOTE</b><hr />
To check the log file, right-click Security Configuration And Analysis, and then click View Log File.</div></blockquote>

<h3><a name="1614">Viewing Security Analysis Results</a></h3>


<p>The Security Configuration and Analysis console displays the analysis results organized by security area with visual flags to indicate problems. For each security policy in the security area, the current database and computer configuration settings are displayed.</p>

<p><b>Follow these steps to view security analysis results:</b></p>

<ol>
<li>In the Security Configuration and Analysis console, click Security Configuration And Analysis.</li>

<li>Double-click a security policies node (such as Account Policies), and then click the security area (such as Password Policy) for which you want to view results.</li>

<li>In the details pane (see Figure 21.17), the Policy column indicates the policy name for the analysis results, the Database Setting column indicates the security value in your template, and the Computer Setting column indicates the current security level in the system.

<ul>
<li>A red X indicates a difference from the database configuration.</li>

<li>A green check mark indicates consistency with the database configuration.</li>

<li>No icon indicates that the security policy was not included in your template and therefore not analyzed.</li>
</ul></li>
</ol>

<div class="figure">
<a href="javascript:fullSize('F21cc17x.htm')"><img src="images/F21cc17.JPG" /></a>
<div class="caption"><b>Figure 21.17</b> <i>Analysis results for Password Policy</i>
</div>
</div>


<h3><a name="1615">Configuring System Security</a></h3>


<p>Security Configuration and Analysis enables you to resolve any discrepancies revealed by analysis, including the following:</p>

<ul>
<li>Accepting or changing some or all of the values flagged or not included in the configuration if you determine the local system security levels are valid due to the context (role) of a particular computer</li>

<li>Configuring the system to the original database configuration values if you determine the system is not in compliance with valid security levels</li>

<li>Importing a more appropriate template, for the role of a particular computer, into the database as the new database configuration and applying it to the system</li>
</ul>

<p>You can repeat the import process and load multiple templates. The database merges the various templates to create one composite template, resolving conflicts in order of import; the last one imported takes precedence when there is contention. Once the templates are imported to the database, you can choose Configure System Now to apply the stored template (database configuration) to the system.</p>

<blockquote><div class="caution"><b>IMPORTANT</b><hr />
These changes are made to the stored template in the database, not to the security template file. The security template file only modified if you either return to Security Templates and edit that template or export the stored configuration to the same template file.</div></blockquote>

<p>Using the Security Configuration and Analysis console is not recommended when you are analyzing security for domain-based clients, as you would have to go to each client individually. In this case, you should return to the Security Templates console, modify the template, and reapply it to the appropriate GPO.</p>

<p><b>Follow these steps to configure system security:</b></p>

<ol>
<li>In the Security Configuration and Analysis console, set a working database (if one is not currently set).</li>

<li>Right-click Security Configuration And Analysis, and then click Configure Computer Now.</li>

<li>In the Configure System dialog box, click OK to use the default analysis log or enter a filename and valid path.
<p>The different security areas are displayed as they are configured. Once this is complete, you can check the log file or analyze system security and view the results.</p></li>
</ol>

<p><b>Follow these steps to edit the database security configuration:</b></p>

<ol>
<li>In the Security Configuration and Analysis console, click Security Configuration And Analysis.</li>

<li>Double-click a security policies node (such as Account Policies), and then click a security area (such as Password Policy).</li>

<li>In the details pane, double-click the security attribute you want to edit.</li>

<li>Click the Define This Policy In The Database check box to allow editing.</li>

<li>Enter a new value for the security policy, and then click OK.</li>

<li>Repeat the previous four steps for each security policy you want to edit.</li>
</ol>
<p><b>Follow these steps to view security configuration results:</b></p>

<ol>
<li>In the console from which you manage group policy, double-click the GPO.</li>

<li>In the console tree, click Security Settings.</li>

<li>Double-click a security policy node (such as Account Policies), and then click a security area (such as Password Policy).</li>

<li>Double-click the security attribute you want to view (such as Minimum Password Length).</li>
</ol>

<h3><a name="1616">Exporting Security Templates</a></h3>


<p>The export feature provides the ability to save a security database configuration as a new template file that can be imported into other databases, used as is to analyze or configure a system, or even redefined with the Security Templates console.</p>

<p><b>To export security database settings to a security template</b></p>

<ol>
<li>In the Security Configuration and Analysis console, right-click Security Configuration and Analysis.</li>

<li>If you have created a composite security template by importing multiple templates into one database and you want to save the composite template as a separate template file, click Export Template.</li>

<li>In the Export Template To dialog box, type a valid filename in the File Name box, type a path to where your template should be saved in the Save In list, and select the type of file you want to save in the Save As Type list, and then click Save.</li>
</ol>

<p><img src="images/practice.jpg" /></p>

<h2><a name="1617">Practice: Using Security Configuration and Analysis</a></h2>


<p>In this practice you access the Security Configuration and Analysis console, set a working security database, analyze system security, and then view the results.</p>

<h3><a name="1618">Exercise 1: Accessing the Security Configuration and Analysis Console</a></h3>


<p>In this exercise you access the Security Configuration and Analysis console, the main tool for using the Security Configuration and Analysis tool.</p>

<p>To access the Security Configuration and Analysis console</p>

<ol>
<li>Click Run, type <b>mmc</b> and then click OK.</li>

<li>On the Console menu, click Add/Remove Snap-In, and then click Add.</li>

<li>In the Add Standalone Snap-In dialog box, select Security Configuration And Analysis, and then click Add.</li>

<li>Click Close, and then click OK.</li>

<li>On the Console menu, click Save.</li>

<li>In the File Name box, type <b>security config &amp; analysis</b> to name this console and click Save.

<p>The console appears on the Administrative Tools menu.</p></li>
</ol>

<h3><a name="1619">Exercise 2: Setting a Working Security Database</a></h3>


<p>In this exercise you determine the working security database to use.</p>

<p>To set a working security database</p>

<ol>
<li>In the Security Configuration and Analysis console, right-click Security Configuration And Analysis.</li>

<li>Click Open Database.</li>

<li>In the Open Database dialog box, in the File Name box, type <b>new</b> for the new personal database file name, and then click Open.</li>

<li>In the Import Template dialog box, select the securedc security template to load into the security database, and then click Open.

<p>The <i>new</i> database is now the working security database, and it contains the <i>securedc</i> security template.</p></li>
</ol>

<h3><a name="1620">Exercise 3: Analyzing System Security</a></h3>


<p>In this exercise you analyze system security, comparing the settings in the security template <i>securedc</i> with the security settings currently running on your system.</p>

<p>To analyze system security</p>

<ol>
<li>Right-click Security Configuration And Analysis, and then click Analyze Computer Now.</li>

<li>In the Perform Analysis dialog box, verify the path for the log file location, and then click OK.

<p>The different security areas are displayed as they are analyzed.</p></li>
</ol>

<h3><a name="1621">Exercise 4: Viewing Security Analysis Results</a></h3>


<p>In this exercise you view the security analysis results.</p>

<p>To view security analysis results</p>

<ol>
<li>In the Security Configuration and Analysis console, click Security Configuration And Analysis.</li>

<li>Double-click the Account Policies node, and then click the Password Policy security area.
<p>In the details pane, what is indicated in the Policy column? In the Database Setting column? In the Computer Setting column?</p>


<p>In the Policy column, what does the red X indicate? What does the green check mark indicate?</p>

<p><a href="chaaa.htm#q50">Answer</a></p></li>
</ol>

<h2><a name="1622">Lesson Summary</a></h2>


<p>In this lesson you learned how the Security Configuration and Analysis console uses a database to perform configuration and analysis functions.</p>

<p>You learned that when you configure system security using the Security Configuration and Analysis console, changes are made to the stored template in the database, not to the security template file. The security template file is only modified if you either return to Security Templates and edit that template or export the stored configuration to the same template file.</p>

<p>You also learned that Security Configuration and Analysis performs security analysis by comparing the current state of system security against a security template that you have imported to a personal database. This template is the database configuration, and it is the template that contains your preferred or recommended security settings for that system.</p>

<p>In the practice portion of this lesson you accessed the Security Configuration and Analysis console, set a working security database, analyzed system security, and then viewed the results.</p>

</body>
</html>



