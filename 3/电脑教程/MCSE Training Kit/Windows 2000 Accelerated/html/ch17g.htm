<!DOCTYPE html SYSTEM "msxhtml1-strict.dtd">
<html lang="en" xml:lang="en">
<head>
<link rel="stylesheet" type="text/css" href="styles.css" />
<script type="text/javascript" language="JavaScript" src="expando.js"></script>
<title>Lesson 6: Troubleshooting Replication</title>


</head>
<body>
<div class="prevnext"><p><a href="ch17f.htm">3</a> <a href="ch17h.htm">4</a></p></div>

<h1><a name="1259">Lesson 6: Troubleshooting Replication</a></h1>


<p>This lesson describes problems you may encounter that relate to replication. Most problems involving poor directory information can be remedied with Active Directory Sites And Services. Problems with directory information might mean that:</p>

<ul>
<li>New directory information is not distributed in a timely fashion</li>

<li>Service requests are not handled in a timely fashion</li>
</ul>

<p>This lesson also describes how to check replication topology.</p>

<hr />
<p><b>After this lesson, you will be able to</b></p>

<ul>
<li>Troubleshoot replication</li>
</ul>

<p><b>Estimated lesson time: 5 minutes</b></p>
<hr />

<h2><a name="1260">Troubleshooting Replication</a></h2>


<p>Ineffective replication can result in declining Active Directory performance, which might include new users not being recognized. Ineffective replication or request handling primarily results in out-of-date directory information or unavailable domain controllers. Each problem or cause has one or more possible solutions. Replication troubleshooting scenarios are discussed in Table 17.4.</p>

<p><b>Table 17.4</b> <i>Replication Troubleshooting Scenarios</i></p>

<table>
<tr>
<th colspan="2">Symptom: Replication of directory information has stopped</th>
</tr>
<tr>
<th>Cause</th>
<th>Solution</th>
</tr>
<tr>
<td>The sites containing the clients and domain controllers are not connected by site links to domain controllers in other sites in the network. This results in a failure of directory information to be exchanged between sites.</td>
<td>Create a site link from the current site to a site that is connected to the rest of the sites in the network.</td>
</tr>
<tr>
<th colspan="2">Symptom: Replication has slowed but not stopped</th>
</tr>
<tr>
<th>Cause</th>
<th>Solution</th>
</tr>
<tr>
<td>Although all sites are connected by site links, your inter-site replication structure is not as complete as it might be. Directory information is replicated to all domain controllers if they are all connected by site links, but this is not optimal. If there are site links but no site link bridges, changes made to domain controllers may take an unacceptably long time to be distributed to other domain controllers that are not closely linked.</td>
<td>Make sure Active Directory has been configured properly. To span the multiple site links that need more efficient replication, consider creating a site link bridge or consider bridging all site links.</td>
</tr>
<tr>
<th colspan="2">Symptom: Replication has slowed but not stopped</th>
</tr>
<tr>
<th>Cause</th>
<th>Solution</th>
</tr>
<tr>
<td>The current network resources are insufficient to handle the amount of replication traffic. This can affect services unrelated to Active Directory, because the exchange of directory information is consuming an inordinate amount of network resources.</td>
<td>Increase the proportion of available network resources relative to directory traffic. Decrease the frequency of the replication schedule. Configure site link costs. To achieve network connections with more bandwidth, create site links or site link bridges.</td>
</tr>
<tr>
<td>Directory information changed at domain controllers in one site is not being updated in domain controllers in other sites in a timely fashion because inter-site replication is scheduled too infrequently.</td>
<td>Increase the frequency of replication. If the replication is occurring over a site link bridge, check which site link is restricting replication. Increase the time range during which replication can occur or the frequency of replication within the time frame for that site link.</td>
</tr>
<tr>
<td>Clients are having to request authentication, information, and services from a domain controller with a low-bandwidth connection. This may result in clients receiving a slow response for authentication, directory information, or other services.</td>
<td>Check if there is a site that will better serve the client's subnet. If a client who is experiencing poor service is isolated from domain controllers, consider creating another site with its own domain controller that will include the client. Install a connection with more bandwidth.</td>
</tr>
</table>

<h2><a name="1261">Checking Replication Topology</a></h2>


<p>Active Directory runs a process that considers the cost of inter-site connections, checks if any previously available domain controllers are no longer available, checks if new domain controllers have been added, and then uses this information to add or remove connection objects to create an efficient replication topology. This process does not affect manually created connection objects.</p>

<p><b> Follow these steps to check the replication topology:</b></p>

<ol>
<li>Click Start, point to Programs, point to Administrative Tools, and then click Active Directory Sites And Services.</li>

<li>In the Active Directory Sites And Services console tree, double-click the server that you want to use to check replication topology.</li>

<li>Right-click NTDS Settings, point to All Tasks, and then click Check Replication Topology</li>
</ol>

<h2><a name="1262">Lesson Summary</a></h2>


<p>In this lesson you examined some replication problems you may encounter and possible solutions to these problems.</p>

</body>
</html>



