<HTML>
<HEAD>
<TITLE>Lesson 1: Preparing to Install Windows 2000 Server</TITLE>
<link rel="STYLESHEET" type="text/css" href="mmserver.css">

<SCRIPT LANGUAGE="JavaScript"><!-- 
function fullSize(sURL){window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}
--></SCRIPT>
</HEAD>
<SCRIPT LANGUAGE="JavaScript">
<!--

function fullSize(sURL){
	window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}

function LibraryHeaderNav(sBackward, sForward, sImgLeftOff, sImgLeftOn, sImgRightOff, sImgRightOn, iH, iW, sImgLeftStyle, sImgRightStyle, sImgRuleStyle, sRuleColor, sRuleSize){
	var tableStr;
	//validate questionable args for defs
	tableStr = "<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 border=0 width=100%>";
	tableStr += "<TR VALIGN=top ALIGN=right>";

	tableStr += "<TD align=right class=" + sImgRuleStyle + ">&nbsp;</TD>";	
	
	tableStr += "<TD width=34 align=right class=" + sImgLeftStyle + ">";
	tableStr += "<A href='" + sBackward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgLeftOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgLeftOff + '\'\"';
	tableStr += " SRC='" + sImgLeftOff + "' vspace=0 hspace=0></a></TD>";
	
	tableStr += "<TD width=34 align=left class=" + sImgRightStyle + ">";
	tableStr += "<A href='" + sForward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgRightOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgRightOff + '\'\"';
	tableStr += " SRC='" + sImgRightOff + "' vspace=0 hspace=0></a></TD></TR>";

	tableStr += "<TR VALIGN=top>";
	tableStr += "<TD height=3 align=center colspan=3 class=" + sImgRuleStyle + ">";
	tableStr += "<HR color=" + sRuleColor + " size=" + sRuleSize + "></TD></TR></TABLE>";
	//alert(tableStr);
	document.write(tableStr);
}

 																						     //purple is: #aa22aa   orange is: #ff9900
LibraryHeaderNav("ch02a.htm", "ch02c.htm", "images/unit_p_a1.gif", "images/unit_p_a2.gif", "images/unit_p_b1.gif", "images/unit_p_b2.gif", 18, 34, "unit01", "unit02", "headerrule", "#aa22aa", "2");
//--></SCRIPT><P>

<A NAME="65"><h1>Lesson 1: Preparing to Install Windows 2000 Server</h1></A>
<p>Before you can begin to install Windows 2000 Server, you must prepare for the installation by gathering information and making decisions about how you want to install the software. This lesson gives you the foundation you need to install Windows 2000 Server. It describes the tasks that you should complete before moving on to the installation.</p>

<p>
<div class="sidebar"><blockquote>
<b>After this lesson, you will be able to</b> 

<ul>
<p><li>Prepare to install Windows 2000 Server by completing preinstallation tasks such as identifying hardware requirements and gathering the necessary installation information</li></p>
</ul>

<b>Estimated lesson time: 90 minutes</b> 
</blockquote></div>
</p>

<A NAME="66"><h2>Preparing for Installation</h2></A>
<p>During installation, the Windows 2000 Setup program asks you to provide information about how to install and configure Windows 2000. You should gather all the necessary information. Good preparation helps you avoid problems during and after the installation.</p>

<p>Before you begin the Windows 2000 installation process, review the list of tasks outlined in the table below. Each task is discussed in greater detail in the sections that follow. Initially, you should complete only the first two tasks in this table&#8212;verifying that your computer meets the minimum hardware requirements and checking hardware compatibility. The remaining tasks are completed during the actual installation of Windows 2000 Server, which you will perform in the exercises later in this chapter. This table is meant only to prepare you for the installation so that you can install Windows 2000 Server without any unnecessary delays.</p>

<p>
<table cellpadding=5 width="95%">
<tr> 
<th colspan="2">Task  </th></tr>
<tr>
<td valign="top">Verify that your computer meets the minimum hardware requirements. 
For example, your hard disk should meet the minimum space
requirements and preferably have a minimum of 2 gigabytes (GB)
of free disk space.  </td><td valign="top">&nbsp;</td></tr>
<tr>
<td valign="top">Check all hardware (network adapters, video drivers, sound cards, 
CD-ROM drives, PC cards, and so on) for compatibility by checking
the Windows 2000 Hardware Compatibility List (HCL).  </td><td valign="top">&nbsp;</td></tr>
<tr>
<td valign="top">Identify how you want to partition the hard disk drive on which you 
are going to install Windows 2000 Server.  </td><td valign="top">&nbsp;</td></tr>
<tr>
<td valign="top">Choose a file system that meets your requirements and provides the 
services you need. Choose NTFS unless you need to run more than
one operating system on your computer.  </td><td valign="top">&nbsp;</td></tr>
<tr>
<td valign="top">Select a licensing mode. You can switch to per-seat from per-server 
mode after installation, but not to per-server from per-seat.  </td><td valign="top">&nbsp;</td></tr>
<tr>
<td valign="top">Choose the type of network group (workgroup or domain) your 
computer will join. If you are joining a domain, you need additional
information such as the domain name and the computer account name
created for you. With an administrator account and password in the
domain, you can create a computer account in the domain.  </td><td valign="top">&nbsp;</td></tr>
<tr>
<td valign="top">Determine whether to perform a new installation or upgrade an 
existing version of Windows NT Server. Windows NT Workstation
and Windows 9<i>x</i> cannot be upgraded to Windows 2000 Server.  </td><td valign="top">&nbsp;</td></tr>
<tr>
<td valign="top">Select an installation method: Setup boot disks, CD-ROM, or 
over-the-network.  </td><td valign="top">&nbsp;</td></tr>
<tr>
<td valign="top">Choose which components you need to install, such as Networking 
Services or Microsoft Indexing Service.  </td><td valign="top">&nbsp;</td></tr>
</table></p>


<p>In addition to the tasks in the checklist, you should perform the following tasks to prepare for installation and to eliminate potential problems.</p>

<p><b>Working with Domain Name System (DNS)</b></p>

<p>When you create a Windows 2000 domain, the DNS service must be running and configured. If you are joining a domain, you must know the DNS name of the domain that your computer is joining. If DNS is not running, it is installed automatically when you create a domain controller or when you promote a server to a domain controller.</p>

<p><b>Recording Information</b></p>

<p>You should write down the following information: previous operating system (if any), name of the computer (if on a network), name of the workgroup or domain (if on a network), and the IP address (if there is no Dynamic Host Configuration Protocol [DHCP] server or an existing DHCP server will not be used for dynamic IP addressing).</p>

<p><b>Backing Up Files</b></p>

<p>Before you install Windows 2000 Server, you should back up the files that you want to preserve. You can back up files to a disk, a tape drive, or another computer on the network.</p>

<p><b>Uncompressing the Drive</b></p>

<p>Uncompress any DriveSpace or DoubleSpace volumes before installing Windows 2000. You should not install Windows 2000 on a compressed
drive unless the drive was compressed with the NTFS compression utility. DriveSpace or DoubleSpace volumes are created in Windows 9<i>x</i>. Windows 9<i>x</i> cannot be upgraded to Windows 2000 Server but can coexist on the same computer running Windows 2000 Server.</p>

<p><b>Disabling Disk Mirroring</b></p>

<p>If you are installing a clean copy of Windows 2000 and you have Windows NT disk mirroring installed on your target computer, disable it before running Setup. You can re-enable disk mirroring after completing the installation. If you are upgrading to Windows 2000, you can leave Windows NT mirroring enabled during Setup.</p>

<p>
<div class="note"><blockquote><b>NOTE</b> <hr>
Disabling hardware level disk mirroring to complete a new installation of Windows 2000 is not necessary since the operating system is unaware of redundant array of inexpensive disks (RAID) implemented in hardware.</blockquote></div>
</p>

<p><b>Disconnecting UPS Devices</b></p>

<p>If you have UPS equipment connected to your target computer, disconnect the connecting serial cable before running Setup. Windows 2000 Setup attempts to automatically detect devices connected to serial ports, and UPS equipment can cause problems with the detection process.</p>

<p><b>Reviewing Applications</b></p>

<p>Before starting the Windows 2000 Server Setup program, be sure to read Readme.doc (in the root directory of the Windows 2000 Server installation CD-ROM) for information regarding applications that need to be disabled or removed before running Setup. You may need to remove virus-scanning software, third-party network services, or client software before running the Windows 2000 Server installation.</p>

<p><b>Checking the Boot Sector for Viruses</b></p>

<p>A boot sector virus will cause the installation of Windows 2000 to fail. To verify that the boot sector is not infected with a virus, run the Makedisk.bat file in the \Valueadd\3rdparty\CA_antiv directory on the Windows 2000 Server installation CD-ROM. The Makedisk.bat utility creates a diskette that is used to check the boot sector. After creating this diskette, boot the computer with the diskette inserted. This will run a boot sector virus check. After the utility has run, remove the diskette and proceed to the next preinstallation step.</p>

<p><b>Gathering Materials</b></p>

<p>Gather the following materials to prepare for the Windows 2000 installation:</p>

<ul>
<p><li>Read any documentation pertaining to installing Windows 2000 for updated installation information. Review the pertinent .txt and .doc files located on the Windows 2000 Server installation CD-ROM.</li></p>

<p><li>Make sure you have all device driver disks and configuration settings for third-party hardware, including any third-party device driver disks and documentation.</li></p>

<p><li>Have the Windows 2000 Server installation CD-ROM or a network share with the Windows 2000 Server files available.</li></p>

<p><li>Format three 3.5-inch 1.44 MB floppy disks (if creating optional Setup Startup disks).</li></p>
</ul>

<p>
<div class="warning"><blockquote><b>IMPORTANT</b><hr>
Windows NT 4.0 Setup disks are not compatible with Windows 2000.</blockquote></div>
</p>

<A NAME="67"><h2>Minimum Hardware Requirements</h2></A>
<p>You should be familiar with the minimum hardware requirements necessary to install and operate Windows 2000 Server so that you can determine whether your system meets these requirements. The minimum installation requirements for Windows 2000 are listed in the following table.</p>

<p>
<table cellpadding=5 width="95%">
<tr> 
<th>Component  </th>
<th>Minimum requirement  </th></tr>
<tr>
<td valign="top">Processor  </td>
<td valign="top"> 32-bit Pentium 133 MHz.  </td></tr>
<tr>
<td valign="top">Free hard disk space  </td>
<td valign="top">One or more hard disks where %systemroot% (C:\WINNT by default) is located on a partition with at least 671 MB of free space (2 GB is recommended).  </td></tr>
<tr>
<td valign="top">Memory  </td>
<td valign="top">64 MB for networking with one to five client computers; 128 MB minimum is recommended for most network environments.  </td></tr>
<tr>
<td valign="top">Display  </td>
<td valign="top">VGA monitor capable of 640 x 480 (1024 x 768 recommended).  </td></tr>
<tr>
<td valign="top">CD-ROM drive  </td>
<td valign="top">12x or faster recommended; not required for network installations.  </td></tr>
<tr>
<td valign="top">Additional drives  </td>
<td valign="top">High-density 3.5-inch disk drive, unless your CD-ROM is bootable and supports starting the Setup program from a CD-ROM.  </td></tr>
<tr>
<td valign="top">Optional components  </td>
<td valign="top">Mouse or other pointing device.  <p>For network installation: a network adapter and an
MS-DOS-based network operating system that permits connection to a server containing the Windows 2000 Setup files.</p></td></tr>
</table></p>




<A NAME="68"><h2>Hardware Compatibility</h2></A>
<p>Windows 2000 Setup automatically checks your hardware and software and reports any potential conflicts. However, to ensure a successful installation, you should make sure that your computer hardware is compatible with Windows 2000 Server before starting the setup process. To do this, verify that your hardware is on the HCL. The HCL is included on your Windows 2000 Server installation CD-ROM in the Support folder in Hcl.txt. The HCL lists each hardware model that has passed the Hardware Compatibility Tests (HCTs). The list also indicates which devices Windows 2000 Server supports. Testing is conducted by Windows Hardware Quality Labs (WHQL) and by some hardware vendors. Installing Windows 2000 Server on a computer that does not have hardware listed in the HCL might not be successful.</p>

<p>
<div class="note"><blockquote><b>NOTE</b> <hr>
Microsoft releases an updated HCL on a regular basis. Review the
most up-to-date list of supported hardware at the Microsoft WHQL Web
site, <i><a href="http://www.microsoft.com/hwtest/hcl" target="_window2">http://www.microsoft.com/hwtest/hcl</a></i>. If this URL fails, try
<i><a href="http://www.microsoft.com/isapi/redir.dll?prd=Win2000HCL&amp;pver=1" target="_window2">http://www.microsoft.com/isapi/redir.dll?prd=Win2000HCL&amp;pver=1</a></i> .
This URL should direct you to the WHQL Web site. If it doesn't display the WHQL Web site, search <i><a href="http://www.microsoft.com" target="_window2">http://www.microsoft.com</a></i> by using the keyword &quot;HCL.&quot;</blockquote></div>
</p>

<p>A hardware model is &quot;supported&quot; if it is listed on the HCL and you are using a Microsoft-supplied driver to control that hardware. The term &quot;unsupported&quot; does not imply anything about the relative quality of hardware or of third-party drivers. Many unsupported computers and devices work correctly with Windows 2000. However, the Windows 2000 support staff at Microsoft does not offer a full range of support services for problems specific to unsupported hardware or drivers.</p>

<p>Microsoft supports only those devices on the HCL. If one of the computer's devices is not on the HCL, contact the device manufacturer to request a Windows 2000 driver, if it exists.</p>

<A NAME="69"><h2>Disk Partitions</h2></A>
<p>The Windows 2000 Server Setup program allows you to install Windows 2000 Server onto an existing partition or to create a partition and then install Windows 2000 onto the new one. During installation, the Setup program examines the hard disk. Depending on the state of the disk, you will be provided with some or all of the following partitioning options during the installation:</p>

<ul>
<p><li>If the entire hard disk is unpartitioned, you must create and size the installation partition.</li></p>

<p><li>If the disk has partitions, but there is enough unpartitioned disk space, you can create and size the installation partition by using that unpartitioned space.</li></p>

<p><li>If there is an existing partition that is large enough, you can install Windows 2000 Server onto that partition.</li></p>

<p><li>If the hard disk has an existing partition, you can delete it to create more unpartitioned disk space and then use that unpartitioned space to create the Windows 2000 partition.</li></p>

<p><li>If you specify any action that will cause information to be erased, you will be prompted to confirm your choice. If you delete an existing partition, you will cause any data on that partition to be erased. Performing a new installation of Windows 2000 on a partition that contains another operating system will cause that operating system to be overwritten.</li></p>
</ul>

<p>Although you can use the Windows 2000 Setup program to create other partitions, you should create and size only the installation partition. After Windows 2000 is installed, use the Disk Management tool to partition any remaining unpartitioned space on the hard disk.</p>

<A NAME="70"><h3>Sizing the Installation Partition</h3></A>
<p>The Windows 2000 Server Setup program requires a boot partition of at least 671 MB of free space to install all Windows 2000 operating system files. However, it is recommended that you create a boot partition of at least 2 GB to allow for future installations of files and programs, such as the Windows 2000 paging file, operating system tools, and operating system updates. The boot partition holds the core operating system files.</p>

<p>The system partition is the partition that holds the files needed to begin the initial load of Windows 2000. On an <i>x</i>86-based computer, the operating system starts from the system partition. This means that Windows 2000 looks for certain files, such as Ntldr, Ntdetect.com, and Boot.ini in the root directory, usually the C: drive (Disk 0) when the computer is started. The operating system cannot start unless the system partition is marked active.</p>

<p>The boot partition is where Windows 2000 Server is installed. It contains the operating system parent directory (Winnt, by default), the \System32 subdirectory, the Windows 2000 kernel, and all other files required to run the operating system. If Windows 2000 Server is installed on the active partition, it is both the boot and system partition.</p>

<p>The disk partition where you store Windows 2000 files must be on a permanent hard disk and must have enough unused disk space to hold all the files. This partition must be formatted either with the NTFS (NTFS 4.0 or NTFS 5.0) or with the FAT16 or FAT32 file systems. However, you cannot install Windows 2000 to a FAT16 or FAT32 partition that has implemented disk compression, such as Microsoft DriveSpace.</p>

<p>
<div class="note"><blockquote><b>NOTE</b> <hr>
In Windows 2000, if you choose to format NTFS during the installation, it will format the partition directly to NTFS. In previous versions, the partition was formatted FAT and then converted to NTFS. This new process allows you to create partitions larger than 4 GB, although a limit of 7.8 GB still exists on the PC architecture.</blockquote></div>
</p>

<p>Winnt.exe and Winnt32.exe, the Setup executable files, report an error if they are unable to find a drive with enough free disk space available (greater than 671 MB), or if the drive specified with the /t: or /tempdrive: switch has insufficient free disk space. If such an error occurs, you must free some disk space and then run Winnt or Winnt32 again.</p>

<p>Windows 2000 looks for certain files in the root directory of the active partition when you start your computer; however, the Windows 2000 operating system may be installed on another drive, such as drive D, as long as the drive is configured with a supported file system. If you want to dual-boot your computer to operating systems that do not support NTFS, such as Windows 98, drive C must be FAT16 or FAT32.</p>

<p>If a system's hard disk contains basic input/output system (BIOS) controlled partitions, other file systems such as network file system (NFS), stripe sets, volume sets, or mirrors, those elements appear on the Setup screen as partitions of an unknown type. To avoid deleting elements inadvertently, do not use Setup to delete partitions that are displayed as unknown.</p>

<p>If you are installing a new copy of Windows 2000 on a partition mirrored in software, you must disable mirroring before running Setup and then reestablish mirroring after installation is complete. However, if you are upgrading Windows NT Server versions 3.51 or 4.0 or Windows 2000 Server, you can leave mirroring enabled during Setup.</p>

<p>Do not install Windows 2000 or upgrade to Windows 2000 on a compressed drive unless the drive was compressed with the NTFS file system compression utility. Uncompress a Windows 9<i>x</i> DriveSpace or DoubleSpace volume before running Windows 2000 Setup on it.</p>

<p>If you are setting up a dual-boot configuration of Windows 2000 with another operating system such as MS-DOS, Windows 3.0, Windows 95, Windows 98,
or Windows NT, install Windows 2000 onto its own partition. Although it is possible to install Windows 2000 onto the same partition as an existing
operating system, it is highly recommended that you install Windows 2000
onto a separate partition, because the Windows 2000 Setup program can overwrite files in the Program Files folder installed by other operating systems.</p>

<A NAME="71"><h2>File Systems</h2></A>
<p>When you are installing Windows 2000 Setup onto unpartitioned disk space, you are prompted to select the file system that should be used to format the partition. You should decide which file system to use before installing Windows 2000 Server. Windows 2000 supports NTFS and the FAT file system. There are two FAT file systems: FAT16 and FAT32.</p>

<A NAME="72"><h3>NTFS</h3></A>
<p>Windows 2000 supports NTFS, a file system with all the basic capabilities of FAT, plus advanced storage features such as security, compression, and better scalability to large volumes. Windows 2000 and Windows NT are the only operating systems designed to access data on a local hard disk that is formatted with NTFS.</p>

<p>
<div class="note"><blockquote><b>NOTE</b> <hr>
There are third-party utilities designed to provide access to NTFS partitions from MS-DOS and other operating systems; however, these utilities are not supported by Microsoft.</blockquote></div>
</p>

<p>Windows 2000 includes a new version of NTFS: NTFS version 5.0. NTFS version 5.0 offers many performance enhancements and a host of new features including per-user disk quotas, file encryption, and reparse points. Reparse points are used to extend file system features. Applications can trap open operations against file system objects and execute their own code before returning file data. (Reparse points are discussed in more detail in <A HREF="ch04a.htm#929">Chapter 4</A>, &quot;Microsoft Windows 2000 File Systems.&quot;) You can also add disk space to NTFS version 5.0 volumes without rebooting.</p>

<p>NTFS requires Windows 2000 or Windows NT. If the computer is booted under a different operating system, that operating system is not able to access the NTFS partitions.</p>

<p>You should use NTFS when the Windows 2000 partition requires any of the following features:</p>

<ul>
<p><li><b>File-level and directory-level local security</b> NTFS allows you to control access to files and directories regardless of whether access is local or over the network.</li></p>

<p><li><b>Disk compression</b> NTFS compresses files to store more data on the partition.</li></p>

<p><li><b>Disk quotas</b> NTFS allows you to control disk usage on a per-user basis.</li></p>

<p><li><b>Encryption</b> NTFS allows you to encrypt file data on the physical hard disk.</li></p>
</ul>

<p>NTFS is generally the recommended file system. It is the only one that supports Active Directory services, which includes many important features such as domains and domain-based security. However, in certain cases it might be necessary to use a FAT16 or FAT32 partition in certain dual-boot situations. If you plan to promote a server to a domain controller, format the installation partition with NTFS.</p>

<A NAME="73"><h3>FAT16 and FAT32</h3></A>
<p>The FAT16 and FAT32 file systems allow access by, and compatibility with, more than one operating system. To boot between Windows 2000 and another operating system, the Windows 2000 system partition must be formatted either with the FAT16 or the FAT32 file system. If you select FAT and the partition is smaller than 2048 MB, Setup formats the hard drive as FAT16. On partitions larger than 2 GB, Setup automatically formats the hard drive as FAT32.</p>

<p>
<div class="note"><blockquote><b>NOTE</b> <hr>
Windows 2000 supports FAT32 volumes of any size created by Windows 95 OSR2 or Windows 98. However, Windows 2000 formats FAT32 volumes only up to 32 GB in size. This limitation stems from memory constraints in recovery utilities such as Autochk.</blockquote></div>
</p>

<p>FAT16 and FAT32 do not offer many of the features supported by NTFS, such as file-level security. Therefore, in most situations, you should format the hard disk with NTFS. The only reason to use FAT16 or FAT32 is for dual booting. If you are setting up a computer for dual booting, you would have to format only the system partition as FAT16 or FAT32. For example, if drive C is the system partition, you could format drive C as FAT16 or FAT32 and format drive D as NTFS. However, Microsoft does not recommend dual booting a server.</p>

<A NAME="74"><h3>File System Considerations</h3></A>
<p>If the system and boot partitions are different partitions, Windows 2000 Setup will format only the boot partition by default. You must take additional steps during setup to format the system partition. Use the following guidelines and the table below to help you decide which file system format to use for your boot partition.</p>

<ul>
<p><li>You may use an existing partition that is already formatted. The default option keeps the existing file system intact, preserving all files on that partition.</li></p>

<p><li>You can convert an existing partition to NTFS to make use of Windows 2000 security and other file system enhancements. This option preserves existing files, but only Windows 2000 has access to that partition.</li></p>

<p><li>You can reformat an existing partition either to NTFS or to the FAT file system, which erases all existing files on that partition. If you choose to reformat the partition as NTFS, remember that only Windows 2000 and Windows NT has access to that partition.</li></p>

<p><li>You should choose the FAT option if your boot partition is smaller than 2 GB and you want to gain access to that partition when running MS-DOS, Windows 3.<i>x</i>, Windows 95, Windows 98, or OS/2 on this computer. Setup formats the disk with FAT.</li></p>

<p><li>You should choose the FAT option if you are dual-booting with the OSR2 release of Windows 95, Windows 98, or Windows NT and you have a boot partition larger than 2 GB. Setup formats the disk with FAT32.</li></p>

<p><li>You should choose the NTFS option if you are running Windows 2000 and you want to take advantage of the features in NTFS. (See the following table.) Setup formats the boot partition with NTFS version 5.0.</li></p>
</ul>

<p>
<div class="note"><blockquote><b>NOTE</b> <hr>
You cannot convert FAT16 volumes to FAT32 in Windows 2000.</blockquote></div>
</p>

<p>The following table compares the different features of the three file systems supported by Windows 2000:</p>

<p>
<table cellpadding=5 width="95%">
<tr> 
<th>Operating system  </th>
<th>FAT16  </th>
<th>FAT32  </th>
<th>NTFS  </th></tr>
<tr>
<td valign="top">Overall compatibility  </td>
<td valign="top">Recognized by MS-DOS, Windows 3.<i>x,</i> Windows 95, Windows 98, Windows NT, Windows 2000, and OS/2.</td>
<td valign="top">Recognized only by Windows 95 OSR2, Windows 98, Windows NT and Windows
   2000.</td>
<td valign="top">Recognized only by  Windows NT and Windows 2000. When the computer is running another operating system (such as MS-DOS, Windows 95, Windows 98, or OS/2), that operating system cannot gain access to files on an NTFS volume on the same computer.</td></tr>
<tr>
<td valign="top">Supported by MS-DOS and Windows 3.<i>x</i>  </td>
<td valign="top">Yes  </td>
<td valign="top">No  </td>
<td valign="top">No  </td></tr>
<tr>
<td valign="top">Supported by Windows 95 pre-OSR2 releases  </td>
<td valign="top">Yes  </td>
<td valign="top">No  </td>
<td valign="top">No  </td></tr>
<tr>
<td valign="top">Supported by Windows 95 OSR2
and Windows 98  </td>
<td valign="top">Yes  </td>
<td valign="top">Yes  </td>
<td valign="top">No  </td></tr>
<tr>
<td valign="top">Supported by Windows NT 3.51 </td>
<td valign="top">Yes   </td>
<td valign="top">No  </td>
<td valign="top">Yes, but Windows NT 3.51 does not support NTFS version 5.0.  </td></tr>
<tr>
<td valign="top">Supported by Windows NT 4.0 </td>
<td valign="top">Yes  </td>
<td valign="top">No  </td>
<td valign="top"> Yes. Windows NT 4.0  supports NTFS version 5.0 with Service Pack 4 or later installed.  </td></tr>
<tr>
<td valign="top">Supported by Windows 2000  </td>
<td valign="top">Yes  </td>
<td valign="top">Yes  </td>
<td valign="top">Yes  </td></tr>
</table></p>

<A NAME="75"><h2>Licensing</h2></A>
<p>Windows 2000 Server supports two licensing modes: Per Server and Per Seat. In Per Server mode, Client Access Licenses (CALs) are assigned to a server. In Per Seat mode, each computer that accesses the Windows 2000 Server computer requires a separate CAL.</p>

<A NAME="76"><h3>Per-Server Licensing</h3></A>
<p>With Per Server licensing, CALs are assigned to a particular server. Each CAL allows one connection per client computer to the server for basic network services. You must have at least as many CALs that are dedicated to the server as the maximum number of client computers that could be used to connect concurrently to that server.</p>

<p>Per Server licensing is preferred by small companies with only one computer running Windows 2000 Server. It is also useful for Internet or remote-access servers where client computers might not be licensed as Windows 2000 network client computers. In this situation, Per Server licensing allows you to specify a maximum number of concurrent server connections and reject any additional logon attempts.</p>

<p>
<div class="note"><blockquote><b>NOTE</b> <hr>
If you are unsure which licensing mode to use, choose Per Server because you can change, only once, from Per Server to Per Seat licensing at no additional cost (by double-clicking the Licensing icon in the Control Panel). It is not necessary to notify Microsoft to make this change. This is a one-way conversion; you cannot convert from Per Seat to Per Server.</blockquote></div>
</p>

<A NAME="77"><h3>Per-Seat Licensing</h3></A>
<p>The Per Seat licensing mode requires a separate CAL for each client computer used to access Windows 2000 Server for basic network services. After a client computer has a CAL, it can be used to access any computer running Windows 2000 Server on the enterprise network. Per Seat licensing is often more economical for large networks in which client computers will be used to connect to more than one server.</p>

<p>With Terminal Services, the licensing mode is usually Per Seat, except with the Terminal Services Internet Connector license, where the mode would always be Per Server. If you plan to use Terminal Services, you need to install two components: Terminal Services and Terminal Services Licensing.</p>

<p><b>Client Access License (CAL)</b></p>

<p>A CAL gives client computers the right to connect to computers running Windows 2000 Server so that the client computers can connect to network services, shared folders, and print resources. When you install Windows 2000 Server, you must choose a CAL mode: Per Seat or Per Server.</p>

<p>The following services do not require CALs:</p>

<ul>
<p><li>Anonymous or authenticated access to Windows 2000 Server with Microsoft Internet Information Services (IIS) version 4.0 or a Web-server application that provides Hypertext Transfer Protocol (HTTP) sharing of Hypertext Markup Language (HTML) files</li></p>

<p><li>Telnet and File Transfer Protocol (FTP) connections</li></p>
</ul>

<p>
<div class="note"><blockquote><b>NOTE</b> <hr>
If your company uses Microsoft BackOffice products, you must also have licenses for the BackOffice products. A Windows 2000 license does not cover BackOffice products.</blockquote></div>
</p>

<A NAME="78"><h2>Workgroups and Domains</h2></A>
<p>During installation, you must choose the type of network you want the computer to join. A computer running Windows 2000 can join one of two types of networks: workgroup or domain.</p>

<A NAME="79"><h3>Joining a Workgroup</h3></A>
<p>When joining a workgroup, assign a workgroup name to the computer. The workgroup name assigned can be the name of an existing workgroup or the name of a workgroup created during installation. Whether assigning a new workgroup name or using an existing one, the computer appears as a member of that workgroup when other computer users in the network browse for network resources.</p>

<p>A domain and a workgroup can share the same name. However, consider the following:</p>

<ul>
<p><li>The workgroup computers are not members of the domain and are not included in domain administration.</li></p>

<p><li>The workgroup computers appear with the domain computers in Windows 2000 Explorer.</li></p>
</ul>

<A NAME="80"><h3>Joining a Domain</h3></A>
<p>During installation, the Windows 2000 Setup wizard provides access to join an existing domain. The wizard stops for the DNS name of the domain.</p>

<p>Before a computer running Windows NT or Windows 2000 can join a domain, a computer account must be created in or added to the domain database. Only users who have the Join A Computer To The Domain permission can create a computer account. Members of the Administrators, Domain Administrators, or Account Operators groups have this user right by default.</p>

<p>When joining a domain, create a computer account for that computer in advance, or create it during the installation process by selecting the check box Create A Computer Account In The Domain. Next, supply a user account and password that have the authority to add computer accounts in the domain. By default, this must be an Administrator account.</p>

<p>
<div class="note"><blockquote><b>NOTE</b> <hr>
When joining a domain, even if the computer account has been previously created, domain credentials must be supplied.</blockquote></div>
</p>

<p>At least one domain controller and one DNS server must be online when installing a computer in the domain. If you install Windows 2000 Server as a stand-alone server without joining a domain, you can join a domain later by using the Network Identification tab in the System Properties dialog box, as shown in Figure 2.1.</p>

<p>
<A HREF="javascript:fullSize('f02xx01x.htm')"> <img src="images/f02xx01.jpg" border=0 ALT = "Click to view at full size."> </A>
</p><p>
<!--caption--><b>Figure 2.1</b> <i>The Network Identification tab in the System Properties dialog box</i><!--/caption-->
</p>

<A NAME="81"><h2>Upgrade or New Installation</h2></A>
<p>Before running Windows 2000 Server Setup, you need to determine whether to upgrade your existing installation of Windows NT or to perform a new installation.</p>

<p><i>Upgrading</i> is the process of installing Windows 2000 Server in a directory that currently contains certain versions of Windows NT. An upgrade automatically installs Windows 2000 Server into the same directory as the currently installed operating system. The versions of Windows NT from which you can upgrade are:</p>

<ul>
<p><li>Windows NT Server 3.51</li></p>

<p><li>Windows NT Server 4.0 Server or Windows NT 4.0 Terminal Server</li></p>
</ul>

<p>If you have Windows NT 4.0 Server Enterprise Edition, you can upgrade to Windows 2000 Advanced Server, but not to Windows 2000 Server. If you have a version of Windows NT Server earlier than 3.51, you cannot upgrade directly to Windows 2000 Server; you must first upgrade to Windows NT Server 3.51 or 4.0. Additionally, Windows NT Workstation and Windows 2000 Professional cannot be upgraded to Windows 2000 Server.</p>

<p><i>Installing</i>, in contrast with upgrading, is the process of placing the operating system in a new directory, wiping out the previous operating system at setup, or installing Windows 2000 Server on a disk or disk partition with no previous operating system. If you want to perform a new installation on a disk partition that contains applications you want to keep, you will need to back them up and reinstall them after installing Windows 2000 Server.</p>

<p>If you want to perform a new installation of Windows 2000 Server on a partition that previously contained Windows 2000 Server, and you have documents under My Documents that you want to save, back up the documents in the Documents and Settings directory and copy the documents back into the folder after completing the installation. My Documents points to subdirectories below the Documents and Settings directory.</p>

<A NAME="82"><h2>Installation Methods</h2></A>
<p>There are three methods available to install Windows 2000 Server on the Intel platform:</p>

<ul>
<p><li>Setup boot disk</li></p>

<p><li>CD-ROM</li></p>

<p><li>Over-the-network</li></p>
</ul>

<A NAME="83"><h3>Setup Boot Disks</h3></A>
<p>Windows 2000 Server is distributed on a CD-ROM and includes four setup floppy disks. These Setup boot disks are required if you are installing Windows 2000 Server on an <i>x</i>86-based computer that is not running MS-DOS or a Windows operating system and does not support the bootable CD-ROM format. These disks also let you start Windows 2000 later, when it might not be able to start on its own because of a computer error, and to initiate an emergency repair.</p>

<p>You can create a set of Setup Boot disks by running Makeboot.exe or Makebt32.exe from the \Bootdisk directory on the Windows 2000 Server installation CD-ROM. Makeboot.exe is a 16-bit DOS application that runs on MS-DOS, 16-bit operating systems like Windows 3.11, and Windows 9<i>x</i>. Makebt32.exe is a 32-bit application that runs on Windows NT and
Windows 2000.</p>

<p>After the initial setup load process, Windows 2000 starts and the remainder of setup runs under Windows 2000, which is helpful for troubleshooting. For example, the install process displays a standard Windows 2000 error check code if an error occurs during setup.</p>

<p>To start an installation of Windows 2000 Server by using the Setup Boot disks, you should first turn off the computer, insert the disk labeled Windows 2000 Setup Boot Disk into drive A, and then turn on your computer. Setup starts automatically.</p>

<p>
<div class="note"><blockquote><b>NOTE</b> <hr>
If you are installing Windows 2000 Server on a computer with no previous operating system, and you are using an MS-DOS boot floppy disk (performing an over-the-network setup), you have to format the drive first. However, if you are using the Windows 2000 Setup disks to start Setup, you can format the drive during Setup.</blockquote></div>
</p>

<p>During loading from the Setup boot floppies, the bar at the bottom of the screen displays the Windows 2000 components being loaded. These components are described in the following sections.</p>

<p><b>Setup Disk One</b></p>

<p>The Setupldr.bin file starts the Setup. The computer is inspected and machine identification data is collected. If a driver is not found for the fixed disk that contains the boot partition, you might need to load a third-party driver. Follow the instructions in Setup to load a third-party SCSI or RAID controller driver. The text mode portion of Windows 2000 Setup is loaded. The Ntkrnlmp.exe file loads the Windows 2000 Executive.</p>

<p><b>Setup Disk Two</b></p>

<p>This disk loads the HAL, configuration tools, fonts, locale-specific data, drivers, and controllers. Windows 2000 Setup continues to run in text mode.</p>

<p><b>Setup Disk Three</b></p>

<p>This disk loads the Compaq drive array and disk controller drivers. During this process, Setup detects the appropriate drivers for the system and loads the dynamic volume support (dmboot1). Windows 2000 Setup continues to run in Text mode.</p>

<p><b>Setup Disk Four</b></p>

<p>This disk loads the floppy disk drivers; SCSI CD-ROM, floppy, and fixed drive drivers; and file system drivers (FAT, NTFS, and CDFS). Windows 2000 is loaded and takes over the setup process. The Welcome screen appears, and you can choose whether to set up Windows 2000, repair an existing version of Windows 2000, or quit Setup. At this point, the CD-ROM drive is accessed. Setup searches for previous versions of Windows and any existing partitions. You can delete existing partitions and create new ones. After configuring the partitions, you must choose a file system (NTFS or FAT). The partition is then formatted. When formatting is complete, file copy begins. After the files are copied, the system reboots. Remove any floppy disks before the reboot.</p>

<p><b>Beyond Disk Four</b></p>

<p>After the system reboots, Windows 2000 Setup starts in GUI mode. CD-ROM files continue to be copied to the hard disk. Setup detects and installs devices and then prompts for user information. You must then choose which components to install. From there, choose the type of network installation (typical or custom) and the type of network (workgroup or domain) to join. Setup builds the file list and installs and configures the components.</p>

<A NAME="84"><h3>Bootable CD-ROM</h3></A>
<p>If your Windows 2000 Server installation files are on compact disc and your computer's BIOS supports the Bootable CD-ROM (no-emulation mode) format, insert the Windows 2000 Server compact disc into the CD-ROM drive and then turn off your computer. When you turn your computer back on, Setup starts automatically.</p>

<p>When Setup requests that you remove the CD-ROM from the CD-ROM drive, do so on bootable CD-ROM systems. Otherwise, Setup starts again on the following boot.</p>

<p>
<div class="warning"><blockquote><b>IMPORTANT</b><hr>
Although your system might support bootable CD-ROMs, you might have to modify your system BIOS to boot to the CD-ROM.</blockquote></div>
</p>

<p>If your computer is running an operating system such as Windows 95, Windows 98, or Windows NT and you insert the Windows 2000 installation CD-ROM while the computer is running, the Windows 2000 Setup Wizard dialog box appears (provided you haven't turned off AutoPlay).</p>

<A NAME="85"><h3>Over-the-Network (Server-Based)</h3></A>
<p>The Windows 2000 Server system files must be available over the network. Copy the Windows 2000 installation CD-ROM, or at a minimum, the source directory (\I386), to a directory on the hard disk of a network server and share the directory. Creating a distribution folder is discussed in more detail in <A HREF="ch03a.htm#115">Chapter 3</A>, &quot;Performing an Unattended Installation of Microsoft Windows 2000 Server.&quot;</p>

<p><b>Upgrading Windows 95, Windows 98, or Windows NT</b></p>

<p>If your computer is currently running Windows 95, Windows 98, or Windows NT, connect to the system files over the network and run (double-click) Winnt32.exe, located in the I386 directory. Only Windows NT Server can be upgraded to Windows 2000 Server. None of the other Windows operating systems can be upgraded to Windows 2000 Server. If you are installing Windows 2000 Server on a Windows NT Server computer, you are prompted to select Upgrade to Windows 2000 Server or Install Windows 2000 Server. In all other cases, you are prompted to Install Windows 2000 Server.</p>

<p>Upgrading Windows NT Server retains most system settings, preferences, and application installations. If you prefer a dual-boot configuration, choose the Install Windows 2000 Server option. Press Enter or click Next to continue.</p>

<p><b>Installing New or Upgrading Current Version</b></p>

<p>If you do not have Windows 95, Windows 98, or Windows NT installed, you need to run MS-DOS and an MS-DOS network client to establish your connection to the shared network folder containing the Setup files.</p>

<p>Running the MS-DOS network client, connect to the system files over the network and run Winnt.exe, which is located on the network share.</p>

<p>The MS-DOS computer needs 500 KB of free conventional memory to run the setup routine successfully. Make sure you have loaded Emm386.exe and are loading all device drivers high.</p>

<p>
<div class="tip"><blockquote><b>TIP</b><hr>
To free some memory, run LoadHigh Winnt.exe to load portions of Winnt.exe high.</blockquote></div>
</p>

<p>You should be running Smartdrv.exe or your installation will be slow, lasting from 4 to 12 hours.</p>

<A NAME="86"><h2>Choosing Which Components to Install</h2></A>
<p>Windows 2000 Server includes a wide variety of core components, including a number of administrative tools, which are automatically installed by Setup. In addition, you can choose from a number of components that extend the functionality of Windows 2000 Server. These components can be installed at Setup time or added afterward (through the Add/Remove Windows Components option within Control Panel's Add/Remove Programs application).</p>

<p>Choosing more of these components means providing more capabilities on the server. However, you should choose only the components you need, since each component requires additional disk space. The following table will help you choose the components you need in your installation.</p>

<p>
<table cellpadding=5 width="95%">
<tr> 
<th>Possible Server Function  </th>
<th>Optional Components to Consider Installing  </th></tr>
<tr>
<td valign="top">DHCP, DNS, or WINS server (in a TCP/IP network) </td>
<td valign="top">Dynamic Host Configuration Protocol (DHCP),  DNS, or Windows Internet Name Service (WINS)&#8212;all part of Networking Services  </td></tr>
<tr>
<td valign="top">Centralized administration of networks </td>
<td valign="top">Management and Monitoring Tools  Remote Installation Services  </td></tr>
<tr>
<td valign="top">Authentication and secure communication </td>
<td valign="top">Internet Authentication Services (part of Networking Services) <p>Certificate Services</p> </td></tr>
<tr>
<td valign="top">File access  </td>
<td valign="top">Microsoft Indexing Service <p>Remote Storage</p> Other Network File and Print Services (support for NetWare, Macintosh, and UNIX). NetWare client
 computers are supported through Gateway Services for NetWare (GSNW). The Directory Service Migration Tool installs GSNW if NetWare Directory Service (NDS) is not installed.</td></tr>
<tr>
<td valign="top">Print access  </td>
<td valign="top">Other Network File and Print Services (support for NetWare, Macintosh, and UNIX)  </td></tr>
<tr>
<td valign="top">Terminal services  </td>
<td valign="top">Terminal Services  <p>Terminal Services Licensing</p></td></tr>
<tr>
<td valign="top">Application support  </td>
<td valign="top">Message Queuing Services  <p>Quality of Service (QoS) Admission Control Service (part of Networking Services)</p></td></tr>
<tr>
<td valign="top">Internet (Web) infrastructure  </td>
<td valign="top">Internet Information Services (IIS) <p>Site Server and Lightweight Directory Access Protocol (part of Networking Services)</p> </td></tr>
<tr>
<td valign="top">Phone and fax support  </td>
<td valign="top">Connection Manager Administration Kit and Connection Point Services (part of Management and Monitoring Tools)  </td></tr>
<tr>
<td valign="top">Multimedia communications  </td>
<td valign="top">Windows Media Services  </td></tr>
<tr>
<td valign="top">Support for a variety of client operating systems </td>
<td valign="top">Other Network File and Print Services (support for
 NetWare, Macintosh, and UNIX)  </td></tr>
</table></p>


<p>The following table describes each of the optional components and is designed to work with the previous table to help you choose appropriate components to install.</p>

<p>
<table cellpadding=5 width="95%">
<tr> 
<th>Optional Component  </th>
<th>Description  </th></tr>
<tr>
<td valign="top">Certificate Services  </td>
<td valign="top">Provides authentication support, including secure e-mail, Web-based
 authentication, and smart card authentication.  </td></tr>
<tr>
<td valign="top">Internet Information Services (IIS) </td>
<td valign="top">Provides support for Web site creation, configuration, and management, along  with Network News Transfer Protocol (NNTP), FTP, and Simple Mail Transfer Protocol (SMTP).  </td></tr>
<tr>
<td valign="top">Management and Monitoring Tools  </td>
<td valign="top">Provides tools for network management and monitoring, specifically Network  Monitor, a packet analyzer. Also includes the Simple Network Management Protocol (SNMP).  <p>Other management tools include support for client dialing and updating client phone books, and a utility for migrating from NDS to the Windows 2000 Active Directory services.</p></td></tr>
<tr>
<td valign="top">Message Queuing Services  </td>
<td valign="top">Provides services that support the messaging needed by distributed applications, allowing these applications to function reliably in heterogeneous networks or when a computer is temporarily offline.  </td></tr>
<tr>
<td valign="top">Microsoft Indexing Service  </td>
<td valign="top">Provides indexing functions for documents stored on disk, allowing users to  search for specific document text or properties.  </td></tr>
<tr>
<td valign="top">Microsoft Script Debugger </td>
<td valign="top">Provides support for script development.  </td></tr>
<tr>
<td valign="top">Networking Services  </td>
<td valign="top">Provides important support for networking, including the items in the following list: <p><b>COM Internet Services Proxy</b> Supports distributed applications that use HTTP to communicate through IIS.</p> <p><b>Domain Name System (DNS)</b> Provides name resolution for clients running Windows 2000. With name resolution, users can access servers by name, instead of having to use IP addresses that are difficult to recognize and remember.</p> <p><b>Dynamic Host Configuration Protocol (DHCP)</b> Gives a server the ability to provide IP addresses dynamically to other servers on the network. With DHCP, you do not need to set and maintain static IP addresses on any intranet servers except for those providing DHCP, DNS, or WINS.</p> <p><b>Internet Authentication Service</b> Provides authentiction for dial-in users.</p> <p><b>QoS Admission Control Service</b> Allows you to control how applications are allotted network bandwidth. Important applications can be given more bandwidth, less important applications less bandwidth.</p> <p><b>Simple TCP/IP Services</b> Supports Character Generator, Daytime Discard, Echo, and Quote of the Day.</p> <p><b>Site Server ILS Service</b> Supports telephony applications, which help users access features such as caller ID, conference calls, video conferencing, and faxing. This support depends on IIS.</p> <p><b>Windows Internet Naming Service</b> Provides NetBIOS over TCP/IP name resolution for clients running Windows NT and earlier versions of Microsoft operating systems. With name resolution, users can access servers by name, instead of having to use IP addresses that are difficult to recognize and remember.</p> <hr><b>Note</b> The Clients directory on the Windows 2000 Server installation CD-ROM contains two subdirectories. The WIN9X directory contains the directory service client for Windows 9<i>x</i> clients. The WIN9XIPP.CLI directory contains the Internet Printing client for Windows 9<i>x</i>. These services remove the WINS requirement from Windows 9<i>x</i> client computers.<hr></td></tr>
<tr>
<td valign="top">Other Network File and Print Services</td>
<td valign="top">Provides file and print services for Macintosh, as well as print services
 for UNIX.  </td></tr>
<tr>
<td valign="top">Remote Installation Services </td>
<td valign="top">Provides services that allow you to set up new client computers remotely  without having to visit each client. The target clients must support remote booting. On the server, a separate partition will be needed for Remote Installation Services.  </td></tr>
<tr>
<td valign="top">Remote Storage  </td>
<td valign="top">Provides an extension to your disk space by making removable media, such as tapes, more accessible. Infrequently used data can automatically be transferred to tape and retrieved when needed.  </td></tr>
<tr>
<td valign="top">Terminal Services  </td>
<td valign="top">Provides the ability to run client applications on the server so that client computers can function as terminals rather than independent systems. The server provides a multisession environment and runs the Windows-based programs being used on the clients. If you install Terminal Services, you
must also install Terminal Services Licensing (to license Terminal Services' clients). However, temporary licenses can be issued for clients that allow
you to use Terminal servers for up to 90 days.  </td></tr>
<tr>
<td valign="top">Terminal Services Licensing </td>
<td valign="top">Provides the ability to register and track licenses for Terminal Services'  clients. If you install Terminal Services, you must also install Terminal Services Licensing (to license Terminal Services' clients). However, temporary licenses can be issued for clients that allow you to use Terminal servers for up to 90 days.  </td></tr>
<tr>
<td valign="top">Windows Media Services  </td>
<td valign="top">Provides multimedia support, allowing you to deliver content using Advanced Streaming Format over an intranet or the Internet.  </td></tr>
</table></p>


<A NAME="87"><h2>Lesson Summary</h2></A>
<p>Before you begin to install Windows 2000 Server, you should gather any materials that you need, ensure that your hardware can support Windows 2000, and make decisions about how Windows 2000 Server should be installed. For example, you must ensure that your hardware meets the minimum hardware requirements and check all your hardware for compatibility with Windows 2000. You must identify how you want to partition your hard disk and what file system you should use for that partition. You must select a licensing mode, the type of network in which to participate, and the type of installation. You must also decide which optional components should be installed. Taking these steps can help to prepare you for the installation and to eliminate potential problems.</p>

</BODY>
</HTML>



