<HTML>
<HEAD>
<TITLE>Lesson 2: NWLink</TITLE>
<link rel="STYLESHEET" type="text/css" href="mmpro.css"><SCRIPT LANGUAGE="JavaScript"><!-- 
function fullSize(sURL){window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}
--></SCRIPT>
</HEAD>
<SCRIPT LANGUAGE="JavaScript">
<!--

function fullSize(sURL){
	window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}

function LibraryHeaderNav(sBackward, sForward, sImgLeftOff, sImgLeftOn, sImgRightOff, sImgRightOn, iH, iW, sImgLeftStyle, sImgRightStyle, sImgRuleStyle, sRuleColor, sRuleSize){
	var tableStr;
	//validate questionable args for defs
	tableStr = "<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 border=0 width=100%>";
	tableStr += "<TR VALIGN=top ALIGN=right>";

	tableStr += "<TD align=right class=" + sImgRuleStyle + ">&nbsp;</TD>";	
	
	tableStr += "<TD width=34 align=right class=" + sImgLeftStyle + ">";
	tableStr += "<A href='" + sBackward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgLeftOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgLeftOff + '\'\"';
	tableStr += " SRC='" + sImgLeftOff + "' vspace=0 hspace=0></a></TD>";
	
	tableStr += "<TD width=34 align=left class=" + sImgRightStyle + ">";
	tableStr += "<A href='" + sForward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgRightOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgRightOff + '\'\"';
	tableStr += " SRC='" + sImgRightOff + "' vspace=0 hspace=0></a></TD></TR>";

	tableStr += "<TR VALIGN=top>";
	tableStr += "<TD height=3 align=center colspan=3 class=" + sImgRuleStyle + ">";
	tableStr += "<HR color=" + sRuleColor + " size=" + sRuleSize + "></TD></TR></TABLE>";
	//alert(tableStr);
	document.write(tableStr);
}

 																						     //purple is: #aa22aa   orange is: #ff9900
LibraryHeaderNav("ch07b.htm", "ch07d.htm", "images/unit_p_a1.gif", "images/unit_p_a2.gif", "images/unit_p_b1.gif", "images/unit_p_b2.gif", 18, 34, "unit01", "unit02", "headerrule", "#aa22aa", "2");
//--></SCRIPT><P>



<A NAME="258"><H1>Lesson 2: NWLink</H1></A>

<p>This lesson discusses the NWLink IPX/SPX/NetBIOS-compatible transport protocol (usually referred to as NWLink), Microsoft's implementation of Novell's NetWare Internetwork Packet Exchange/Sequenced Packet Exchange (IPX/SPX) protocol. NWLink is most commonly used in environments where clients running Microsoft operating systems are used to access resources on NetWare servers, or where clients running NetWare are used to access resources on computers running Microsoft operating systems.</p>

<p><div class="sidebar"><blockquote>
<b>After this lesson, you will be able to</b>

<ul>
<p><li>Install and configure NWLink.</li></p>
</ul>



<p><b>Estimated lesson time: 30 minutes</b></p>
</blockquote></div></p>

<A NAME="259"><H2>Understanding NWLink Features</H2></A>

<p>NWLink allows computers running Windows 2000 to communicate with other network devices that are using IPX/SPX. You can also use NWLink in small network environments that use only clients running Windows 2000 and other Microsoft operating systems.</p>

<p>NWLink supports the networking APIs that provide the interprocess communications (IPC) services described in Table 7.7.</p>

<p><b>Table 7.7</b> <i>Networking APIs Supported by NWLink</i></p>

<p>
<table cellpadding=5 width="95%">
<tr> 
<th>Networking API  </th>
<th>Description  </th></tr>
<tr>
<td valign="top">Winsock  </td>
<td valign="top">Supports existing NetWare applications written to comply with 
 the NetWare IPX/SPX Sockets interface  </td></tr>
<tr>
<td valign="top">NetBIOS over IPX  </td>
<td valign="top">Implemented as NWLink NetBIOS; supports communication 
 between a NetWare client running NetBIOS and a computer 
 running Windows 2000 and NWLink NetBIOS  </td></tr>
</table></p>

<p>NWLink also provides NetWare clients with access to applications designed 
for Windows 2000 Server, such as Microsoft SQL Server and Microsoft SNA Server. To provide NetWare client access to file and print resources on a computer running Windows 2000 Server, you should install File and Print Services for NetWare (FPNW).</p>

<p>In summary, the 32-bit Windows 2000 implementation of NWLink provides the following features:</p>

<ul>
<p><li>Supports communications with NetWare networks</li></p>

<p><li>Supports sockets and NetBIOS over IPX</li></p>

<p><li>Provides NetWare clients with access to Windows 2000 servers</li></p>
</ul>



<A NAME="260"><H2>Installing NWLink</H2></A>

<p>The procedure for installing NWLink is the same process that you use to install any network protocol in Windows 2000:</p>

<ol>
<p><li> Right-click My Network Places, and then click Properties.</li></p>

<p><li> In the Network And Dial-Up Connections window, right-click Local Area Connection, and then click Properties.</li></p>


<p>The Local Area Connection Properties dialog box appears, displaying the network adapter in use and the network components configured for this adapter.</p>


<p><li> Click Install.</li></p>

<p><li> In the Select Network Component Type dialog box, click Protocol, and then click Add.</li></p>

<p><li> In the Select Network Protocol dialog box, in the Network Protocol list, click NWLink IPX/SPX/NetBIOS Compatible Transport Protocol (see Figure 7.7), and then click OK.</li></p>


<p>
<A HREF="javascript:fullSize('F07tk07x.htm')"> <img src="images/F07tk07.JPG" width=404 height=295 border=0 ALT="Click to view at full size."> </A>
</p><p>
<!-- caption --><b>Figure 7.7</b> <i>The Select Network Protocol dialog box</i><!-- /caption -->
</p>
</ol>

<A NAME="261"><H2>Configuring NWLink</H2></A>

<p>NWLink configuration involves three components: frame type, network number, and internal network number. By default, Windows 2000 detects a frame type and a network number automatically when you install NWLink. Windows 2000 also provides a generic internal network number. However, you must manually specify an internal network number if you plan to run FPNW or IPX routing, as shown in Figure 7.8.</p>

<p><div class="note"><blockquote><b>NOTE</b><HR>Each network adapter card bound to NWLink in a computer requires a frame type and network number.</blockquote></div></p>

<p>
<img src="images/F07tk08.JPG" width=349 height=443 border="0">
</p><p>
<!-- caption --><b>Figure 7.8</b> <i>Configuring NWLink</i><!-- /caption -->
</p>

<A NAME="262"><H3>Frame Type</H3></A>

<p>A <i>frame type</i> defines the way that the network adapter card formats data. To 
ensure proper communication between a computer running Windows 2000 and 
a NetWare server, you must configure the NWLink frame type to match the frame type on the NetWare server.</p>

<p><div class="note"><blockquote><b>NOTE</b><HR>A connection between two computers that use different frame types is possible if the NetWare server is acting as a router. However, this is inefficient and could result in a slow connection.</blockquote></div></p>

<p>Table 7.8 lists the topologies and frame types supported by NWLink.</p>

<p><b>Table 7.8</b> <i>Topologies and Frame Types Supported by NWLink</i></p>

<p>
<table cellpadding=5 width="95%">
<tr> 
<th>Topology  </th>
<th>Frame type  </th></tr>
<tr>
<td valign="top">Ethernet  </td>
<td valign="top">Ethernet II, 802.3, 802.2, and Sub 
 Network Access Protocol (SNAP), 
 which defaults to 802.2  </td></tr>
<tr>
<td valign="top">Token Ring  </td>
<td valign="top">802.5 and SNAP  </td></tr>
<tr>
<td valign="top">Fiber Distributed Data Interface (FDDI)  </td>
<td valign="top">802.2 and SNAP  </td></tr>
</table></p>

<p><div class="note"><blockquote><b>NOTE</b><HR>On Ethernet networks, the standard frame type for NetWare 2.2 and NetWare 3.11 is 802.3. For NetWare 3.12 and later, the default is 802.2.</blockquote></div></p>

<p>When you install NWLink, Windows 2000 automatically determines which IPX frame type is in use on the network and sets the NWLink frame type accordingly. If Windows 2000 detects frame types in addition to 802.2 during NWLink installation, the frame type for NWLink defaults to 802.2.</p>

<A NAME="263"><H3>Network Number</H3></A>

<p>Each frame type configured on a network adapter card requires a <i>network</i> <i>number,</i> which must be unique for each network segment. All computers on a segment using the same frame type <i>must</i> use the same network number to communicate with one another.</p>

<p><div class="note"><blockquote><b>NOTE</b><HR>On a computer running Windows 2000, type <b>ipxroute config</b> at a command prompt to display the network number, frame type, and device in use.</blockquote></div></p>

<p>Although Windows 2000 automatically detects a network number during NWLink installation by default, you can also manually specify a network number by using Registry Editor.</p>

<p>Setting a network number in the registry for a given frame type requires entering two corresponding entries, NetworkNumber and PktType, in this subkey of the registry: HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\Nwlnkipx\Parameters\Adapters\<i>Adapter.</i></p>

<ul>
<p><li>NetworkNumber specifies the network number (in hexadecimal) for the adapter. If the value for this entry is 0, NWLink gets the network number from the network while it is running. Network numbers are 4 bytes (eight hexadecimal characters). The NetworkNumber entry takes the data type REG_MULTI_SZ.</li></p>

<p><li>PktType specifies the packet form to use. The PktType entry takes a data type REG_MULTI_SZ. Table 7.9 lists the values for the PktType entry and the packet forms supported by NWLink.</li></p>
</ul>



<p><b>Table 7.9</b> <i>Packet Types or Forms Supported by NWLink</i></p>

<p>
<table cellpadding=5 width="95%">
<tr> 
<th>Value  </th>
<th>Packet form  </th></tr>
<tr>
<td valign="top">0   </td>
<td valign="top">Ethernet_II  </td></tr>
<tr>
<td valign="top">1   </td>
<td valign="top">Ethernet_802.3  </td></tr>
<tr>
<td valign="top">2   </td>
<td valign="top">802.2  </td></tr>
<tr>
<td valign="top">3   </td>
<td valign="top">SNAP  </td></tr>
<tr>
<td valign="top">4   </td>
<td valign="top">ArcNet  </td></tr>
<tr>
<td valign="top">FF (default)  </td>
<td valign="top">Auto-detect  </td></tr>
</table></p>

<p><div class="note"><blockquote><b>NOTE</b><HR>If an adapter uses multiple packet types, you can specify the network number for each packet type by adding corresponding values in the NetworkNumber entry.</blockquote></div></p>

<A NAME="264"><H3>Internal Network Number</H3></A>

<p>An <i>internal network number</i> uniquely identifies a computer on the network for internal routing. This eight-digit hexadecimal number, or virtual network number, is set to 00000000 by default.</p>

<p>The internal network number identifies a virtual network segment inside the computer. That is, the internal network number identifies another (virtual) segment on the network. So, if an internal network number is configured for a computer running Windows 2000, a NetWare server or a router adds an extra hop in its route to the computer.</p>

<p>You must manually assign a unique, nonzero internal network number in the 
following situations:</p>

<ul>
<p><li>FPNW is installed, and there are multiple frame types on a single adapter.</li></p>

<p><li>FPNW is installed, and NWLink is bound to multiple adapters in the computer.</li></p>

<p><li>An application is using the NetWare Service Advertising Protocol (SAP). SQL Server and SNA Server are examples of applications that can use SAP.</li></p>
</ul>



<p><div class="note"><blockquote><b>NOTE</b><HR>If a computer has multiple network adapter cards bound to NWLink, and if you want each one to use a different frame type, configure each network adapter card to use the Manual Frame Type Detection option. You must also specify a frame type, network number, and internal network number for each network adapter card.</blockquote></div></p>

<p>
<img src="images/practic.JPG" width=92 height=74 border="0">
</p>

<A NAME="265"><H2>Practice: Installing and Configuring NWLink</H2></A>

<p>In this practice, you will install and configure the NWLink IPX/SPX/NetBIOS Compatible Transport Protocol.</p>

<p><div class="note"><blockquote><b>NOTE</b><HR>You can install any of the available protocols in Windows 2000 by using this procedure.</blockquote></div></p>


<p><li><b>To install and configure NWLink</b></li></p>

<ol>
<p><li> Restore the Network And Dial-Up Connections window.</li></p>

<p><li> Right-click Local Area Connection, and then click Properties.</li></p>


<p>The Local Area Connection Properties dialog box appears, displaying the network adapter card in use and the network components used in this connection.</p>


<p><li> Click Install.</li></p>


<p>The Select Network Component Type dialog box appears.</p>


<p><li> Click Protocol, and then click Add.</li></p>


<p>The Select Network Protocol dialog box appears.</p>

<p>What protocols can you install? </p>

<p><a href="chaaa.htm#910">Answer</a></p>


<p><li> Select NWLink IPX/SPX/NetBIOS Compatible Transport Protocol, and then click OK.</li></p>


<p>Notice that the NWLink IPX/SPX/NetBIOS Compatible Transport Protocol is listed in the Components list in the Local Area Connection Properties dialog box that appears.</p>


<p><li> Select NWLink IPX/SPX/NetBIOS Compatible Transport Protocol, and then click Properties.</li></p>


<p>Which type of frame detection is selected by default?</p>

<p><a href="chaaa.htm#910">Answer</a></p>

<p><li> Click OK to close the NWLink IPX/SPX/NetBIOS Compatible Transport Protocol Properties dialog box.</li></p>

<p><li> Click OK to close the Local Area Connection Properties dialog box.</li></p>
</ol>

<A NAME="266"><H2>Lesson Summary</H2></A>

<p>In this lesson, you learned that NWLink is Microsoft's implementation of Novell's NetWare IPX/SPX protocol. NWLink is most commonly used in environments where clients running Microsoft operating systems are used to access resources on NetWare servers, or where clients running NetWare are used to 
access resources on computers running Microsoft operating systems. NWLink supports Winsock and NetBIOS over IPX networking APIs. Winsock supports existing NetWare applications written to comply with the NetWare IPX/SPX Sockets. NetBIOS over IPX is implemented as NWLink NetBIOS and supports communication between a NetWare client running NetBIOS and a computer running Windows 2000 and NWLink NetBIOS.</p>

</BODY>
</HTML>






