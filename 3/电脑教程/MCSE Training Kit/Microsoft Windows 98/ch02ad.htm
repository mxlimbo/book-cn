<HTML>
<HEAD>
<LINK REL=StyleSheet HREF="basicIE4.css" TYPE="text/css">
<TITLE>Recovering During Hardware Detection</TITLE>

<SCRIPT LANGUAGE="JavaScript"><!-- 
function fullSize(sURL){window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}
--></SCRIPT>
</HEAD>

<A NAME="54"><H2>Recovering During Hardware Detection</H2></A><P>
When you run Setup from inside Windows&#160;95, full hardware detection does not occur initially. Setup verifies legacy hardware settings in the registry. If an error occurs during verification, Setup then launches full hardware detection.
<P>
Hardware detection of legacy devices takes place after the first restart for all other installations. During this phase, Setup writes data to and reads data from various hardware addresses, including I/O ports, IRQs, and memory address ranges.
<P>
During Setup, logs are maintained that record Setup progress and store information that can be used for recovery. The following table describes the log files.
<P>
<TABLE WIDTH="95%" BORDER="0" CELLPADDING="5">

<TR>
<TD VALIGN="TOP"><B>Log File Name</B></TD>
<TD VALIGN="TOP"><B>Records</B></TD>
<TD VALIGN="TOP"><B>Notes</B></TD>
</TR>

<TR>
<TD VALIGN="TOP">Detlog.txt</TD>
<TD VALIGN="TOP">The start of a detection test and the test outcome, and a record of devices Setup finds during the detection process.</TD>
<TD VALIGN="TOP">A hidden file in the root directory of the C drive.</TD>
</TR>

<TR>
<TD VALIGN="TOP">Detcrash.log</TD>
<TD VALIGN="TOP">Which detection steps were successfully completed so that Setup will not fail on the same problem.</TD>
<TD VALIGN="TOP">A hidden file in the root directory of the C drive created only if a detection step caused the computer to stop responding. </TD>
</TR>

<TR>
<TD VALIGN="TOP">Setuplog.txt</TD>
<TD VALIGN="TOP">What took place during Setup, including successes and failures.  Used by Safe Recovery to determine where Setup will resume.</TD>
<TD VALIGN="TOP">In the root directory of the C drive.</TD>
</TR>
</TABLE>
<P>
If a failure occurs after the first restart, hardware detection recovery uses the log files to skip the module that caused the failure so that Setup can proceed.
<P>
<HR>
<BLOCKQUOTE>
<B>Important</B>
<P>
You should not delete any of the log files described in the previous section. Deleting any of these files after a failure will cause Setup to fail again at the same point.
</BLOCKQUOTE>
<HR>
<P>
If you want to resume Setup after a hardware detection failure, perform the following procedure:
<P>
<OL>
<LI>	Turn the computer off for 10 to 15 seconds.
<P>
<LI>	Turn the computer back on.
<P>
Setup will reload the detection modules, check the log files, and resume <I>after</I> the point where the failure occurred.
</OL>
<P>
<HR>
<BLOCKQUOTE>
<B>Note</B>
<P>
If your computer stops responding during hardware detection and you restart the computer, Windows&#160;98 Setup may not detect some of your hardware.
</BLOCKQUOTE>
<HR>
<P>
If you want to verify that the computer's hardware has been detected, perform the following procedure:
<P>
<OL>
<LI>	In Control Panel, click <B>System</B>.
<P>
The <B>System Properties</B> dialog box appears.
<P>
<LI>	Click the <B>Device Manager</B> tab.
<P>
<LI>	Expand each item in Device Manager to verify that all of your hardware is listed.
</OL>
<P>
If the computer's hardware is not listed in Device Manager, then click <B>Add New Hardware</B> in Control Panel. If the Add New Hardware wizard does not detect any new hardware, follow the on-screen directions and select the specific hardware from the Windows&#160;98 hardware list.
<P>
</BODY>
</HTML>





