<html>
<head>
<title>第四页：完成菜单条的制作</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<link rel="stylesheet" href="all.css">
</head>
<body leftmargin="0" background="bodybg.jpg" topmargin="0" marginwidth="0" marginheight="0">
<table border="0" cellpadding="0" cellspacing="0" width="776">
  <tr valign="top"> 
    <td><img width="199" height="142" border="0" src="top1.jpg"></td>
    <td><img src="top2.jpg" width="577" height="105"></td>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="776">
  <tr valign="top">
    <td width="110"><img src="left.jpg" width="92" height="137" border="0" usemap="#Map"><map name="Map"><area shape="rect" coords="9,78,62,97" href="19.htm"><area shape="rect" coords="9,46,62,65" href="17.htm"><area shape="rect" coords="10,17,63,36" href="content.htm"></map></td>
    <td> 
      <table width="580" cellspacing="0" cellpadding="0" border="0">
        <tr> 
          <td> 
            <p align="center" class="h">第四天</p>
            <p align="center" class="h">第四页：完成菜单条的制作</p>
          </td>
        </tr>
      </table>
      <br>
      <table width="580" border="0" cellspacing="0" cellpadding="0">
        <tr> 
          <td>
            <p>　　现在给菜单条加入脚本使其能响应鼠标的行为并执行相应的功能。我们利用visibility属性隐藏子菜单项目并在菜单项目被点击时显示子菜单。 
              <br>
            </p>
            <p>　　处理visibility时，你会立刻遇到DOM不兼容的问题。Netscape的DOM更多地受其LAYER标签和属性的影响。所以即使在DOM中你将一个对象的visibility属性设置为hidden（隐藏），Netscape也会将其显示出来。如果你加入下面这条： 
              <br>
            </p>
            <p>　　if (daMenu.visibility == 'hidden')<br>
            </p>
            <p>　　你所得到的不是样式表语法的参数值，而是LAYERS语法的参数值。 <br>
            </p>
            <p>　　所以如果你设置document.foo.visibility = 'visible', 则代码将会按照你预想的那样执行，对象foo在屏幕中可以被看到。如果你用alert(document.foo.visibility)检查参数值, 
              则返回的数值是show。解决办法是设置一些变量，用标准的条件并设定一个名为visible的变量用于Netscape中的'show'，在Internet 
              Explorer中则设置'visible'。在Netscape中设置一个名为'hide' 的变量，在InternetExplorer'则用hidden'。在相应的字符串位置放入这些变量，则问题就解决了。 
              <br>
            </p>
            <p>　　&lt;script&gt; </p>
            <p>　　if (document.layers) {</p>
            <p> 　　　　visible = 'show';</p>
            <p> 　　　　hidden = 'hide';</p>
            <p>　　} else if (document.all) {</p>
            <p> 　　　　visible = 'visible';</p>
            <p> 　　　　hidden = 'hidden';</p>
            <p>　　}</p>
            <p></p>
            <p>　　function barTog(menu) {</p>
            <p> 　　if (document.layers) {</p>
            <p> 　　　　daMenu = document.layers[menu];</p>
            <p> 　　} else if (document.all) {</p>
            <p> 　　　　daMenu = document.all(menu).style;</p>
            <p> 　　}</p>
            <p> 　　if (daMenu.visibility == visible) {</p>
            <p> 　　　　daMenu.visibility = hidden;</p>
            <p> 　　} else {</p>
            <p> 　　　　daMenu.visibility = visible;</p>
            <p> 　　}</p>
            <p> 　　lastMenu = daMenu;</p>
            <p>　　}</p>
            <p>　　&lt;/script&gt;</p>
            <p><br>
              　　barTog函数所做 的是设置标准的条件语句，如果在被传送的变量菜单中设定的对象是visible，则隐藏该对象，否则就显示该对象。然后将对该对象的引用传递给名为lastMenu的全局变量（这样以来，以后你可以再关闭它）。 
              接下来你要做的就是调用这个函数，所以在菜单条中你将&quot;Webmonkey&quot;设定一个anchor（锚区），并设定被点击是执行的行为。 
            </p>
            <p><br>
              　　&lt;div id=&quot;webmonkey&quot; class=&quot;daMenu&quot;&gt;</p>
            <p> 　　&lt;a href=&quot;#&quot; class=&quot;itemAnchor&quot; </p>
            <p>　　　　onclick=&quot;javascript: barTog('moreMonkey'); return false;&quot;&gt;</p>
            <p> 　　Webmonkey</p>
            <p> 　　&lt;/a&gt;</p>
            <p>　　&lt;/div&gt;</p>
            <p>　　这段代码执行barTog函数，并将应该被打开或关闭的DIV 的名称传递给它。</p>
          </td>
        </tr>
      </table>
      <br>
      <table width="580" cellspacing="0" cellpadding="0" border="0">
        <tr> 
          <td> 
            <table border=0 align=center>
              <tr> 
                <td width=101 height="21"> 
                  <div align="center"><a href='17.htm'>上一页 </a></div>
                </td>
                <td width=99 height="21"> 
                  <div align="center"><a href="content.htm">目　录</a></div>
                </td>
                <td width=100 height="21"> 
                  <div align="center"><a href='19.htm'>下一页 </a></div>
                </td>
              </tr>
            </table>
            <p align=center>□ 资料来源：<a href="http://www.sohu.com">sohu.com</a><br>
            <p align=center>本书由“<a href="http://www.eshunet.com/">E书时空</a>”免费制作； 
              <br>
              想要更多的免费电子图书，请光临 <br>
              <a href="http://www.eshunet.com/">http://www.eshunet.com/</a> 
            <p align=center>&nbsp; 
          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
</body>
</html>

