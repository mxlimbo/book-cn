<html>

<head>
<meta name="GENERATOR" content="Microsoft FrontPage 5.0">
<meta name="ProgId" content="FrontPage.Editor.Document">
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<title>Site在活动目录中的应用</title>
</head>

<body text="#000000" bgcolor="#C6CBD6">

<table border="2" cellpadding="0" cellspacing="0" style="border-collapse: collapse" bordercolor="#111111" width="50%" id="AutoNumber1">
  <tr>
    <td width="27%" align="center"><a href="DNSInAd.htm">上一页</a></td>
    <td width="31%" align="center"><a href="index.htm">目录</a></td>
    <td width="42%" align="center"><a href="RelaManage.htm">下一页</a></td>
  </tr>
</table>
<hr color="#000080"><font size="4">
<p><i><b>Site在活动目录中的应用</b></i></p>
</font><font SIZE="2">
<p>我们在利用Windows 
NT4.0来规划设计我们的企业网络系统时，要根据企业构建的具体情况设计相应的域模型，如单域、多主域或单主域模型等。我们可以利用这些种类的域模型来规划企业的网络环境，实现对企业网络的组织、管理和控制。当我们去实现这种网络规划时，常常要根据企业内部的组织结构形式，作出符合实际需求的规划设计。如果是一个集团性质的大公司，我们常常需要把某一部门或一些工作关联性较大的部门设计成一个域，以方便组织和管理。这就给我们设计人员提出了一个很棘手的问题，如果这样一个域是由地理上分布在不同位置的计算机通过慢速连接构成的，那么通过慢速连接的PDC和BDC的信息同步就会因占据大量网络流量，影响网络的整体性能，面对这样一个问题，我们只能束手无策，根本没有任何控制方法。有位工程师曾半开玩笑的说：“每当他设计完成一个网络系统后，都会首先建议公司总裁将每一个域模型中的部门搬到一栋大楼中去。很多Novell的系统工程师会都有类似的苦恼。</p>
<p>当我接触到Windows 2000之后，Active Directory 
的强大功能和人性化设计思想，令我们今后的网络规划设计更加方便和灵活。而Win2000的Active Directory中Site 
概念的提出和实现，为管理和控制DC之间的信息同步提供强大工具，从而有效的解决了我们前面提出的那个曾令我们束手无策的难题。</p>
<p>所谓Site , 
是指在物理上有较好的线路连接的能实现较快通讯速率的计算机的集合，一般是指一个LAN。而Site之间一般是通过慢速连接来实现信息通讯。可见Site 
是对网络上计算机的实际的物理分布的一种客观反映。</p>
<p>有了Site这个概念之后，我们就可以将一个域中的计算机根据地理位置的分布分装在几个Site之中。在一个Site当中，Active Directory 
利用复制组件和KCC形成一个DC之间复制同步的双向的环形，每个DC都有两个复制伙伴，它们之间形成完全的信息同步。当一个DC中的目录数据库发生变化，它会等待一段时间间隔后向它的复制伙伴发送变更通知，复制伙伴接到变更通知后，会从发生变化的DC上拷贝目录数据的变化信息。同样复制伙伴还会把变更信息发送给它的复制伙伴，从而实现整个Site内的DC 
的同步。由于Site内采用快速而可靠的网络连接，因此Site 
内DC之间的复制数据是不压缩的，这虽然增加了复制信息的要求的带宽，但减少了DC的处理数据的负担。一般情况下Site内DC的信息同步采用RPC协议，使数据复制快速、统一，使DC之间保持了较高的数据一致性。</p>
<p><img border="0" src="SiteImage22.gif" width="398" height="298"></p>
<p>
在Site之间一般是通过慢速连接，只有有限的可用带宽并且数据传输不可靠。为了不影响慢速连接线路上的其它数据通讯，以及确保DC间目录复制的可靠性，Site间的DC的复制不采用Site内DC间复制的变更通知方式，而是采用复制调度的方式。在Site之间可以设定一个时间表和时间间隔，时间表决定在哪些时间允许复制发生，时间间隔指定在允许复制的时间内DC多久检查一次数据变更。这样我们就可以将Site间DC复制同步的时间表设定在网络流量较少的时候（比如午夜）。这时网络不拥挤相对而言也较可靠。而且在Site间DC的目录复制采用压缩的方法，复制信息可以被压缩至10%到15%，这样可以有效地优化网络带宽。</p>
<p>
<img border="0" src="SiteImage23.gif" width="594" height="445"></p>
<p>可见，我们通过合理地规划Active Directory上的Site，可以有效地控制Active 
Directory中DC的同步，优化网络带宽，提高网络性能。由于在Windows 2000的Active Directory 
中，DC之间的同步不但涉及一个域内DC之间大量数据的同步，同时不同域的DC之间也有少量信息需要同步。当我们用Site来实现Active 
Directory中DC之间的复制布局时可以借助于 Site link 和Site link 
Bridge两种设置来帮助我们实现，从而形成一个更合理、更有效、更可靠的Active Directory中DC的复制布局，最大限度优化我们的网络系统。</p>
</font>

</body>

</html>