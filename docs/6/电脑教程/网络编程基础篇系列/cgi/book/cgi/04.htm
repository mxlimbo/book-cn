<html>
<head>
<title>网络编程基础篇之CGI</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<link rel="stylesheet" href="ebook.css" type="text/css">
</head>
<body leftmargin="0" topmargin="0" background="bg.jpg">
<table width="100%" cellspacing="0">
  <tr>
    <td valign="top" bgcolor="#FFD26A">
      <table width="180" height="100%">
        <tr align="center" valign="top">
          <td>
            <p><img src="image.jpg"></p>
            <p><a href="list.htm"><img src="bd.gif" border="0"></a><br>
              <a href="03.htm"><img src="ap.gif" border="0"></a></p>
          </td>
        </tr>
        <tr align="center" valign="bottom">
          <td><a href="05.htm"><img src="np.gif" border="0"></a></td>
        </tr>
      </table>
    </td>
    <td valign="top">
      <blockquote>
        <div align="center"><img src="title.gif"></div>
        <!--正文开始-->
        <font color="0000FF">4.基本调试环境的建立：</font> 
        <P>每个阅读教程的朋友不一定都有机会接触到服务器之类的东西的。所以在接下去的阅读过程中没有调试环境的朋友将会非常吃力。为了解决这个问题，我特别介绍一些在 
        win9X、NT/2000上建立WEB SITE的方法，以便各位能很好的阅读程序。不过本方法内使用的软件都比较大，如果你不是一个真正的网络发烧友，或许你会放弃这个教程。这个我也没有办法，要知道喜欢一样东西总是要付出代价的。</P>
        <P><font color="0000FF">4.1 win9X&amp;winnt/2000的Server软件：<BR>
        </font>首先我要各位弄清楚一个概念，所谓Server只是指在一台电脑上安装了一个特别的软件。该软件可以提供Internet web site服务。这台电脑不一定要是什么特别好的机器，只要它能够很好的运行Server软件就可以了。比如我们的个人电脑就可以承担这个任务。 
        在Windows9X下运行的server软件不是很多，而且是属于“业余”的。就是说离真正的商业使用有很大的距离。这主要是windows9X平台的局限，比如很差的安全性，不稳定的内存分配系统，混乱的文件系统以及最差的进程管理。不过这些不影响我们使用CGI程序，特别是一个人调试自己的程序，而不是放在internet给数万个人访问。其代表是微软在视窗安装盘里提供的pws(person 
        web server)。例如windows98,你可以在X:\add-ons\pws\目录（X表示安装盘的盘符）找到并安装它。不过我希望你们最好还是不要使用这个东西，因为它对我们下面的课程没有多大的帮助。我曾试验过用它来和我的perl程序相连，但它很显然不支持perl。虽然可以通过修改注册表解决这个问题，但那是很麻烦的事。 
        <BR>
        相对而言，Windows NT因为其定位的不同而可以提供较理想的操作平台。而且NT自带有IIS(Internet Information Server)。<BR>
        实际上windows支持很多第三方出品的server软件，而且比windows自带的server软件更为好用，比如：website、ohttpd、apache等，你可以在各大下载站中找到下载它们，website有3.5M左右、ohttpd大约2M、apache也有2M多。<br>
        <BR>
          <font color="0000FF">4.2 Perl for win32 <BR>
        </font>Perl,让人激动的名字。我想再也找不到一个编程语言可以如此出色的完成基本CGI程序的开发了。我感谢那些为perl移植做出贡献的朋友们，是他们让我们可以在win平台上使用如此如此强大的Unix工具。 
        你可以在perl的主页上找到perl for win32版本。<br>
        <BR>
          <font color="0000FF">4.3 VB<BR>
        </font>VB是我们写WinCGI程序最好的选择。我推荐各位使用vb4。不是因为vb5或vb6不好，只是在 Internet上支持它的文档和免费代码太少了。 
        <br>
        <BR>
          <font color="0000FF">4.4 C&amp;C++</font> <BR>
        这个教程里几乎没有用C&amp;C++写的代码，因为它更适合高级程序员而不是我们这些业余选手。不过你要是一定使用它我也没有意见。 <br>
        <BR>
          <font color="0000FF">4.5 安装<BR>
        </font>建立基本环境，就是说我们要在自己的机器上建立一个WEB SITE! <br>
          我介绍的server软件中以ohttpd的安装最为简单，你可以很轻松的完成这个工作。缺省情况下它将被安装到c:\httpd下。我提醒各位注意这几个目录： 
        </P>
      <P>Cgi-bin:这是基本的cgi目录，也就是各位朝思暮想的地方！ <BR>
        Cgi-win:在这cgi目录里放的是WinCgi程序。<br>
        HTDocs:这是其他非cgi(如网页、图片等)文件存放的地方，该目录下的Default.htm是website的默认首页。</P>
      <P>如果你安装ohttpd后同意立即运行ohttpd，则会自动弹出website的首页。否则，请运行ohttpd，则在状态拦地右下角会有一个闪电状的图标，它表示ohttpd正在工作。然后打开浏览器，不必连上网络，在地址栏中输入http://localhost/default.htm 
        ，则打开该website的首页，那证明你已经安装成功了！ </P>
      <P>接下去我们安装perl。 下载后的perl是一个自解压文件，它会问你安装到哪个目录。缺省是c:\perl，接着它展开并产生几个子目录。在安装结束的时候，它会请求修改autoexec.bat，把c:\perl\bin加如 
        path，请按Y；请求关联.cgi或.pl为后缀名的文本文件，请按Y。这步很重要，因为perl是一种文本解释型语言，就是说它没有编译的过程， 
        只有在运行的时候解释。解释一句运行一句。所以我们必须让系统知道perl.exe在哪里。<br>
        <BR>
          <font color="0000FF">4.6 测试<BR>
        </font>最后我们进行一个测试。请把下面的两个程序下载并运行它们： <BR>
        1.html文件：这是测试程序的客户端内容，请以test.htm保存它，并把它放在c:\httpd\hotdocs\ 下。<br>
        test.htm: <BR>
      </P>
      <UL>
        <P>&lt;html&gt;<BR>
          &lt;title&gt;你的第一个perl测试程序&lt;/title&gt;<BR>
          &lt;body&gt;<BR>
          &lt;h1&gt;你的第一个perl测试程序&lt;h1&gt;&lt;br&gt;<BR>
          &lt;h2&gt;win 平台的环境变量测试&lt;/h2&gt;&lt;br&gt;<BR>
          &lt;form method="get" action="http://localhost/cgi-bin/env.pl"&gt; 
          <BR>
          &lt;input type=submit value="查看CGI环境变量"&gt; <BR>
          &lt;/form&gt; <BR>
          &lt;/body&gt;<BR>
          &lt;/html&gt;<I> </I></P>
      </UL>

      <P>2.Perl文件：请使用任意一个文本编辑器，输入后以env.pl保存到c:\httpd\cgi-bin\下。 </P>
      <UL>
        <P>#!/usr/bin/perl</P>
        <p>print"Content-type:text/html\n\n";<br>
          print"&lt;title&gt;Windows环境变量&lt;/title&gt;";<br>
          print"&lt;body&gt;恭喜你的website已经成功&lt;br&gt;";<br>
          foreach $key(sort keys %ENV){<br>
          print"$key=$ENV{$key}&lt;br&gt;"; }<br>
          print"&lt;/BODY&gt;";</p>
      </UL>
        <P>在完成上面的工作后，请打开浏览器，输入http://localhost/test.htm,然后按下那个键，当你的浏览器转到另一个页面的时候，建立基本调试环境的任务就算是完成了。 
        </P>
        <!--正文结束-->
      <center>
      <hr>
      <p>本书由<a href="http://www.huiniao.com/">【灰鸟资讯】</a>免费制作<br>
          想要更多的免费电子图书，请光临<br>
          <a href="http://www.huiniao.com">http://www.huiniao.com</a></p>
      </center>
      </blockquote>
    </td>
  </tr>
</table>
</body>
</html>
