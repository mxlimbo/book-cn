<html>
<head>
<title>网络编程基础篇之CGI</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<link rel="stylesheet" href="ebook.css" type="text/css">
</head>
<body leftmargin="0" topmargin="0" background="bg.jpg">
<table width="100%" cellspacing="0">
  <tr>
    <td valign="top" bgcolor="#FFD26A">
      <table width="180" height="100%">
        <tr align="center" valign="top">
          <td>
            <p><img src="image.jpg"></p>
            <p><a href="list.htm"><img src="bd.gif" border="0"></a><br>
              <a href="04.htm"><img src="ap.gif" border="0"></a></p>
          </td>
        </tr>
        <tr align="center" valign="bottom">
          <td><a href="06.htm"><img src="np.gif" border="0"></a></td>
        </tr>
      </table>
    </td>
    <td valign="top">
      <blockquote>
        <div align="center"><img src="title.gif"></div>
        <!--正文开始-->
        <font color="#0000FF">5.环境变量 </font> 
        <p>服务器与CGI程序交换信息的协作方式是通过环境变量实现的。无论什么请求，CGI程序总能在特定位置找到某些信息。无论环境变量怎样定义，总有一些变量有着特定含义。<br>
          环境变量是一写保存用户信息的内存区。例如，所有的机器都有一个PATH环境变量，当在当前目录找布道文件时就要查找PATH变量。当服务器收到一个请求后，它首先要收集它能得到的所有相关信息，并把它放入内存。那么，服务器要收集什么信息呢？<br>
          服务器不知道CGI程序到底需要那些信息，所以它把这些信息一起收集，那么如果有什么重要的东西就不会遗漏了。</p>
          
        <font color="#0000FF">5.1 与服务器相关的环境变量</font><br>
        <table border="1" width="512">
          <tr>
            <td>GATEWAY_INTERFACE</td>
            <td>服务器遵守的CGI版本</td>
      </tr>
      <tr>
            <td>SERVER_NAME</td>
            <td>服务器的IP或名字</td>
      </tr>
      <tr>
            <td>SERVER_PORT</td>
            <td>主机的端口号</td>
      </tr>
      <tr>
            <td>SERVER_SOFTWARE</td>
            <td>服务器软件的名字</td>
      </tr>
    </table><br>
        <font color="#0000FF">5.2 与客户机相关的环境变量 </font><br>
    服务器了解你的CGI程序，但它一定不知道你的客户机环境。正因为如此，同客户机有关的变量才是最重要的。因为它涉及到你的浏览器等等。<br>
        <table border="1" width="512">
          <tr>
            <td>ACCEPT</td>
            <td>例出能被次请求接受的应答方式</td>
      </tr>
      <tr>
            <td>ACCEPT_ENCODING</td>
            <td>列出客户机支持的编码方式</td>
      </tr>
      <tr>
            <td>ACCEPT_LANGUAGE</td>
            <td>表明客户机可接受语言的ISO代码</td>
      </tr>
      <tr>
            <td>AUTORIZATION</td>
            <td>表明被证实了的用户</td>
      </tr>
      <tr>
            <td>FORM</td>
            <td>列出客户机的EMAIL地址</td>
      </tr>
      <tr>
            <td>IF_MODIFIED_SINGCE</td>
            <td>当用get方式请求并且只有当文档比指定日期更早时才返回数据</td>
      </tr>
      <tr>
            <td>PRAGMA</td>
            <td>设定将来要用到的服务器代理</td>
      </tr>
      <tr>
            <td>REFFERER</td>
            <td>指出连接到当前文档的文档的URL</td>
      </tr>
      <tr>
            <td>USER_AGENT</td>
            <td>标明客户使用的软件</td>
      </tr>
    </table><br>
        <font color="#0000FF">5.3 与请求相关的环境变量</font><br>
        每次服务器受到的请求都不可能是一样的。这意味着有许多CGI程序必须注意的信息。这些与请求相关的信息包含有用户调用的信息，用户如何发送请求，以及作为请求的一部分传送了多少（什么）信息。这些对你的程序来说是非常重要的，因此我们将化些时间详细地讨论一下其中的一些变量。特别是下面写出的三个变量。这三个变量相当重要。<br>
        <br>
    REQUEST_METHOD<br>
    QUERY_STRING<br>
        CONTENT_LENGTH<br>
        <br>
    你必须熟悉这三个变量，因为它们用来表示数据是如何送到CGI程序的；然后你所要要做的事情就是在这三个变量里取出数据，进行下一步的编程。其他的一些变量的用处很多，你可以了解你的竞争对手正在调用你的程序，你可以辨别用户是否注册，或者你可以设置连接到你的CGI程序以便要求附加路径信息包含在请求之中——因此你不必猜测你的用户正在你的服务器的哪个页面上。<br>
        <table border="1" width="512">
          <tr>
            <td>AUTH_TYPE</td>
            <td>服务器用的确认模式</td>
      </tr>
      <tr>
            <td>CONTENT_FILE</td>
            <td>含有CGI程序的数据文件</td>
      </tr>
      <tr>
            <td>CONTENT_LENGTH</td>
            <td>POST请求中向标准输入（STDIN）发送的字节数</td>
      </tr>
      <tr>
            <td>CONTENT_TYPE</td>
            <td>被发送数据的类型</td>
      </tr>
      <tr>
            <td>PATH_INFO</td>
            <td>CGI程序的附加路径</td>
      </tr>
      <tr>
            <td>PATH_TRANSLATED</td>
            <td>PATH_INFO对应的绝对路径</td>
      </tr>
      <tr>
            <td>QUERY_STRING</td>
            <td>传送给CGI程序的URL的问号（？）之后的那一部分</td>
      </tr>
      <tr>
            <td>REMOTE_ADDR</td>
            <td>最终用户的IP或主机名</td>
      </tr>
      <tr>
            <td>REMOTE_USER</td>
            <td>如果用户合法，则是用户的组名</td>
      </tr>
      <tr>
            <td>REQUEST_LINE</td>
            <td>发送给服务器的完整URL请求</td>
      </tr>
      <tr>
            <td>REQUEST_METHOD</td>
            <td>作为HTTP的一部分请求而传送数据的方法，比如get。</td>
      </tr>
      <tr>
            <td>SCRPT_NAME</td>
            <td>运行的脚本名字</td>
      </tr>
    </table><br>
        <!--正文结束-->
      <center>
      <hr>
      <p>本书由<a href="http://www.huiniao.com/">【灰鸟资讯】</a>免费制作<br>
          想要更多的免费电子图书，请光临<br>
          <a href="http://www.huiniao.com">http://www.huiniao.com</a></p>
      </center>
      </blockquote>
    </td>
  </tr>
</table>
</body>
</html>