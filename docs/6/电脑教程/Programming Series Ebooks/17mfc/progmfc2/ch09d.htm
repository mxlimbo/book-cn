<HTML>
<HEAD>
	<link rel="STYLESHEET" type="text/css" href="Library.css">
<TITLE>Doc + View = Less Work for You</TITLE>


</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<SCRIPT LANGUAGE="JavaScript">
<!--

function fullSize(sURL){
	window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}

function LibraryHeaderNav(sBackward, sForward, sImgLeftOff, sImgLeftOn, sImgRightOff, sImgRightOn, iH, iW, sImgLeftStyle, sImgRightStyle, sImgRuleStyle, sRuleColor, sRuleSize){
	var tableStr;
	//validate questionable args for defs
	tableStr = "<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 border=0 width=100%>";
	tableStr += "<TR VALIGN=top ALIGN=right>";

	tableStr += "<TD align=right class=" + sImgRuleStyle + ">&nbsp;</TD>";	
	
	tableStr += "<TD width=34 align=right class=" + sImgLeftStyle + ">";
	tableStr += "<A href='" + sBackward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgLeftOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgLeftOff + '\'\"';
	tableStr += " SRC='" + sImgLeftOff + "' vspace=0 hspace=0></a></TD>";
	
	tableStr += "<TD width=34 align=left class=" + sImgRightStyle + ">";
	tableStr += "<A href='" + sForward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgRightOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgRightOff + '\'\"';
	tableStr += " SRC='" + sImgRightOff + "' vspace=0 hspace=0></a></TD></TR>";

	tableStr += "<TR VALIGN=top>";
	tableStr += "<TD height=3 align=center colspan=3 class=" + sImgRuleStyle + ">";
	tableStr += "<HR color=" + sRuleColor + " size=" + sRuleSize + "></TD></TR></TABLE>";
	//alert(tableStr);
	document.write(tableStr);
}

 																						     //purple is: #aa22aa   orange is: #ff9900
LibraryHeaderNav("ch09c.htm", "ch10a.htm", "images/unit_o_a1.gif", "images/unit_o_a2.gif", "images/unit_o_b1.gif", "images/unit_o_b2.gif", 18, 34, "unit01", "unit02", "headerrule", "#ff9900", "2");
//--></SCRIPT>

<A NAME="293"><H1>Doc + View = Less Work for You</H1></A>

<P>As you play around with SdiSquares, notice how much of the application's 
functionality is provided by MFC. For example, documents can be opened and saved, 
despite the fact that we added a mere eight lines of code in support of such operations. 
If you change the color of a square and attempt to open another document or exit 
the application, a message box appears asking if you'd like to save your changes 
first. Double-clicking an SdiSquares document file in the operating system shell 
automatically starts SdiSquares and loads the document. MFC provides these features and 
more because we built the application using documents and views. You'll see other 
benefits of using the document/view architecture in chapters to come.</P>

<P>The first time I ever looked at a minimal MFC application generated by 
AppWizard, I was dumbfounded by how relatively little code there was. What I 
didn't realize at the time was that the framework provided entire chunks of the 
application by way of innocent-looking message-map entries like this one:</P>

<P>
<table valign="top" cellpadding=5 width="95%"><tr><td>
<PRE>
ON_COMMAND<B> </B>(ID_FILE_OPEN,<B> </B>CWinApp::OnFileNew)
</PRE>
</TD></TR></TABLE>
</P>

<P>Still other parts of the program (notably the File menu's Save and Save As 
commands) were also implemented by the framework but weren't even visible as 
message-map entries because the message mapping was performed in the base class. All in all, 
it looked as if a lot of magic was going on, and it was clear to me that I was going 
to have to do some digging before I would fully understand the mechanics of doc/view.</P>
<P>As I soon found out, there's nothing magic about the document/view 
architecture&#8212;just some clever coding hidden in preprocessor macros and thousands of 
lines of code written to handle routine (and not-so-routine) chores such as resizing a 
view when a frame window is resized and carrying on DDE conversations with the 
shell. Many programmers fail to see the big picture because they don't take the time to 
look under the hood at the code AppWizard generates for them. SdiSquares is a 
document/view application in existential form, unobscured by nonessential extras. If you 
understand SdiSquares, you're well on your way to understanding the 
document/view architecture.</P>
</BODY>
</HTML>




