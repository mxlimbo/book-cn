<HTML>
<HEAD>
<TITLE>The <i>pragma</i> Message Helper Macro</TITLE>
<link rel="STYLESHEET" type="text/css" href="prosrvwin.css">
<SCRIPT LANGUAGE="JavaScript"><!-- 
function fullSize(sURL){window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}
--></SCRIPT>
</HEAD>
<BODY BGCOLOR = "#ffffff">
<A HREF="chaaf.htm">[Previous]</A> <A HREF="chaah.htm">[Next]</A><P>

<A NAME="304"><h1>The <i>pragma</i> Message Helper Macro</h1></A>
<p>When I work on code, I often like to get something working immediately and then make it bulletproof later. To remind myself that some code needs additional attention, I used to include a line like this:</p>

<p>
<table cellpadding="5" width="95%"><tr><td><pre>
#pragma message(&quot;Fix this later&quot;)
</pre></td></tr></table>
</p>

<p>When the compiler compiled this line, it output a string reminding me that I had some more work to do; however, this message was not that helpful. So I decided to find a way to make the compiler output the name of the source code file and the line number that the <i>pragma</i> appears on. If I have that information, not only do I know that I have additional work to do, but I immediately know the location of the surrounding code.</p>

<p>To output the source code file and the line number, you have to trick the <i>pragma message</i> directive by using a series of macros. I named the resulting macro <i>chMSG</i>, and it is used like this:</p>

<p>
<table cellpadding="5" width="95%"><tr><td><pre>
#pragma chMSG(Fix this later)
</pre></td></tr></table>
</p>

<p>When this line is compiled, the compiler produces a line that looks like this:</p>

<p>
<table cellpadding="5" width="95%"><tr><td><pre>
C:\CD\CmnHdr.h(82):Fix this later
</pre></td></tr></table>
</p>

<p>Using Microsoft Visual Studio, you can double-click on this line in the output window and be automatically positioned at the place in the file that requires additional attention.</p>

<p>Conveniently, the <i>chMSG</i> macro does not require that you use quotes around the text string.</p>

</BODY>
</HTML>




