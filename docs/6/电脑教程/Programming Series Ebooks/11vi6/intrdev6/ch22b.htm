<HTML>
<HEAD>
<LINK REL=StyleSheet HREF="Library.css" TYPE="text/css">
<TITLE>Site Security</TITLE>


</HEAD>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<SCRIPT LANGUAGE="JavaScript">
<!--

function fullSize(sURL){
	window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}

function LibraryHeaderNav(sBackward, sForward, sImgLeftOff, sImgLeftOn, sImgRightOff, sImgRightOn, iH, iW, sImgLeftStyle, sImgRightStyle, sImgRuleStyle, sRuleColor, sRuleSize){
	var tableStr;
	//validate questionable args for defs
	tableStr = "<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 border=0 width=100%>";
	tableStr += "<TR VALIGN=top ALIGN=right>";

	tableStr += "<TD align=right class=" + sImgRuleStyle + ">&nbsp;</TD>";	
	
	tableStr += "<TD width=34 align=right class=" + sImgLeftStyle + ">";
	tableStr += "<A href='" + sBackward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgLeftOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgLeftOff + '\'\"';
	tableStr += " SRC='" + sImgLeftOff + "' vspace=0 hspace=0></a></TD>";
	
	tableStr += "<TD width=34 align=left class=" + sImgRightStyle + ">";
	tableStr += "<A href='" + sForward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgRightOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgRightOff + '\'\"';
	tableStr += " SRC='" + sImgRightOff + "' vspace=0 hspace=0></a></TD></TR>";

	tableStr += "<TR VALIGN=top>";
	tableStr += "<TD height=3 align=center colspan=3 class=" + sImgRuleStyle + ">";
	tableStr += "<HR color=" + sRuleColor + " size=" + sRuleSize + "></TD></TR></TABLE>";
	//alert(tableStr);
	document.write(tableStr);
}

 																						     //purple is: #aa22aa   orange is: #ff9900
LibraryHeaderNav("ch22a.htm", "ch22c.htm", "images/unit_o_a1.gif", "images/unit_o_a2.gif", "images/unit_o_b1.gif", "images/unit_o_b2.gif", 18, 34, "unit01", "unit02", "headerrule", "#ff9900", "2");
//--></SCRIPT>
<A NAME="399"><H1>Site Security</H1></A>
<P>Site security restricts access to authorized users. You can take many 
different approaches to site security, and each has its advantages and disadvantages. 
In addition to the standard security options provided by a Web server such 
as Microsoft Internet Information Server (IIS), you can also add a software 
or hardware firewall system for additional security. Additionally, you can install 
a proxy server or other solution on top of the Web server and firewall 
system. The options are rapidly increasing as developers learn more about how 
people use the Web.

</P>
<A NAME="400"><H2>IP Filtering</H2></A><P>IIS lets you filter based on the IP address. IP filtering is easily compromised 
once you obtain a valid IP address. Since the IP address is passed in an 
unencrypted form across both the Internet and private networks, it doesn't provide 
true security.

</P>
<P>Figure 22-1 shows the dialog box that appears when you choose to 
edit IP Address And Domain Name Restrictions on the Directory Security tab in 
the Default Web Site Properties dialog box within the Microsoft Management 
Console (MMC). This dialog box lets you change the IP address access to IIS.

</P>
<P>
<A HREF="javascript:fullSize('f22LH01x.htm')"> <IMG SRC="images/f22LH01.JPG" width=404 height=228 border=0 ALT="Click to view at full size."> </A>

</P>
<P>
<!-- CAPTION --><B>Figure 22-1.</B> <I>The Microsoft Management Console (Internet Information 
Server) provides tools for filtering on either the IP address or DNS domain.</I><!-- /CAPTION -->

</P>
<P>
<div class="note"><BLOCKQUOTE><B>NOTE</B>
<HR>IIS 4.0 provides much more fine-grained security than the IIS 
3.0 Web server. A security tab within the Properties dialog box is present 
at several levels within the Internet Information Server snap-in in MMC. 
You can specify security settings at the directory level or file level by 
clicking on the appropriate node within the MMC, choosing Properties, and 
then choosing the relevant Security tab.</BLOCKQUOTE></DIV>

</P>
<P>If you deny all other computers access to your Web server, you must 
enter the IP address of all computers that can access the Web server. To do this, click 
the Add button and enter the IP addresses in the Grant Access On dialog box 
shown in Figure 22-2. Or click the DNS Lookup button next to the IP address textbox, 
and IIS will prompt you for a domain name. The domain must be valid and 
reachable because IIS checks it as soon as you click OK to close the dialog box.

</P>
<P>
<IMG SRC="images/f22LH02.gif" width=320 height=240 ALIGN="BOTTOM" BORDER=0>

</P>
<P>
<!-- CAPTION --><B>Figure 22-2.</B> <I>The Grant Access On dialog box, used for granting IIS Web 
site access to IP addresses and/or domain names.</I><!-- /CAPTION -->

</P>
<P>You can, of course, allow access to some computers and disallow 
access to certain others by entering their IP addresses or domain names.

</P>
<P>Either of these methods will work for many sites, but neither is very 
secure. The IP address is passed in clear text across the network (the Internet 
or an intranet), making it relatively easy to obtain. For instance, users with a 
sniffer application can usually pull the IP addresses. Through a process known 
as &quot;spoofing,&quot; a user can make his or her message appear to the server as if 
originating from a valid address.

</P>
<A NAME="401"><H2>Windows NT User Access Rights</H2></A><P>Windows NT provides flexible, industrial-strength security. Windows NT 
security is based on user IDs, passwords, and a robust challenge-and-response 
protocol that verifies user rights across a network without divulging any 
information that might compromise security. If your network is based on 
Microsoft Windows 95, Windows 98, or Windows NT and you use only an 
intranet, you have many options. You can actually meet your security needs by relying 
solely on Windows NT security features.

</P>
<P>Each user account can be a member of one or more groups. You can 
assign Web access rights to a group instead of assigning them to individual user 
accounts. For instance, you can have a group named HR Web Admin that 
contains all the user accounts that can administer the Human Resources Web. 
This simplifies administration because you don't need to assign rights 
individually. You place all users with similar needs into a group, and then you assign 
the necessary rights once to that group. When new users are added to a group, 
they have all the rights granted to that group. When users are removed from a 
group, they lose any rights granted solely by their membership in the group&#8212;that 
is, they lose any rights that were not granted to them individually or 
through membership in another group. (Users can belong to any number of groups 
and can have the maximum combined rights granted through their membership 
in those groups.)

</P>
<P>You can also assign other types of security beyond Web security to 
user groups. You can assign file and directory permissions as well as other 
permissions to a group, and the users of that group will have that level of access. 
The section titled &quot;<A HREF="ch22b.htm#404">NTFS Permissions</A>&quot; later in this chapter provides more 
information on file and directory permissions.

</P>
<P>Windows NT user access rights are checked whenever users try to 
access an IIS-hosted Web site. This is a powerful mechanism for controlling access 
to a site. Each time a user accesses any file or directory on the Windows NT 
system, that person's access to that object is verified.

</P>
<P>Figure 22-3 shows the types of password authentication that the site 
administrator can select&#8212;Allow Anonymous Access, Basic Authentication 
(Password Is Sent In Clear Text), and Windows NT Challenge/Response.

</P>
<P>
<IMG SRC="images/f22LH03.gif" width=386 height=314 ALIGN="BOTTOM" BORDER=0>

</P>
<P>
<!-- CAPTION --><B>Figure 22-3.</B> <I>The level of password authentication is set within the 
Authentication Methods dialog box within the Microsoft Management Console.</I><!-- /CAPTION -->

</P>
<P>Selecting Allow Anonymous Access lets anyone connect to the site. 
When a user tries to access the site, IIS uses the user name and password from 
the Anonymous Logon frame. The Anonymous User account is created 
automatically during IIS installation. The user name is in the form 
IUSR_<I>servername</I>, where IUSR stands for Internet User and 
<I>servername</I> is the name of the server on which IIS is installed. The password is pseudorandomly generated.

</P>
<P>If the Windows NT Challenge/Response check box is the only one 
selected, access is limited to Microsoft Windows 95/Windows 98 and Windows NT 
clients. This is because a portion of the Challenge/Response protocol is 
implemented by code contained only in those operating systems. This is a very secure 
option because the password is never sent over the network. Rather, the server 
sends a request for information to the client that can be answered only if the 
client knows the password. Using the password, the client calculates the 
answer to the server's question and sends back only the answer&#8212;not the 
password. (The answer is even encrypted.) Each time the server confirms the 
client's authenticity, it uses a new question so that a previously captured answer 
cannot simply be played back. The Basic (Clear Text) option lets browsers on 
any operating system pass a user name and password to IIS. The 
Challenge/Response mechanism unique to Windows 95/Windows 98 and Windows NT is not 
used; the information is passed unencrypted. This provides minimal security 
because someone could easily extract the plain text user name and password from 
network data.

</P>
<A NAME="402"><H2>FrontPage Server Extensions Permissions</H2></A><P>The FrontPage Server Extensions add another level of security to your IIS 
site. Each Web application you create with Visual InterDev has the FrontPage 
directory and file structure automatically added to it. This lets the 
FrontPage Server Extensions provide enhanced security for the site. The extensions 
use Windows NT users and groups in granting three types of rights to a Web 
site or application:

</P>
<UL>


<P><LI><B>Browse</B> Users can only browse content in the site.

</LI>
</P>
<P><LI><B>Author</B> Users can change, add, and delete content on an 
existing Visual InterDev or FrontPage site.

</LI>
</P>
<P><LI><B>Administer</B> Users can create, delete, and set permissions on sites.
</LI></P>
</UL>


 

<P>Figure 22-4 shows the Groups tab of the Permissions dialog 
box&#8212;choose Web Project|Web Permissions&#8230; from the Visual InterDev Project 
menu&#8212;which lets an administrator assign access rights to Windows NT groups. (The 
FrontPage Server Extensions installation requests that you specify an administrator account.)

</P>
<P>
<IMG SRC="images/f22LH04.gif" width=401 height=369 ALIGN="BOTTOM" BORDER=0>

</P>
<P>
<!-- CAPTION --><B>Figure 22-4.</B> <I>Access rights can be assigned by user or by group.</I><!-- /CAPTION -->

</P>
<P>To ease the administrative burden, you can create Windows NT 
groups and use Windows NT to manage the users in each group. For instance, you 
can create groups named Web Authors, Web Administrators, and Web 
Browsers. Prefacing the group names with the word 
<I>Web </I>reduces the confusion with other Windows NT groups, especially the built-in Administrators group. If 
anonymous logon is permitted, you might not need the Web Browsers group.

</P>
<P>By default, all sub-Webs created using the FrontPage Server 
Extensions (through FrontPage 98 or Visual InterDev) inherit their permissions from the 
root Web. To alter rights on only a sub-Web, take the following steps:

</P>
<OL>
<P><LI>Select the project and make it the Active project.

</LI>
</P>
<P><LI>Choose Web Project|Web Permissions from the Visual 
InterDev Project menu to display the Permissions dialog box.

</LI>
</P>
<P><LI>On the Settings tab, select the Use Unique Permissions For This 
Web Application option.

</LI>
</P>
<P><LI>Click the Apply button to activate unique permissions for this site.

</LI>
</P>
<P><LI>Click the Users tab or the Groups tab to show the current 
security for this project.

</LI>
</P>
<P><LI>Click the Add button to add a new user or group to the 
Access Control List (ACL) for this project.

</LI>
</P>
<P><LI>In the Add Groups dialog box (shown in Figure 22-5), select the 
users or groups.
</LI>
</P>
</OL>




<P>
<IMG SRC="images/f22LH05.gif" width=396 height=361 ALIGN="BOTTOM" BORDER=0>

</P>
<P>
<!-- CAPTION --><B>Figure 22-5.</B> <I>The Add Groups dialog box lets you select users or groups to 
add to the list of authorized users or groups for a project.</I><!-- /CAPTION -->

</P>

<div class="note"><BLOCKQUOTE><P><B>NOTE</B>
<HR>The Web Project|Web Permissions&#8230; menu item under the 
Visual InterDev Project menu is available only if your Web project resides 
on an NTFS partition. If you are running your Web root under the FAT 
file system, are running Windows NT, and wish to convert to NTFS, you 
can do so by running the CONVERT program from the DOS Prompt. 
The CONVERT program converts FAT volumes to NTFS and has the 
following syntax,

</P>
<P><PRE>
<I>CONVERT drive: /FS:NTFS [/V]</I>
</PRE>

</P>
<P>where

</P>
<UL>
<P><LI>drive specifies the drive to convert to NTFS. Note that you cannot convert the current drive.
</LI>
</P>
<P><LI>/FS:NTFS specifies to convert the volume to NTFS.
</LI>
</P>
<P><LI>[/V] specifies that Convert should be run in verbose mode.
</LI></P>
</UL>




<P>To check the file system of your drives, you can choose 
Start|Programs|Administrative Tools (Common)|Disk Administrator. The 
Disk Administrator will tell you the format for each volume (logical 
drive) on your machine.</P></BLOCKQUOTE></DIV>


<A NAME="403"><H2>Connecting to a Proxy Server</H2></A><P>A new feature in Visual InterDev 6.0 allows you to specify the settings for 
proxy servers. You can either have Visual InterDev use the same proxy server as 
the operating system or you can specify a particular proxy server just for your 
Web project.

</P>
<P>To access the proxy server settings within Visual InterDev:

</P>
<OL>
<P><LI>Choose Options from the Visual InterDev Tools menu to open 
the Options dialog box.

</LI>
</P>
<P><LI>Expand the Projects node by clicking the plus sign (+).

</LI>
</P>
<P><LI>Select Web Proxy Settings under the Projects node.
</LI>
</P>
</OL>




<P>Figure 22-6 shows the Options dialog box with the Web Proxy 
Settings displayed in the right-hand pane.

</P>
<P>
<A HREF="javascript:fullSize('f22LH06x.htm')"> <IMG SRC="images/f22LH06.JPG" width=404 height=266 border=0 ALT="Click to view at full size."> </A>

</P>
<P>
<!-- CAPTION --><B>Figure 22-6.</B> <I>The Options dialog box within Visual InterDev showing the 
Web Proxy Settings.</I><!-- /CAPTION -->

</P>
<P>Specifying the proxy server is useful when you are developing against 
a Web server that is outside of your corporate firewall on the Internet. Using 
the proxy can help to get you outside your intranet and onto the development 
Web server on the Internet.

</P>
<P>To use the same proxy server as the operating system, simply check 
the<I> </I>Use System Settings check box. To use other customized settings, uncheck 
the Use System Settings check box and enter the name of the proxy server to use 
in the HTTP Proxy text box. Next enter the IP addresses of any hosts that 
should not use the proxy server in the List Of Hosts Without Proxy text box.

</P>
<P>If you want all local IP addresses on your intranet to be accessed 
without using the proxy server you have just entered, check 
the<I> </I>Do Not Use Proxy Server For Local (Intranet) Addresses check box.

</P>
<A NAME="404"><H2>NTFS Permissions</H2></A><P>The Windows NT File System (NTFS) supports the concept of user 
permissions through an Access Control List (ACL). The ACL contains information on 
which users and groups have permissions for specific files and directories.

</P>
<P>Any member of the Windows NT Administrators group can modify the 
ACL for any file or directory. (It might be necessary to take ownership of that 
object first.) Removing the Anonymous User account from the ACL for a file 
or directory means that anyone trying to access that file is prompted for a 
valid Windows NT user name and password. If the user supplies a proper user 
name and password, the user is granted access; otherwise, access is denied.

</P>
<P>
<div class="note"><BLOCKQUOTE><B>NOTE</B>
<HR>
Windows NT supports the FAT file system in addition to 
NTFS. FAT does not support ACLs. You can use file and directory 
permissions only on disk partitions that use NTFS as the file system.</BLOCKQUOTE></DIV>

</P>
</BODY>
</HTML>





