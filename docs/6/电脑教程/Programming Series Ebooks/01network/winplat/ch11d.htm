<HTML>
<HEAD>
<TITLE>ATM Multicasting</title>
<link rel="STYLESHEET" type="text/css" href="Library.css">


</head>
<BODY BGCOLOR="#FFFFFF" TEXT="#000000">
<SCRIPT LANGUAGE="JavaScript">
<!--

function fullSize(sURL){
	window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}

function LibraryHeaderNav(sBackward, sForward, sImgLeftOff, sImgLeftOn, sImgRightOff, sImgRightOn, iH, iW, sImgLeftStyle, sImgRightStyle, sImgRuleStyle, sRuleColor, sRuleSize){
	var tableStr;
	//validate questionable args for defs
	tableStr = "<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 border=0 width=100%>";
	tableStr += "<TR VALIGN=top ALIGN=right>";

	tableStr += "<TD align=right class=" + sImgRuleStyle + ">&nbsp;</TD>";	
	
	tableStr += "<TD width=34 align=right class=" + sImgLeftStyle + ">";
	tableStr += "<A href='" + sBackward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgLeftOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgLeftOff + '\'\"';
	tableStr += " SRC='" + sImgLeftOff + "' vspace=0 hspace=0></a></TD>";
	
	tableStr += "<TD width=34 align=left class=" + sImgRightStyle + ">";
	tableStr += "<A href='" + sForward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgRightOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgRightOff + '\'\"';
	tableStr += " SRC='" + sImgRightOff + "' vspace=0 hspace=0></a></TD></TR>";

	tableStr += "<TR VALIGN=top>";
	tableStr += "<TD height=3 align=center colspan=3 class=" + sImgRuleStyle + ">";
	tableStr += "<HR color=" + sRuleColor + " size=" + sRuleSize + "></TD></TR></TABLE>";
	//alert(tableStr);
	document.write(tableStr);
}

 																						     //purple is: #aa22aa   orange is: #ff9900
LibraryHeaderNav("ch11c.htm" , "ch11e.htm", "images/unit_o_a1.gif", "images/unit_o_a2.gif", "images/unit_o_b1.gif", "images/unit_o_b2.gif", 18, 34, "unit01", "unit02", "headerrule", "#ff9900", "2");
//--></SCRIPT>



<A NAME="329"><H1>ATM Multicasting</H1></A>

<p>Native ATM through Winsock also supports multicasting, which offers significantly different capabilities than IP multicasting. Remember that ATM supports rooted control and data planes, meaning that when a multicast server, or c_root, is established, it has control over who is allowed to join the group as well as how data is transmitted within the group.</p>

<p>One important distinction is that on an ATM network, IP over ATM can be enabled. This configuration allows the ATM network to emulate an IP network by mapping IP addresses to ATM native addresses. With IP over ATM enabled, you have a choice of using IP multicasting, which will be translated appropriately to the ATM layer, or using the native ATM multicasting capabilities, which we present in this section. The behavior of IP multicasting on ATM when configured for IP over ATM should be the same, as it appears that you are on an IP network. The only exception is that IGMP is not present because all multicast calls are translated into ATM native commands. Additionally, it is possible to configure an ATM network with one or more LAN emulation (LANE) networks. The purpose of a LANE is to make the ATM appear as a &quot;regular&quot; network capable of multiple protocols such as IPX/SPX, NetBEUI, TCP/IP, IGMP, ICMP, and so on. In this situation, IP multicasting does in fact look every bit like IP multicasting on
an Ethernet network, which means IGMP is present as well.</p>

<p>We mentioned that ATM supports rooted control planes and rooted data planes. This means that when you create a multicast group, you establish a root node that &quot;invites&quot; leaf nodes to join the multicast group. In Windows 2000, only root-initiated joins are currently supported, meaning that a leaf cannot request to be added to a group. Additionally, the root node (as a rooted data plane) sends data in one direction only, from the root to the leaves.</p>

<p>One startling contrast between ATM and IP multicasting is that ATM needs no special addresses. All that is required is that the root have knowledge of the addresses of each leaf that it will invite. Also, only one root node can be in a multicast group. If another ATM endpoint starts inviting the same leaves, this association becomes a separate group from the first.</p>

<A NAME="330"><H2>ATM Leaf Nodes</H2></A>

<p>Creating a leaf node in a multicast group is straightforward. On an ATM network, the leaf must listen for an invitation from a root to join a group. The necessary steps are outlined below.</p>

<ol>
<p><li> Using the <i>WSASocket</i> function, create a socket of address family <i>AF_ATM</i> with the flags <i>WSA_FLAG_MULTIPOINT_C_LEAF</i> and <i>WSA_FLAG_MULTIPOINT_D_LEAF</i></li></p>

<p><li> Bind the socket to the local ATM address and port with the <i>bind</i> function.</li></p>

<p><li> Call <i>listen</i>.</li></p>


<p><li> Wait for an invitation using <i>accept</i> or <i>WSAAccept</i>. Depending on the I/O model you use, this will differ. (See <a href="ch08a.htm">Chapter 8</A> for a more thorough description of the Winsock I/O models.)</li></p>
</ol>

<p>Once the connection is established, the leaf node can receive data sent from the root. Remember that with ATM multicasting, the data flow is one way: from the root to the leaves.</p>

<p><div class="note"><blockquote><b>NOTE</b><hr>Windows 98 and Windows 2000 currently support only a single ATM leaf node on the system at any given time. That is, only a single process on the entire system can be a leaf member of any ATM point-to-multipoint session.</blockquote></div>
</p>

<A NAME="331"><H2>ATM Root Nodes</H2></A>

<p>Creating a root node is even easier than creating an ATM leaf. The basic steps are</p>

<ol>
<p><li> Using the <i>WSASocket</i> function, create a socket of address family <i>AF_ATM</i> with the flags <i>WSA_FLAG_MULTIPOINT_C_ROOT</i> and <i>WSA_FLAG_MULTIPOINT_D_ROOT</i></li></p>

<p><li>Call <i>WSAJoinLeaf</i> with the ATM address for each endpoint you want toçˆ„nvite.</li></p>


<p>A root node can invite as many endpoints as it wants, but it must issue a separate <i>WSAJoinLeaf</i> call for each.</p>
</ol>

</BODY>
</HTML>




