<HTML>
<HEAD>
<TITLE>The DriverEntry Routine</TITLE>
<link rel="STYLESHEET" type="text/css" href="waltoney.css">

<SCRIPT LANGUAGE="JavaScript"><!-- 
function fullSize(sURL){window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}
--></SCRIPT>
</head>
<BODY bgcolor="#ffffff" text="#000000">
<p>
<A HREF="ch02b.htm">[Previous]</A> <A HREF="ch02d.htm">[Next]</a>
</p>

<A NAME="40"><H1>The DriverEntry Routine</H1></A>

<p>In the preceding section, I said that the PnP Manager loads the drivers needed for hardware
and calls their AddDevice functions. A given driver might be used for more than one piece of
similar hardware, and there's some global initialization that the driver needs to perform
only once when it's loaded for the first time. That global initialization is the
responsibility of the <b>DriverEntry</b> routine.</p>

<p>DriverEntry is the name conventionally given to the main entry point to a kernel-mode
driver. The I/O Manager calls the routine as follows:</p>

<p>
<table cellpadding=5 width="95%"><tr><td>
<pre>
extern