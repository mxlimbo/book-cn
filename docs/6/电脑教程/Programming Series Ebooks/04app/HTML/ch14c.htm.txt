<HTML>
<HEAD>
<TITLE>Virtual Memory Status</TITLE>
<link rel="STYLESHEET" type="text/css" href="advwin4.css">
<SCRIPT LANGUAGE="JavaScript"><!-- 
function fullSize(sURL){window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}
--></SCRIPT>
</HEAD>
<BODY BGCOLOR="#ffffff" TEXT="#000000">
<A HREF="ch14b.htm">[Previous]</A> <A HREF="ch14d.htm">[Next]</A><P>

<A NAME="186"><H1>Virtual Memory Status</H1></A>

<p>A Windows function called <i>GlobalMemoryStatus</i> retrieves
dynamic information about the current state of memory:</p>

<p><table cellpadding=5 width="95%"><tr><td>
<PRE>
VOID燝lobalMemoryStatus(LPMEMORYSTATUS爌mst);
</pre>
</td></tr></table></p>

<p>I think that this function is poorly named&#8212;<i>GlobalMemoryStatus</i> implies that the function is somehow related to the global heaps in 16-bit Windows. I think that <i>GlobalMemoryStatus</i> should have been called something like <i>VirtualMemoryStatus</i> instead.</p>

<p>When you call <i>GlobalMemoryStatus</i>, you must pass the address of a
MEMORYSTATUS structure. The MEMORYSTATUS data structure is shown below.</p>

<p><table cellpadding=5 width="95%"><tr><td>
<PRE>
typedef爏truct燺MEMORYSTATUS爗
牋燚WORD燿wLength;
牋燚WORD燿wMemoryLoad;
牋燬IZE_T燿wTotalPhys;
牋燬IZE_T燿wAvailPhys;
牋燬IZE_T燿wTotalPageFile;
牋燬IZE_T燿wAvailPageFile;
牋燬IZE_T燿wTotalVirtual;
牋燬IZE_T燿wAvailVirtual;
}燤EMORYSTATUS,