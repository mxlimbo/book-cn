<HTML>
<HEAD>
<TITLE>Switching to Another Thread</TITLE>
<link rel="STYLESHEET" type="text/css" href="advwin4.css">
<SCRIPT LANGUAGE="JavaScript"><!-- 
function fullSize(sURL){window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}
--></SCRIPT>
</HEAD>
<BODY BGCOLOR="#ffffff" TEXT="#000000">
<A HREF="ch07d.htm">[Previous]</A> <A HREF="ch07f.htm">[Next]</A><P>

<A NAME="100"><H1>Switching to Another Thread</H1></A>

<p>The system offers a function called <i>SwitchToThread</i> that
allows another schedulable thread to run if one exists:</p>

<p><table cellpadding=5 width="95%"><tr><td>
<PRE>
BOOLç‡¬witchToThread();
</pre>
</td></tr></table></p>

<p>When you call this function, the system checks to see whether there is a thread that is being starved of CPU time. If no thread is starving, <i>SwitchToThread</i> returns immediately. If there is a starving thread, <i>SwitchToThread</i> schedules that thread (which might have a lower priority than the thread calling <i>
SwitchToThread</i>). The starving thread is allowed to run for one time quantum and then the system scheduler operates as usual.</p>

<p>This function allows a thread that wants a resource to force a
lower-priority thread that might currently own the resource to relinquish the resource. If no other thread can run when <i>SwitchToThread</i> is called, the function returns FALSE; otherwise, it returns a nonzero value.</p>

<p>Calling <i>SwitchToThread</i> is similar to calling <i>Sleep</i> and passing it a timeout of 0 milliseconds. The difference is that <i>SwitchToThread</i> allows lower-priority threads to execute. <i>Sleep</i> reschedules the calling thread immediately even if lower-priority threads are being starved.</p>

<P><DIV CLASS="NOTE"><BLOCKQUOTE>
<b>Windows 98</b><hr>
Windows 98 does not have a useful implementation for this function.
</blockquote></div></p>

</BODY>
</HTML>






