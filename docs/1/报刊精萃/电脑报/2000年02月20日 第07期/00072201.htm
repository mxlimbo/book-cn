 
<HTML>
 
<HEAD>
<META HTTP-EQUIV='Content-Type' CONTENT='text/html; charset=gb2312'>
<META NAME='author' CONTENT='William Wan'>
<LINK REL='STYLESHEET' HREF='images/cpcw.css' TYPE='text/css'>
 
<TITLE>电脑报电子版 -- 好山、好水、好风光——3DMAX实战</TITLE>
 
<style type="text/css">
<!--
.centertitle {  font-weight: bold; text-align: center; line-height: 35px; font-size: 9pt; color: #000000}
.lefttitle {  line-height: 35px; font-weight: bold; font-size: 9pt; color: #000000}
-->
</style>
</HEAD>
<BODY BGCOLOR='white'>
<span class="centertitle"></span><A NAME='top'></A> 
<TABLE BORDER='0' WIDTH='468' CELLSPACING='0' CELLPADDING='0' HEIGHT='6' ALIGN='Center' BGCOLOR='#CCCC99'>
  <TR VALIGN='top'> 
    <TD WIDTH='100%'><IMG SRC='../../images/dot.gif' WIDTH='468' HEIGHT='1'></TD>
  </TR>
</TABLE>
<TABLE WIDTH='468' BORDER='0' CELLSPACING='0' CELLPADDING='0' ALIGN='Center'>
  <TR> 
    
    <TD WIDTH='470' BGCOLOR='#CCCC99' HEIGHT='50'><IMG SRC='images/yjds.gif' WIDTH='468' HEIGHT='60' ALT='广告Logo' BORDER='0'></TD>
  </TR>
</TABLE>
<TABLE BORDER='0' WIDTH='468' CELLSPACING='0' CELLPADDING='0' HEIGHT='2' ALIGN='Center' BGCOLOR='#CCCC99'>
  <TR> 
    <TD WIDTH='100%'><IMG SRC='../../images/pixel.gif' WIDTH='1' HEIGHT='1'></TD>
  </TR>
</TABLE>
<TABLE BORDER='0' WIDTH='468' CELLSPACING='0' CELLPADDING='0' HEIGHT='3' ALIGN='Center' BGCOLOR='#CCCC99'>
  <TR VALIGN='bottom'> 
    <TD WIDTH='100%'><IMG SRC='../../images/dot.gif' WIDTH='468' HEIGHT='1'></TD>
  </TR>
</TABLE>
<TABLE WIDTH='468' BORDER='0' CELLSPACING='0' CELLPADDING='2' ALIGN='Center'>
  <TR> 
    <TD WIDTH='615' COLSPAN='2'><font color="#FF6666">当前位置：</font>CPCW电子版 
      &gt; 2000 年 &gt; <a href="index.html">07期</a> 
      &gt; <a href="software.html">软件世界</a> 
      &gt; 好山、好水、好风光——3DMAX实战</TD>
  </TR>
</TABLE>
<TABLE WIDTH='468' BORDER='0' CELLSPACING='0' CELLPADDING='0' ALIGN='center'>
  <TR ALIGN='center' VALIGN='bottom'> 
    <TD HEIGHT='6'><IMG SRC='../../images/dot.gif' WIDTH='468' HEIGHT='1'></TD>
  </TR>
</TABLE>
<BR>
<TABLE WIDTH='468' BORDER='0' CELLSPACING='0' CELLPADDING='2' BGCOLOR='#FFCC66' ALIGN='center'>
  <TR> 
    <TD><SPAN CLASS='title'>《 好山、好水、好风光——3DMAX实战 
      》</SPAN></TD>
  </TR>
</TABLE>
<BR>
<TABLE WIDTH='468' BORDER='0' CELLSPACING='0' CELLPADDING='2' ALIGN='center'>
  <TR> 
    <TD> 
      <p><b>　　一、前期准备</b></p>
      　　1.在开始实例之前，请重新启动3D MAX，或者单击“File”菜单上的“Reset”命令，将3D MAX复位。<br>
      　　2.将要用到的各种贴图拷贝到3D MAX的贴图路径下，默认的目录为“：\Maps”。<br>
      　　3.从“File”菜单中选中“Open”命令，打开3D MAX配套光盘中的“Stream.max”文件。<br>
      　　注：在本例中用到各种方位值都是基于“Absolute World Coordibates”（绝对世界坐标）。当创建物体时，如果可能的话，最好使用键盘输入；当移动物体时，最好使用位于“Tool”菜单中的“Transform 
      Type－In”对话框，这样能保证精确性。 
      <p><b>　　二、创建小溪</b></p>
      　　首先，我们要创建一个物体，并对其进行变形：<br>
      　　1.用鼠标单击工具栏上的“Create\Quad Patch”，在Top视窗的中部创建一个四面体，Length=250；Width=22；Length 
      Segments=6，如图1所示。<br>
      　　2.在工具栏上的“名字输入框”中，将其命名为“Stream”。<br>
      　　3.单击工具栏上的“Modify”图标，在下拉命令列表中选择“Edit Patch”命令，将“Step”设为“45”。<br>
      　　4.在用鼠标单击“Sub－Object”按钮（子物体编辑），进入子物体编辑状态。再按钮右边的自物体选择列表中选择“Vertices”（端点）。然后，在Top视窗中选择一些端点，并将其沿着X轴移动，随意改变“Stream”的宽度，使“Stream”的边缘变得不规则。完成后，再用鼠标点击“Sub－Object”按钮（子物体编辑），退出子物体编辑状态。<br>
      　　5.单击编辑视窗右边命令面板上的“Modify\Edit Mesh”按钮，将其由2维物体转换为多边形的3维实体。<br>
      　　6.用鼠标单击命令面板上的“Modify\More”按钮，在弹出的命令列表对话框中选择“Displace”命令，将参数设置如下：<br>
      　　Strength=1<br>
      　　Planar=selected<br>
      　　7.在“Displace Parameters”（位移参数）对话框中的“Image Selection”（图像选择）栏中，用鼠标单击“Map”标签下“None”按钮，在弹出的贴图类型对话框中选择“Noise”（噪声）贴图。<br>
      　　8.用鼠标单击工具栏上的“Material Editor”（材质编辑器图标），打开材质编辑器。将命令面板上标有“Map ＃1”（Noise）的按钮用鼠标托拽到材质编辑器的第一个材质编辑视窗中。在随即弹出的对话框中选择“Istance”按钮，然后单击“OK”按钮确定。<br>
      　　9.在材质编辑视窗中将该材质命名为“Displacement”。<br>
      　　10.在材质参数对话框中，将参数设置如下：<br>
      　　Noise Type=fractal<br>
      　　Size=3<br>
      　　这时，你会发现编辑视窗中的“Stream”表面发生了如水波一般的扭曲变形，如图2所示。<br>
      　　11.将鼠标移到编辑视窗下方动画编辑区，并选中“Animate”按钮。该按钮呈现红色，表明已进入动画编辑状态。将时间滑块调整到100帧处，在材质编辑参数中将Y 
      的“Offset”设为－50，将“Phase”设为5。该步操作将使得在100帧时，“Stream”沿着Y轴产生了－50个单元的噪声波动。关闭材质编辑窗口，退出材质编辑状态。用鼠标再次单击“Animate”按钮，退出动画编辑状态。<br>
      　　12.单击编辑视窗右边的命令面板上的“Create\Shapes\Splines\Line”按钮，在TOP视窗绘制一条弯曲的曲线，如图3所示，作为“Stream”的流动轨迹。当然，你也可以使用“Modify\Edit 
      Spline”命令来调整该曲线的形状，直到你满意为止。注意：一定要由上至下地绘制这条曲线，这在以后的步骤中显得十分重要。<br>
      　　13.先用鼠标选中“Stream”，然后选中命令面板上的“Modify\More”按钮，在弹出的Modify选择列表中选中“PathDeform”命令，对“Stream”进行路径变形。<br>
      　　14.在随后出现的“PathDeform”参数选择框中选择“Pick Object”按钮，然后在视图编辑视窗中选择刚才创建的曲线，将该曲线作为变形的路径。<br>
      　　15.然后选择参数选择框下方的“Move To Path”按钮，并且在“Path Deform Axis”话框中选中Y轴作为路径变形的方向轴，设置参数如下：<br>
      　　Percent=50<br>
      　　Rotation=90<br>
      　　现在，一条表面跳着水花，流动着的小溪就制作完了，如果你性急的话，可以按下工具栏中的“Quick Render”按钮，进行着色，看看效果。 
      <p><b>　　三、创建地形和环境</b></p>
      　　在以下的步骤中你所要作的是创建环绕这条小溪的山地和空间环境背景。<br>
      　　1.用鼠标选中编辑视窗中的TOP视窗，将TOP视窗作为当前编辑窗口。<br>
      　　2.用鼠标选择命令面板上的“Create\Geometry\Patch Grids\Quad Patch”按钮，在TOP视窗中建立一个四面体，位置：X=－15.8，Y=12.7，Z=－0.65。使其恰好与“Stream”交迭。并将参数设置如下：<br>
      　　Length=158<br>
      　　Width=190<br>
      　　Length Segments=1<br>
      　　Width Segment=1<br>
      　　3. 在工具栏上的名字输入框中，将其命名为“Land”。<br>
      　　4.在工具栏上选择“Select And Move”按钮，并在编辑视窗中调整“Land”的位置，将“Stream”恰好位于“Land”的上方。<br>
      　　5.选中“Land”，用鼠标单击命令面板上的“Modify\Edit Patch”按钮，对“Land”进行编辑。在属性窗口的“Select 
      Level”参数框中，按下“Sub－object”按钮，退出次物体编辑状态。在“Edit Object”属性窗中将“Steps”设为80。<br>
      　　6.用鼠标选择命令面板上的“Modify\Edit Mesh”按钮，在属性窗口的“Select Level”参数框中，按“Sub－object”按钮，退出次物体编辑状态。这步操作将四面体转换为多边形物体。<br>
      　　7.在TOP编辑视窗中，将鼠标指向“Viewport Label”，单击鼠标右键，在出现的快捷菜单中选择“Show Safe Frame”。这时在TOP视窗上出现了黄、绿、蓝三个四方形的线条，通过命令面板下方的“ViewPort 
      Navigation” 视图导航工具栏上的工具，自行调整“Land”的位置，使其完全位于黄色安全线条之内。<br>
      　　8.单击工具栏上的“Render”按钮，在弹出的“Render Scene”窗口中将“Out put Size”中的“Width”和“Length”设为500×500。在“Render 
      Output”属性框中选中“Files”按钮，输入要存储的文件名：“Land2_disp.tga”。<br>
      　　9.存储完毕后，打开任意一个图像编辑软件如：Photohop或者Painter，用黑、白色对“Land2_disp.tga”进行编辑。在以后的步骤中将会利用编辑后的图片作为“Displament”贴图。<br>
      　　10.在TOP视窗中，同样单击鼠标右键，在快捷菜单中重新选择“Show Safe Frame”，关闭显示安全帧。 　　11.选择“Land”物体，并且在命令面板中选择“Modify\More”按钮，在Modify列表中选择“Displace”命令，对“land”进行置换操作。<br>
      　　12.在“Displace”的“Image属性”对话框中，单击“None”按钮，选择“Land2_disp.tga”，将其作为置换贴图。并将“Strength”设为12。<br>
      　　13.在编辑窗口中，单击“Perspective”视窗，将“Perspective”视窗激活为当前视窗。单击鼠标右键，选择“Smooth＋Highlights”，将其设为默认的预览模式。在常用工具栏上的“Reference 
      Coordinate System”选择框中，选中“View”作为参考坐标系统。<br>
      　　14.选中“Land”物体，使其沿着Z轴移动，对“Land”的位置进行微调，调整后的结果如图4所示。<br>
      　　15.选中“Render”下拉菜单中的“Environment”命令。在出现“Common Parameter”对话框中，单击“Background”属性窗中“Enviroment”下的“None”按钮，在“Material\Map 
      Browser”对话框中选择“Bitmap”，然后单击“OK”按钮，这时按钮显示为“Map＃1(Bitmap)”。<br>
      　　16.打开材质编辑器，用鼠标将“Common Parameter”对话框中的“Map＃1（Bitmap）”拖拽到材质编辑窗中的“Material＃1” 
      处。这时“Map＃1（Bitmap）”就被“Material＃1”的材质取代了。<br>
      　　17.在材质编辑窗中，通过鼠标单击“Bitmap parameter”属性框中的空白按钮，选择“Sky.jpg”作为背景贴图。<br>
      　　现在，在编辑视窗中已经“有山有水”了，如图5所示。 
      <p><b>　　四、设置灯光、摄像机</b></p>
      　　在这部分操作中，你可以为场景设置灯光。<br>
      　　1.单击命令面板上的“Create\Lights\omni”按钮，在TOP视窗中建立泛光灯1，该泛光灯将成为本场景的主要灯源。用鼠标将该泛光灯置于“Land”物体的正上方，位置如下：X=16.511，Y=16.427，Z=50.928。其它参数为：V=180；Cast 
      Shadows=on；Use Ray－Traced Shodows=Selected。<br>
      　　2.用同样的方法在TOP视窗的右下方设泛光灯2，作为场景的补充光源。坐标位置如下：X=118，Y=－118，Z=81，其它参数为：V=100。<br>
      　　3.继续用同样的方法在TOP视窗的左上方设泛光灯3，坐标位置如下：X=－65.575，Y=185.244，Z=67.126，其它参数为：V=130。<br>
      　　4.选择泛光灯3，用鼠标单击命令面板上的“Modify”按钮，在属性窗口中，单击“Exclude”按钮，在随后出现的“Include\Exclude”对话框中，选定“Include”。在左边的物体列表框中，选中“Stream”，并单击右向箭头，将其移动到右边的选择列表中。现在，泛光灯3就仅仅对“Stream”产生影响了。<br>
      　　5.单击命令面板上的“Create\Camera\Target Camera”按钮，在编辑视窗中创建一台自由摄像机，视点位置如下：X=50.448，Y=－36.13，Z=9.938，目标点的位置：X=30.518，Y=－10.23，Z=－1.422。<br>
      　　OK！到现在，我们的任务基本上要完成了，下面要作的事情就是为每个物体创建材质。 
      <p><b>　　五、创建材质</b></p>
      　　首先，你必须为山地创建一个逼真的材质，该材质要能够产生一种河床上卵石密布，绿草丛生的意境，由于山地的材质制作已经不是什么秘密了，所以这里就不作介绍。这里，我要给大家详细说明的是流水的材质制作方法，该材质能够模拟出光透过水面渐渐衰减的特效。这类材质的制作要用到Mix、Composite、Mask 
      Map、可变Displacement贴图等贴图类型。<br>
      　　1.单击常用工具栏上的“Material Editor”图标，打开材质编辑器。在材质编辑器中激活Slot 1编辑窗，并设置参数如下：<br>
      　　Ambient=（R=44，G=55，B=68）<br>
      　　Diffuse=（R=123，G=113，B=94）<br>
      　　Specular=（R=255，G=255，B=255）<br>
      　　Filter=（R=41，G=25，B=12）<br>
      　　Shininess=62<br>
      　　Shin，Strength=100<br>
      　　Opacity=30<br>
      　　2.在材质编辑窗下方的名字输入框中，将该材质取名为“Stream”。单击“Assign Material To Selection”按钮，将该材质赋予“Stream”物体。<br>
      　　3.在材质编辑器的Map属性窗口中，单击“Bump”右边的“None”按钮，在弹出的“Material\Map Browser”窗口中选择“Noise”贴图类型，为“Stream”材质加上“Noise”特效。在“Noise”属性窗口中，设置参数如下：<br>
      　　Coordinates=UVW1<br>
      　　Noise Type=Regular<br>
      　　Size=0.03<br>
      　　4.用鼠标单击场景编辑窗口下方的“Animate”按钮，使其显示红色，进入动画编辑状态。将时间滑动块拖至100帧处，然后在“Noise”属性编辑窗口中将V的“Offset”设为－1，“Phase”设为10。再次用鼠标点击“Animate”按钮，退出动画编辑状态。<br>
      　　5.用同样的方法为“Stream”材质加上“Thin Wall”折射贴图，其参数设置如下：<br>
      　　Every Nth Frame=1<br>
      　　Thickness Offset=0.5<br>
      　　Bump map Effect=2.0<br>
      　　6.同样，也可以为“Stream”材质加上“Reflect\Refract”反射贴图类型，设置参数如下：Source=Automatic<br>
      　　Use Environment Map=Checked<br>
      　　7.用鼠标点击材质编辑器工具栏上的“Go to Parent”按钮，回到父级窗口。在“Extened Parameter”属性窗口中设置参数如下：<br>
      　　Falloff Amt=100<br>
      　　Refract Map\Raytrace IOR=1.2<br>
      　　Falloff=IN<br>
      　　Type=Fliter<br>
      　　至此，你已完成了整个场景的制作。<br>
      <b>(林刚) </b></TD>
  </TR>
</TABLE>
<TABLE WIDTH='468' BORDER='0' CELLSPACING='0' CELLPADDING='2' ALIGN='center'>
  <TR> 
    <TD>下载本期推荐软件</TD>
    <TD ALIGN='right'><A HREF='#top'>页 首</A></TD>
  </TR>
</TABLE>
<BR>
<TABLE WIDTH='468' BORDER='0' CELLSPACING='0' CELLPADDING='0' ALIGN='center'>
  <TR ALIGN='center' VALIGN='bottom'> 
    <TD HEIGHT='6'><IMG SRC='../../images/dot.gif' WIDTH='468' HEIGHT='1'></TD>
  </TR>
</TABLE>
<TABLE WIDTH='468' BORDER='0' CELLSPACING='0' CELLPADDING='2' ALIGN='center'>
  <TR ALIGN='center'> 
    <TD>&nbsp; 
      
       </TD>
    <TD> CPCW版权所有，<A HREF='mailto:webmaster@cpcw.com'>CPCW网站编辑部</A>设计制作发布</TD>
  </TR>
</TABLE>
</BODY>

</HTML>
