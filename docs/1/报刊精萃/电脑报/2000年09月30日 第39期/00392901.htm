 
<HTML>
<!-- #BeginTemplate "/模板/HARDWARE.dwt" --> 
<HEAD>
<META HTTP-EQUIV='Content-Type' CONTENT='text/html; charset=gb2812'>
<META NAME='author' CONTENT='William Wan'>
<LINK REL='STYLESHEET' HREF='epcw.css' TYPE='text/css'>
<!-- #BeginEditable "doctitle" --> 
<TITLE>电脑报电子版 --硬盘软故障排队基本知识及实例</TITLE>
<!-- #EndEditable --> 
<style type="text/css">
<!--
.centertitle {  font-weight: bold; text-align: center; line-height: 35px; font-size: 9pt; color: #000000}
.lefttitle {  line-height: 35px; font-weight: bold; font-size: 9pt; color: #000000}
-->
</style>
</HEAD>
<BODY BGCOLOR='white'>
<span class="centertitle"></span> 
<TABLE BORDER='0' WIDTH='615' CELLSPACING='0' CELLPADDING='0' HEIGHT='6' ALIGN='Center' BGCOLOR='#CCCC99'>
  <TR VALIGN='top'> 
    <TD WIDTH='100%'><IMG SRC='../../../images/dot.gif' WIDTH='615' HEIGHT='1'></TD>
  </TR>
</TABLE>
<TABLE WIDTH='615' BORDER='0' CELLSPACING='0' CELLPADDING='0' ALIGN='Center'>
  <TR> 
    <TD WIDTH='145' BGCOLOR='#CCCC99' 	ALIGN='Center' VALIGN='t<A HREF='http://www.yesky.com'><IMG SRC='images/logo.gif' WIDTH='140' HEIGHT='60' ALT='天极网' BORDER='0'></TD>
    <TD WIDTH='470' BGCOLOR='#CCCC99' HEIGHT='50'> 
      <a href="http://chat.yesky.com" target="_blank"><img src="images/0823-3.gif" width="468" height="60" border="0"></a>
    </TD>
  </TR>
</TABLE>
<TABLE BORDER='0' WIDTH='615' CELLSPACING='0' CELLPADDING='0' HEIGHT='2' ALIGN='Center' BGCOLOR='#CCCC99'>
  <TR> 
    <TD WIDTH='100%'><IMG SRC='../../../images/pixel.gif' WIDTH='1' HEIGHT='1'></TD>
  </TR>
</TABLE>
<TABLE BORDER='0' WIDTH='615' CELLSPACING='0' CELLPADDING='0' HEIGHT='3' ALIGN='Center' BGCOLOR='#CCCC99'>
  <TR VALIGN='bottom'> 
    <TD WIDTH='100%' height="4"><IMG SRC='../../../images/dot.gif' WIDTH='615' HEIGHT='1'></TD>
  </TR>
</TABLE>
<TABLE WIDTH='615' BORDER='0' CELLSPACING='0' CELLPADDING='2' ALIGN='Center'>
  <TR> 
    <TD WIDTH='615' COLSPAN='2'><font color="#FF6666">当前位置：</font><A HREF='http://www.cpcw.com/index.html'>CPCW电子版</A> 
      &gt; <A HREF='http://www.cpcw.com/all.html'>2000年</A> &gt; <a href="index.html"><!-- #BeginEditable "%C6%DA" -->38期<!-- #EndEditable --></a> 
      &gt; <!-- #BeginEditable "%C0%B8%C4%BF" --><a href="hardware.html">硬件周刊</a><!-- #EndEditable --> 
      &gt; <!-- #BeginEditable "%B1%EA%CC%E2" -->{硬盘软故障排队基本知识及实例}<!-- #EndEditable --></TD>
  </TR>
</TABLE>
<TABLE WIDTH='615' BORDER='0' CELLSPACING='0' CELLPADDING='0' ALIGN='center'>
  <TR ALIGN='center' VALIGN='bottom'> 
    <TD HEIGHT='6'><IMG SRC='../../../images/dot.gif' WIDTH='615' HEIGHT='1'></TD>
  </TR>
</TABLE>
<BR>
<TABLE WIDTH='615' BORDER='0' CELLSPACING='0' CELLPADDING='2' BGCOLOR='#FFCC66' ALIGN='center'>
  <TR> 
    <TD><SPAN CLASS='title'>《 <!-- #BeginEditable "%CE%C4%D5%C2%CD%B7" -->{硬盘软故障排队基本知识及实例}<!-- #EndEditable --> 
      》</SPAN></TD>
  </TR>
</TABLE>
<BR>
<TABLE WIDTH='615' BORDER='0' CELLSPACING='0' CELLPADDING='2' ALIGN='center'>
  <TR> 
    <TD><!-- #BeginEditable "%CE%C4%D5%C2%C4%DA%C8%DD" --> 
      <p>{　　硬盘，是计算机中主要的硬件设备，是人们存储大量数据信息的外存之一。而同时，它又是计算机中比较容易出现故障的设备。当出现硬盘故障时，如何使硬盘能够起死回生呢？本文根据笔者的一点心得体会，谈谈硬盘软故障排除的一些基本知识及故障排除实例。</p>
      <p>一、硬盘的构成　</p>
      <p> 　　硬盘由两部分构成：<br>
        　　1．磁头－盘片组件（Head Disk Assembly）,简称头盘组件(HDA)；<br>
        　　2．印刷电路板组件(Printed Circuit Board Assembly),简称PCBA。<br>
        　　在HDA的腔体内，是硬盘的磁盘片，磁盘片的数据结构，依磁道从低到高，由下列五部分组成：<br>
        　　(1)MBR：主引导区记录（Master Boot Record）<br>
        　　MBR位于硬盘的柱面0、磁头0、扇区1的位置，也即俗称的零磁道位置。它是由分区命令Fdisk产生的。MBR结束标志为55AA。用杀毒软件KV300＋的F6功能即可查看，其默认画面即为MBR。<br>
        　　(2)DBR：DOS启动记录(DOS Boot Record)<br>
        　　DBR位于硬盘的柱面0、磁头1、扇区1的位置。它是由格式化命令Format产生的。DBR结束标志为55AA。在KV300＋的F6功能下，按F1，所显示的画面即为DBR信息。<br>
        　　(3)FAT：文件分配表(File Allocation Table)<br>
        　　FAT表位于柱面0、磁头1、扇区2的位置。FAT表的大小由硬盘容量决定，硬盘容量愈大，FAT表相应愈大。<br>
        　　(4)DIR区：根目录区（Directory）<br>
        　　DIR区是根目录区的意思。当我们在DOS提示符下键入DIR并按回车键ENTER，显示器上所显示的内容即为该区内容。<br>
        　　(5)DATA区：数据区<br>
        　　DATA区负责硬盘中数据的存储。当将数据复制到硬盘时，数据就存放在DATA区。</p>
      <p>二、硬盘的工作模式</p>
      <p>　　目前，增强型IDE（EIDE）硬盘的工作模式分为三种：NORMAL、LBA和LARGE模式。<br>
        　　NORMAL模式即普通模式。这是原有IDE方式。在此方式下对硬盘访问时，BIOS和IDE控制器对参数不作任何转换。此模式下支持的最大柱面数为1024，最大磁头数为16，最大扇区数为63，每扇区字节数为512。因此支持最大硬盘容量为：512×63×16×1024=528MB<br>
        　　LBA(Logical Block Addressing)模式即逻辑块地址模式。在LBA模式下，设置的柱面、磁头、扇区等参数并不是实际的物理参数。在访问硬盘时，由IDE控制器把由柱面、磁头、扇区等参数确定的逻辑地址转换为实际硬盘的物理地址。在LBA模式下，可设置的最大磁头数为255，其余参数与普通模式相同。由此可计算出可访问的硬盘容量为：512×63×255×1024=8．4G<br>
        　　LARGE模式即大模式。当硬盘的柱面超过1024而又不为LBA支持时，可采用此种模式。LARGE模式采用的方法为把柱面数除以2，把磁头数乘以2，即使柱面数减少，但总容量不变。相反的转换过程由BIOS的INT 
        13H完成，以便取得正确的硬盘地址。LARGE模式支持最大硬盘容量为：512×63×32×512=1GB<br>
        　　现在的高容量硬盘都是设置成LBA，其他两种已经很少用了。</p>
      <p>三、硬盘的启动</p>
      <p>　　硬盘的启动过程如下：<br>
        　　第一步　BIOS测试硬盘。<br>
        　　第二步　加载硬盘启动程序，确认硬盘分配表。<br>
        　　第三步　加载DOS启动程序，确认BIOS参数区。<br>
        　　第四步　加载IO．SYS、MSDOS．SYS启动文件。<br>
        　　第五步　加载CONFIG．SYS文件。<br>
        　　第六步　加载COMMAND．COM系统文件。<br>
        　　第七步　加载AUTOEXEC．BAT批处理文件。</p>
      <p>排除实例</p>
      <p>　　要排除硬盘故障，当然要有适当的工具。以下是笔者常用的工具，仅供各位朋友参考。<br>
        　　软盘一张（1．44MB、3．5英寸）、DOS6．22系统盘、Win98启动盘、Win95（OSR2）启动盘、MAXTOR的Lformat．exe低级格式化软件、KV300＋杀毒盘。<br>
        　　硬盘故障大致可分为硬故障和软故障两大类<br>
        　　硬故障即PCBA板损坏、盘片划伤、磁头音圈电机损坏等。由于硬故障维修要求的基本知识及维修条件较高，本文在此不作介绍。<br>
        　　软故障即硬盘片数据结构由于某种原因，比如说病毒导致硬盘数据结构混乱甚至不可被识别而形成的故障。一般来说，主板BIOS硬盘自动检测（IDE 
        HDD AUTO DETECTION）功能能够检测到硬盘参数时，均为软故障。<br>
        　　硬盘软故障可按如下步骤排除：<br>
        　　第一步　检查主板BIOS中硬盘工作模式，看是否正确设置硬盘。<br>
        　　第二步　用相应操作系统的启动盘启动计算机。<br>
        　　第三步　检查硬盘标记55AA是否正常；活动分区标志80是否正常。以国产著名杀毒软件KV300＋为例，可用其F6功能查看，用F10功能自动修复。或用Fdisk／MBR格式重建分区表。<br>
        　　第四步　用杀毒盘（如KV300＋）查、杀病毒。注意：如用KV300＋查、杀病毒，应先用KV300／K格式清杀引导区病毒，再用KV300格式清杀病毒。<br>
        　　第五步　如果硬盘无法启动，可用系统盘传送系统。命令格式为：SYS　C：回车。<br>
        　　第六步　运行Scandisk命令以检查并修复FAT表或DIR区的错误。<br>
        　　第七步　如果软件运行出错，可重新安装操作系统及应用程序。<br>
        　　第八步　如果软件运行依旧出错，可对硬盘重新分区、高级格式化，并重新安装操作系统及应用程序。必要时可对硬盘低级格式化。<br>
        　　下面介绍一下MAXTOR的低级格式化程序Lformat．exe的用法：<br>
        　　在软盘上运行低级格式化程序，其命令格式为：<br>
        　　Lformat　回车<br>
        　　进入低级格式化程序主界面。主界面三个选项如下：<br>
        　　SELECT DEVICE<br>
        　　LOW LEVEL CURRENT DEVICE<br>
        　　EXIT<br>
        　　第一项为选择驱动器。编号为0、1、2、3，分别代表主板所能挂接的四个硬盘。当只有一个硬盘时，选0即可。第二项为低级格式化。当选中该项时，程序会提示是否按LBA模式低格，此时，可按具体情况选Y或N。大多数情况下选Y即可。之后，会提示硬盘上数据会全部丢失，问是否继续，此时键入Y即开始低级格式化硬盘。完成后，选第三项退出。</p>
      <p>　　下面介绍一些本人在工作中积累的一些软故障排除实例，供大家参考。<br>
        　　例一、故障现象<br>
        　　富士通1．2GB硬盘，硬盘参数可检测到，但启动时系统提示HD硬盘错。<br>
        　　分析及解决：<br>
        　　用软盘启动系统，用KV300＋清杀病毒，系统提示无硬盘。怀疑硬盘标记55AA被破坏，用KV300＋的F10功能自动修复。硬盘工作正常。<br>
        　　例二、故障现象<br>
        　　富士通1．2GB硬盘，硬盘参数可检测到，但启动后用DIR显示仅540MB。<br>
        　　分析及解决：<br>
        　　开机，进入BIOS设置画面。自动检测硬盘，为LBA模式下1．2GB硬盘，参数正常。用Fdisk重新分区、高级格式化，依然只有540MB容量。后用户称曾用一块486主板低级格式化该硬盘。考虑该486主板可能仅支持540MB硬盘，故在低级格式化该硬盘时，把1．2GB硬盘强制成540MB硬盘。用低级格式化程序Lformat低级格式化，重新分区、高级格式化，硬盘容量恢复为1．2GB。<br>
        　　例三、故障现象<br>
        　　昆腾2．1GB硬盘，硬盘参数可检测，Win97系统，启动时只有一个光标。<br>
        　　分析及解决：<br>
        　　考虑主板BIOS能够检测到硬盘参数，按软故障步骤处理，当用KV300＋杀毒盘杀毒时，发现TPVO／3783病毒，并成功杀死该病毒。重新启动机器，系统恢复正常。<br>
        　　例四、故障现象<br>
        　　希捷3．2GB硬盘，硬盘参数可检测，Win97系统，启动时只有一个光标。<br>
        　　分析及解决：<br>
        　　用杀毒盘杀毒，无病毒。考虑操作系统为Win97，用Dir／A格式查看隐含文件，发现有IO．SYS文件。我们知道：当在Win97启动时，按F8键并选择原有DOS模式时，可在硬盘根目录下产生IO．SYS文件。但不幸的是，Win97并不支持双引导。当进入原有DOS模式后，一旦再次启动，就无法正常引导Win97。找到故障点后，用Win97启动盘启动计算机，重新传送系统，机器恢复正常。<br>
        　　例五、故障现象<br>
        　　昆腾2．1GB硬盘，硬盘参数可检测，但启动时，系统提示：Missing Operating system。<br>
        　　分析及解决：<br>
        　　该系统提示意为：DOS被破坏。其错误原因为DOS引导记录坏或读写电路坏。考虑该计算机操作系统为UNIX，故进主板BIOS设置，发现硬盘工作模式为LBA方式。而UNIX操作系统要求硬盘工作模式为NORMAL方式。重设硬盘工作模式，系统正常。<br>
        　　同时，我将列出硬盘启动出错信息、含义及原因一览表，以方便读者查阅。<br>
        　　一般情况下，只要主板能够检测到硬盘参数，就有很大希望修复硬盘。当然，任何硬件的严重损坏，如PCBA板损坏或磁盘介质严重划伤，均不是可用软件来修复的。前文提到的分区命令Fdisk及高级格式化命令Format的用法，请参阅有关书籍。KV300＋杀毒盘的用法，请参阅KV300＋的用户手册。<br>
        (吉林　张芫珲)}</p>
      <!-- #EndEditable --></TD>
  </TR>
</TABLE>
<TABLE WIDTH='615' BORDER='0' CELLSPACING='0' CELLPADDING='2' ALIGN='center'>
  <TR> 
    <TD>&nbsp; </TD>
    <TD ALIGN='right'><A HREF='#top'>页 首</A></TD>
  </TR>
</TABLE>
<BR>
<TABLE WIDTH='615' BORDER='0' CELLSPACING='0' CELLPADDING='0' ALIGN='center'>
  <TR ALIGN='center' VALIGN='bottom'> 
    <TD HEIGHT='6'><IMG SRC='../../../images/dot.gif' WIDTH='615' HEIGHT='1'></TD>
  </TR>
</TABLE>
<TABLE WIDTH='615' BORDER='0' CELLSPACING='0' CELLPADDING='2' ALIGN='center'>
  <TR ALIGN='center'> 
    <TD> 
      <script language="JavaScript" src="../../download/yeskye.js">
</script>
    </TD>
    <TD> <a href='/'>《电脑报》版权所有</a>，<a href='mailto:webmaster@staff.yesky.com'>YESKY网站编辑部</a>设计制作发布</TD>
  </TR>
</TABLE>
</BODY>
<!-- #EndTemplate -->
</HTML>
