<HTML>
<HEAD>
<META HTTP-EQUIV='Content-Type' CONTENT='text/html; charset=gb2312'>
<META NAME='author' CONTENT='William Wan'>
<LINK REL='STYLESHEET' HREF='images/cpcw.css' TYPE='text/css'>
 
<TITLE>电脑报电子版 -- AutoCAD 中特殊工程符号的编制及调用</TITLE>
 
<style type="text/css">
<!--
.centertitle {  font-weight: bold; text-align: center; line-height: 35px; font-size: 9pt; color: #000000}
.lefttitle {  line-height: 35px; font-weight: bold; font-size: 9pt; color: #000000}
-->
</style>
</HEAD>
<BODY BGCOLOR='white'>
<span class="centertitle"></span><A NAME='top'></A> 
<TABLE BORDER='0' WIDTH='468' CELLSPACING='0' CELLPADDING='0' HEIGHT='6' ALIGN='Center' BGCOLOR='#CCCC99'>
<TR VALIGN='top'><TD WIDTH='100%'><IMG SRC='images/dot.gif' WIDTH='468' HEIGHT='1'></TD></TR>
</TABLE><TABLE WIDTH='468' BORDER='0' CELLSPACING='0' CELLPADDING='0' ALIGN='Center'>
<TR>

<TD WIDTH='470' BGCOLOR='#CCCC99' HEIGHT='50'>
      <div align="center">
        <img width="468" height="60" src="images/yjds.gif">
      </div>
    </TD>
</TR>
</TABLE><TABLE BORDER='0' WIDTH='468' CELLSPACING='0' CELLPADDING='0' HEIGHT='2' ALIGN='Center' BGCOLOR='#CCCC99'>
<TR>
<TD WIDTH='100%'><IMG SRC='images/pixel.gif' WIDTH='1' HEIGHT='1'></TD>
</TR>
</TABLE>
<TABLE BORDER='0' WIDTH='468' CELLSPACING='0' CELLPADDING='0' HEIGHT='3' ALIGN='Center' BGCOLOR='#CCCC99'>
<TR VALIGN='bottom'>
<TD WIDTH='100%'><IMG SRC='images/dot.gif' WIDTH='468' HEIGHT='1'></TD>
</TR></TABLE>
<TABLE WIDTH='468' BORDER='0' CELLSPACING='0' CELLPADDING='2' ALIGN='Center'>
<TR>
    <TD WIDTH='615' COLSPAN='2'><font color="#FF6666">当前位置：</font>CPCW电子版 
      &gt; 2000 年 &gt; <a href="index.html">20期</a> 
      &gt; <a href="oa.html">OA专刊</a>&gt; 
      AutoCAD 中特殊工程符号的编制及调用</TD>
</TR></TABLE>
<TABLE WIDTH='468' BORDER='0' CELLSPACING='0' CELLPADDING='0' ALIGN='center'><TR ALIGN='center' VALIGN='bottom'><TD HEIGHT='6'><IMG SRC='images/dot.gif' WIDTH='468' HEIGHT='1'></TD></TR></TABLE>
<BR><TABLE WIDTH='468' BORDER='0' CELLSPACING='0' CELLPADDING='2' BGCOLOR='#FFCC66' ALIGN='center'>
<TR>
    <TD><SPAN CLASS='title'>《 AutoCAD 
      中特殊工程符号的编制及调用 
      》</SPAN></TD>
</TR></TABLE><BR><TABLE WIDTH='468' BORDER='0' CELLSPACING='0' CELLPADDING='2' ALIGN='center'>
<TR>
    <TD>
      <p>　　计算机绘图是计算机应用的一个重要分支，用计算机不仅可以绘制出清晰、漂亮的图形，而且可以优化设计，提高图形设计的质量。目前国际上广泛流行的工程制图软件是AutoDESK公司的AutoCAD软件或以它为平台的进行二次开发的其它专业设计绘图软件。</p>
      <p> 　　在使用AutoCAD绘图中，经常需要标注文字和符号。AutoCAD为我们提供了常用的文字、字母、阿拉伯数字及符号，它们存储于AutoCAD的FONT子目录中的各个形文件中，如HZTXT.SHX、TXT.SHX、SIMPLEX.SHX等，可以使用TEXT或DTEXT等命令输入文字或符号，使用DDEDIT命令来编辑修改已输入的文字符号。但在工程设计中，常常用到一些与文字在一起的特殊符号，如建筑结构中的二级钢筋符号“　”，工字钢的符号“　”等，在现成的形文件中没有这些符号的代码。遇到这种情况，大多数AutoCAD用户都采用LINE，ARC，CIRCLE等基本绘图命令来“画”出这些符号，并通过比例缩放SCALE等编辑命令，使这些符号与其它文字说明在大小、高度上基本相同。这样做有两个缺点：(1)“画”这些符号比较繁琐，并且浪费时间，降低工作效率。(2)修改编辑这些符号不方便，无法与其它文字一起编辑(因为它们是基本图形，而不是字体文件)，而且在出图打印时，容易出现错位现象。</p>
      <p> 　　笔者通过多年的CAD经验和对字体文件的研究发现，修改字体文件可实现直接标注、调用特殊符号，并可与其它文字共同编辑修改，克服了以上列举的两项缺点。</p>
      <p> 　　AutoCAD中所有的字体、符号都是用形文件编制的，它的后缀为SHX。它的源文件叫作形描述文件，格式为文本文件，后缀为SHP，一般位于\Autocad\Source子目录中。每个*.SHX都对应一个*.SHP，可用DOS的全屏幕编辑命令EDIT来编辑*.SHP文件，但这个字体文件中没有“　”“　”等特殊工程字符。如果CAD中西方字型定义为SIMPLEX.SHX，则我们可以在SIMPLEX.SHP中加入如下几行：</p>
      <p> 　　*200，20，FAI </p>
      <p>　　2，8，(7，21)，1，03C，10，(7，024)，10，(7，064)，09C，09C，078，070，070，2，070，0 
      </p>
      <p>　　*201，17，GZG </p>
      <p>　　2，8，(0，21)，1，070，070，078，07C，07C，07C，078，070，070，2，070，0 </p>
      <p>　　编辑并存盘，启动AutoCAD后，执行COMPILE(编译)命令，将SIMPLEX.SHP编译为SIMPLEX.SHX，执行LOAD命令，加载SIMPLEX.SHX后，当需要调用“　”“　”时，使用DTEXT命令，键入％％200及％％201即可分别标注“　”“　”，并能够与其它文字，符号共同编辑修改。</p>
      <p> 　　形描述文件同样可以用来编制其它特殊符号，其规定及含义如下：形描述文件.SHP是由一个或多个形定义组成的，每个形的定义包括一个标题行和若干个描述行。</p>
      <p> 　<b>　一、标准行的规定如下：</b> </p>
      <p>　　*〈形编号〉，〈定义字节数〉，〈形名称〉</p>
      <p> 　　形编号是1到255的整数值，形定义字节数是包括结束符0在内的描述形所需要的数据字节数目，规定每个形的字节数不得超过1000。形的名称由英文字母或数字组成。</p>
      <p> 　　<b>二、描述行是由若干用逗号分开的字节组成的，并以0为形定义的结束字节。</b>带有前导零的字节是十六进制的，无前导零的字节是十进制的，如2为十进制，而00A则为十六进制。字节包含着进行编码的矢量长度和方向；高4为表示矢量方向，低4为表示矢量长度。矢量长度和方向的编码如图1。除了绘制矢量外，形描述还需专用码，常用码的含义如下：</p>
      <p> 　　●码0表示形结束。</p>
      <p> 　　●码1和2用来控制绘图方式。1为启动绘图方式(笔落下)，2为退出绘图方式(笔抬起)。</p>
      <p> 　　●码8表示由下两个字节给出X—Y位移，取值范围为－128～＋127。</p>
      <p> 　　●码10或(00A)表示用后边两个字节定义一段八分圆弧。所谓“八分圆弧”是将一个圆分成八等分，每等分是45度弧；矢量为圆弧，且开始和结束都在八分弧的界限上，编号如图2，其格式为：10，RADIUS，－0SC。代码10或00A后边跟的第一个字节是半径(1～255)，第2个字节是弧的方向(正数为逆时针，负数为顺时针)，它的开始八分弧号(S的值是0～7)，和所占的八分弧数目(C的值是0～7)。为了易看懂，可以加上括号()。例如10，(1，－032)所画的弧为图3中粗实线所示。灵活巧妙地使用形描述码及矢量，可编制出各种特殊工程符号，从而方便制图，提高设计效率。最后强调的是形一般采用控制码方式(用双百分号后面加形编号)来调用。</p>
      <p align="right"> <b>(河北　赵海涛　刘　艳)</b></p>
      </TD>
  </TR></TABLE><TABLE WIDTH='468' BORDER='0' CELLSPACING='0' CELLPADDING='2' ALIGN='center'>
<TR>
<TD>&nbsp;</TD><TD ALIGN='right'><A HREF='#top'>页 首</A></TD>
</TR></TABLE><BR>
<TABLE WIDTH='468' BORDER='0' CELLSPACING='0' CELLPADDING='0' ALIGN='center'>
<TR ALIGN='center' VALIGN='bottom'>
<TD HEIGHT='6'><IMG SRC='images/dot.gif' WIDTH='468' HEIGHT='1'></TD>
</TR></TABLE><TABLE WIDTH='468' BORDER='0' CELLSPACING='0' CELLPADDING='2' ALIGN='center'>
<TR ALIGN='center'>
<TD>&nbsp;


</TD>
<TD> CPCW版权所有，<A HREF='mailto:webmaster@cpcw.com'>CPCW网站编辑部</A>设计制作发布</TD>
</TR>
</TABLE></BODY></HTML>