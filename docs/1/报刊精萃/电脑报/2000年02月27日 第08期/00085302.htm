 
<HTML>
 
<HEAD>
<META HTTP-EQUIV='Content-Type' CONTENT='text/html; charset=gb2312'>
<META NAME='author' CONTENT='William Wan'>
<LINK REL='STYLESHEET' HREF='images/cpcw.css' TYPE='text/css'>
 
<TITLE>电脑报电子版 -- 用Linux建立局域网服务器</TITLE>
 
<style type="text/css">
<!--
.centertitle {  font-weight: bold; text-align: center; line-height: 35px; font-size: 9pt; color: #000000}
.lefttitle {  line-height: 35px; font-weight: bold; font-size: 9pt; color: #000000}
-->
</style>
</HEAD>
<BODY BGCOLOR='white'>
<span class="centertitle"></span><A NAME='top'></A> 
<TABLE BORDER='0' WIDTH='468' CELLSPACING='0' CELLPADDING='0' HEIGHT='6' ALIGN='Center' BGCOLOR='#CCCC99'>
  <TR VALIGN='top'> 
    <TD WIDTH='100%'><IMG SRC='../../images/dot.gif' WIDTH='468' HEIGHT='1'></TD>
  </TR>
</TABLE>
<TABLE WIDTH='468' BORDER='0' CELLSPACING='0' CELLPADDING='0' ALIGN='Center'>
  <TR> 
    
    <TD WIDTH='470' BGCOLOR='#CCCC99' HEIGHT='50'><IMG SRC='images/yjds.gif' WIDTH='468' HEIGHT='60' ALT='广告Logo' BORDER='0'></TD>
  </TR>
</TABLE>
<TABLE BORDER='0' WIDTH='468' CELLSPACING='0' CELLPADDING='0' HEIGHT='2' ALIGN='Center' BGCOLOR='#CCCC99'>
  <TR> 
    <TD WIDTH='100%'><IMG SRC='../../images/pixel.gif' WIDTH='1' HEIGHT='1'></TD>
  </TR>
</TABLE>
<TABLE BORDER='0' WIDTH='468' CELLSPACING='0' CELLPADDING='0' HEIGHT='3' ALIGN='Center' BGCOLOR='#CCCC99'>
  <TR VALIGN='bottom'> 
    <TD WIDTH='100%'><IMG SRC='../../images/dot.gif' WIDTH='468' HEIGHT='1'></TD>
  </TR>
</TABLE>
<TABLE WIDTH='468' BORDER='0' CELLSPACING='0' CELLPADDING='2' ALIGN='Center'>
  <TR> 
    <TD WIDTH='615' COLSPAN='2'><font color="#FF6666">当前位置：</font>CPCW电子版 
      &gt; 2000 年 &gt; <a href="index.html">08期</a> 
      &gt; <a href="oa.html">OA专刊</a>&gt; 
      用Linux建立局域网服务器</TD>
  </TR>
</TABLE>
<TABLE WIDTH='468' BORDER='0' CELLSPACING='0' CELLPADDING='0' ALIGN='center'>
  <TR ALIGN='center' VALIGN='bottom'> 
    <TD HEIGHT='6'><IMG SRC='../../images/dot.gif' WIDTH='468' HEIGHT='1'></TD>
  </TR>
</TABLE>
<BR>
<TABLE WIDTH='468' BORDER='0' CELLSPACING='0' CELLPADDING='2' BGCOLOR='#FFCC66' ALIGN='center'>
  <TR> 
    <TD><SPAN CLASS='title'>《 用Linux建立局域网服务器 
      》</SPAN></TD>
  </TR>
</TABLE>
<BR>
<TABLE WIDTH='468' BORDER='0' CELLSPACING='0' CELLPADDING='2' ALIGN='center'>
  <TR> 
    <TD>　　Linux系统作为网络服务器的优点数不胜数，但它的缺点也不少，特别是繁琐的配置让不少人望而却步。本文以TurboLinux 
      4.0为例，介绍配置局域网Linux服务器时的一些经验，希望对读者有一些帮助，也希望能起到抛砖引玉的作用。 
      <p><b>　　一、TCP/IP网络配置</b></p>
      　　TurboLinux对网卡的支持还是比较好的，大部分网卡在安装时就可以自动检测出来。如果你的运气不好，Linux找不到你的网卡，可以进入X 
      Windows，以root身分运行linuxconf命令。这是一个图形界面的配置工具，大部分Linux设置可以通过点点鼠标简单完成。首先在其中找到Basic 
      Host Setting一项，在这一项中设置网卡的类型、I/O port和IRQ，一般没有列出的ISA卡可以用ne，PCI可以用ne或ne2k－pci，接着设置IP地址和子网掩码，只要和局域网中的其他机器设在同一个子网中就可以了。如果要连接外部网络还要设置网关。关于这方面的问题还可以参看TurboLinux的帮助文件。 
      <p><b>　　二、Samba服务器的配置</b></p>
      　　Samba是一个文件和打印服务器，它最重要的特点就是可以和Win98/NT共享文件，还可以为其提供打印服务。简而言之，就是可以在Win98的网上邻居中看到Linux服务器，并能存取其中的文件。<br>
      　　关于Samba的配置都存放在/etc/smb.conf中，其中多数可用它的默认设置，我就不再多说了，但有几处是非改不可的：<br>
      　　；smb.conf文件中采用类似于Windows ini 文件的方<br>
      ；式，以[]为一段的开始，每一行为一个等号表达式，<br>
      ；注释以打头。其中每一个[]都表示一个共享目录<br>
      ；(global和printer)除外[global]中是一些通用的配<br>
      ；置，其中对Win98机器比较重要的一个就是<br>
      ；guestaccount，表示不用密码的用户名，如果在Win98<br>
      ；中以这个用户名登录，访问public=yes的目录就<br>
      ；不用密码，但不能访问public=no的目录。<br>
      　　[global]<br>
      　　guest account = guest<br>
      　　；Workgroup要改为Win98网络配置中所设的名字，<br>
      ；不然网上邻居中就找不到这台机器<br>
      　　workgroup = Samba Server<br>
      　　[homes]<br>
      　　；因为Win98不区分大小写，而Linux却区分大小写，<br>
      ；所以要加入以下两行<br>
      　　preserve case = yes<br>
      　　short preserve case = yes<br>
      　　[myshare]<br>
      　　；如果要设置一个目录只对几个用户有读写权限，只<br>
      ；要加入以下一行每两个用户名中间以空格分开<br>
      　　valid users = user1 user2 user3<br>
      　　设置完smb.conf文件后，运行turboservice，把samba服务设置为开机自动启动。<br>
      　　以后Linux开机后，就可以在Win98的网上邻居中找到它了。<br>
      　　以上只是用Win98共享Linux资源，那么如何用Linux共享Win98中的文件呢？其实更简单，只要用命令smbmount。例如：要共享另一台主机ntserver中sharefile目录，用户名是student，密码是1234，只要打入命令：<br>
      　　smbmount ′\\ntserver\sharefile′ －U student －P 1234 /mnt/sharefile<br>
      　　以后/mnt/sharefile就成了ntserver中的sharefile目录，如果没有用户名和密码－P 和 －U 参数就可以省掉了。 
      <p><b>　　三、Apache服务器的配置</b></p>
      　　你是不是也想在局域网上发布主页呢？那就选择Apache吧。<br>
      　　用Apache安装Http Server是最简单不过的了，只要用turboservice命令把Web Server服务启动即可。它的默认主页是/home/httpd/index.html，把它替换成自已的主页，然后在浏览器中输入Linux主机的IP地址看看有什么反应。<br>
      　　只用IP地址实在太单调了，想不想试试用www.cpcw.com这样Cool的域名，那就看看下面的介绍吧。假设Linux主机的局域网中的IP地址是192.1.1.1，打开/etc/hosts文件，找到192.1.1.1对应的那一行，把主机的别名改为www.cpcw.com。然后把局域网中另一台Win98机器设置为通过局域网连接，并在局域网代理服务器设置一栏中填入Linux主机的IP地址。最后打开IE，输入www.cpcw.com，享受一下你的劳动成果吧！:)<br>
      　　关于Linux服务器就说到这儿，如果有什么不妥之处，请写信告诉我(nj_jack@990.net)。<br>
      <b>（江苏　周天阳）</b></TD>
  </TR>
</TABLE>
<TABLE WIDTH='468' BORDER='0' CELLSPACING='0' CELLPADDING='2' ALIGN='center'>
  <TR> 
    <TD><A HREF='http://www.mydown.com/dnb/' TARGET='_blank'>下载本期推荐软件</A></TD>
    <TD ALIGN='right'><A HREF='#top'>页 首</A></TD>
  </TR>
</TABLE>
<BR>
<TABLE WIDTH='468' BORDER='0' CELLSPACING='0' CELLPADDING='0' ALIGN='center'>
  <TR ALIGN='center' VALIGN='bottom'> 
    <TD HEIGHT='6'><IMG SRC='../../images/dot.gif' WIDTH='468' HEIGHT='1'></TD>
  </TR>
</TABLE>
<TABLE WIDTH='468' BORDER='0' CELLSPACING='0' CELLPADDING='2' ALIGN='center'>
  <TR ALIGN='center'> 
    <TD>&nbsp; 
      
       </TD>
    <TD> CPCW版权所有，<A HREF='mailto:webmaster@cpcw.com'>CPCW网站编辑部</A>设计制作发布</TD>
  </TR>
</TABLE>
</BODY>

</HTML>
