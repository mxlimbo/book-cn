 
<HTML>
<!-- #BeginTemplate "/模板/software.dwt" --> 
<HEAD>
<META HTTP-EQUIV='Content-Type' CONTENT='text/html; charset=gb2312'>
<META NAME='author' CONTENT='William Wan'>
<LINK REL='STYLESHEET' HREF='epcw.css' TYPE='text/css'>
<!-- #BeginEditable "doctitle" --> 
<TITLE>电脑报电子版 -- 编程乐园</TITLE>
<!-- #EndEditable --> 
<style type="text/css">
<!--
.centertitle {  font-weight: bold; text-align: center; line-height: 35px; font-size: 9pt; color: #000000}
.lefttitle {  line-height: 35px; font-weight: bold; font-size: 9pt; color: #000000}
-->
</style>
</HEAD>
<BODY BGCOLOR='white'>
<span class="centertitle"></span> 
<TABLE BORDER='0' WIDTH='615' CELLSPACING='0' CELLPADDING='0' HEIGHT='6' ALIGN='Center' BGCOLOR='#CCCC99'>
  <TR VALIGN='top'> 
    <TD WIDTH='100%'><IMG SRC='../../images/dot.gif' WIDTH='615' HEIGHT='1'></TD>
  </TR>
</TABLE>
<TABLE WIDTH='615' BORDER='0' CELLSPACING='0' CELLPADDING='0' ALIGN='Center'>
  <TR> 
    <TD WIDTH='145' BGCOLOR='#CCCC99' 	ALIGN='Center' VALIGN='top'><A HREF='http://www.yesky.com'><IMG SRC='images/logo.gif' WIDTH='140' HEIGHT='60' ALT='天极网' BORDER='0'></A></TD>
    <TD WIDTH='470' BGCOLOR='#CCCC99' HEIGHT='50'> 
      <a href="http://chat.yesky.com/" target="_blank"><img src="images/0823-3.gif" width="468" height="60" border="0" alt="天极聊天室"></a>
    </TD>
  </TR>
</TABLE>
<TABLE BORDER='0' WIDTH='615' CELLSPACING='0' CELLPADDING='0' HEIGHT='2' ALIGN='Center' BGCOLOR='#CCCC99'>
  <TR> 
    <TD WIDTH='100%'><IMG SRC='../../images/pixel.gif' WIDTH='1' HEIGHT='1'></TD>
  </TR>
</TABLE>
<TABLE BORDER='0' WIDTH='615' CELLSPACING='0' CELLPADDING='0' HEIGHT='3' ALIGN='Center' BGCOLOR='#CCCC99'>
  <TR VALIGN='bottom'> 
    <TD WIDTH='100%'><IMG SRC='../../images/dot.gif' WIDTH='615' HEIGHT='1'></TD>
  </TR>
</TABLE>
<table width='615' border='0' cellspacing='0' cellpadding='2' align='Center'>
  <tr> 
    <td width='615' colspan='2'><font color="#FF6666">当前位置：</font><a href='http://www.cpcw.com/issue/index.html'>CPCW电子版</a> 
      &gt; <A HREF='http://www.cpcw.com/all.html'>2000年</A> &gt; <a href="index.html"><!-- #BeginEditable "%C6%DA" -->45期<!-- #EndEditable --></a> 
      &gt; <!-- #BeginEditable "%C0%B8%C4%BF" --><a href="software.html">软件世界</a><!-- #EndEditable --> 
      &gt; <!-- #BeginEditable "%B1%EA%CC%E2" -->{编程乐园}<!-- #EndEditable --></td>
  </tr>
</table>
<TABLE WIDTH='615' BORDER='0' CELLSPACING='0' CELLPADDING='0' ALIGN='center'>
  <TR ALIGN='center' VALIGN='bottom'> 
    <TD HEIGHT='6'><IMG SRC='../../images/dot.gif' WIDTH='615' HEIGHT='1'></TD>
  </TR>
</TABLE>
<BR>
<TABLE WIDTH='615' BORDER='0' CELLSPACING='0' CELLPADDING='2' BGCOLOR='#FFCC66' ALIGN='center'>
  <TR> 
    <TD><SPAN CLASS='title'>《 <!-- #BeginEditable "%CE%C4%D5%C2%CD%B7" -->{编程乐园}<!-- #EndEditable --> 
      》</SPAN></TD>
  </TR>
</TABLE>
<BR>
<TABLE WIDTH='615' BORDER='0' CELLSPACING='0' CELLPADDING='2' ALIGN='center'>
  <TR> 
    <TD><!-- #BeginEditable "%CE%C4%D5%C2%C4%DA%C8%DD" -->{2000．11<br>
      请你编程<br>
      　　大家好！《请你编程》又与你们见面了。《请你编程》得到了广大朋友的关心和支持，我在这里表示衷心的感谢。《请你编程》是一个读者朋友直接参与的栏目，是一个体现自我的园地，希望有编程愿望的朋友，无论是编程高手，还是初学者都能参与进来，我们将会认真对待每一份作品。下面请看2000.6期江苏读者江骞的程序。<br>
      　　美食家俱乐部程序的基本思路是：<br>
      　　1．定义四个数组：<br>
      　　int one[16]; //标示16个人是否已安排好，0表示还未安排好，1表示已安排好。<br>
      　　int two[16][16]; //记录任意两者是否已同过一桌。<br>
      　　int three[16][16][16];//记录任意三者是否已同过一桌。<br>
      　　int four[16][16][16][16];//记录任意四者是否已同过一桌。<br>
      　　2．读出文件gourmet.txt中的数据，初始化数组two、three、four；<br>
      　　3．产生一个当天未上桌的人a；<br>
      　　4．产生第二个当天未上桌的人b；<br>
      　　5．判断是否a、b还未同过桌，若同过则重做4；<br>
      　　6．同理产生c、d；<br>
      　　7．如果可以产生，则记录到数组，输出并保存；否则输出不可产生排序法，退出。<br>
      　　本程序由：VC6.0编成，DOS环境下执行通过。<br>
      　　源程序如下：<br>
      　　// 排人.cpp : Defines the entry point for the application.<br>
      　　＃include &lt;stdio.h&gt;<br>
      　　＃include &lt;stdlib.h&gt;<br>
      　　＃include &lt;conio.h&gt;<br>
      　　int one[16]; //标识16个人是否已安排好，0表示还未安排好，1表示已安排好。<br>
      　　int two[16][16]; //记录任意两者是否已同过一桌。<br>
      　　int three[16][16][16]; //记录任意三者是否已同过一桌。<br>
      　　int four[16][16][16][16];//记录任意四者是否已同过一桌。<br>
      　　int num=0; //计数器，输出格式用<br>
      　　void definevalue(int a,int b,int c,int d) //复值函数，将已同过一桌的人的对应数组置1。<br>
      　　{<br>
      　　two[a][b]=1;<br>
      　　two[b][c]=1;<br>
      　　two[c][d]=1;<br>
      　　two[a][c]=1;<br>
      　　two[a][d]=1;<br>
      　　two[b][d]=1;<br>
      　　three[a][b][c]=1;<br>
      　　three[a][b][d]=1;<br>
      　　three[a][c][d]=1;<br>
      　　three[b][c][d]=1;<br>
      　　four[a][b][c][d]=1;<br>
      　　}<br>
      　　void output(int a,int b,int c,int d,int out_count) //输出函数，将算出的值在屏幕上显示，并存盘。<br>
      　　{<br>
      　　FILE ＊fp;<br>
      　　printf(″％c％c％c％c″,a＋65,b＋65,c＋65,d＋65);<br>
      　　if(num％4==3)<br>
      　　printf(″\n″);<br>
      　　else printf(″\t″);<br>
      　　if((fp=fopen(″gourmet.txt″, ″r＋″))==NULL)<br>
      　　{<br>
      　　printf(″File of gouret.txt is not opened.\n″);<br>
      　　exit(1);<br>
      　　}<br>
      　　fseek(fp,0,SEEK_END);<br>
      　　if(num％4==0)<br>
      　　fprintf(fp,″\n″);<br>
      　　else<br>
      　　fprintf(fp,″ ″);<br>
      　　fprintf(fp,″％c％c％c％c″,a＋65,b＋65,c＋65,d＋65);<br>
      　　fclose(fp);<br>
      　　num＋＋;<br>
      　　}<br>
      　　void init() //初始化函数，用于清零四个数组。<br>
      　　{<br>
      　　int i,j,k,l;<br>
      　　for (i=0;i&lt;13;i＋＋)<br>
      　　{<br>
      　　one[i]=0;<br>
      　　for(j=1;j&lt;14＆＆j!=i＆＆i&lt;j;j＋＋)<br>
      　　{<br>
      　　two[i][j]=0;<br>
      　　for(k=2;k&lt;15＆＆k!=j＆＆k!=i＆＆j&lt;k;k＋＋)<br>
      　　{<br>
      　　three[i][j][k]=0;<br>
      　　for(l=3;l&lt;16＆＆l!=i＆＆l!=j＆＆l!=k＆＆k&lt;l;l＋＋)<br>
      　　four[i][j][k][l]=0;<br>
      　　}<br>
      　　}}}<br>
      　　void readfile() //读文件函数，用于将已给数据读出。<br>
      　　{<br>
      　　int i,a=0,b=0,c=0,d=0;<br>
      　　FILE ＊fp;<br>
      　　if((fp=fopen(″gourmet.txt″, ″r″))==NULL)<br>
      　　{<br>
      　　printf(″File of gouret.txt is not opened.\n″);<br>
      　　exit(1);<br>
      　　}<br>
      　　for(i=0;i&lt;12;i＋＋)<br>
      　　{fseek(fp, (i＊5)＋int(i/4), SEEK_SET);<br>
      　　fscanf(fp, ″％c％c％c％c″, ＆a,＆b,＆c,＆d);<br>
      　　definevalue(a－65,b－65,c－65,d－65);}<br>
      　　fclose(fp);}<br>
      　　int produce(int first) //从当天还未在桌上吃饭的人中选人。<br>
      　　{<br>
      　　int e=0,i;<br>
      　　for(i=first;i&lt;16;i＋＋)<br>
      　　{if(one[i]==0)<br>
      　　{e=i;<br>
      　　return(e); //选中。<br>
      　　}}<br>
      　　return(－1); //无人可选。<br>
      　　}<br>
      　　void table(int first,int tab_count) //产生一桌四个人。<br>
      　　{ int a,b,c,d;<br>
      　　b=a=produce(first); //从first开始产生第一个人，第二个人记住。<br>
      　　do<br>
      　　{do<br>
      　　{c=b=produce(b＋1); //从第一个人开始产生第二个人，第三个人记住。<br>
      　　if(b==－1) //如果不能产生第二个人则报不能排，退出。<br>
      　　{ printf(″\nIt is not possible to complete this schedule.\n″);<br>
      　　getch();<br>
      　　exit(1);}<br>
      　　}<br>
      　　while(two[a][b]==1); //产生的第二个人已经和第一个人同桌过。<br>
      　　do<br>
      　　{do<br>
      　　{d=c=produce(c＋1); //从第二个人开始产生第三个人，第四个人记住。}<br>
      　　while((c!=－1)＆＆(three[a][b][c]==1||two[a][c]==1||two[b][c]==1)); //产生的第三个人已经和第二或第一个人同桌过。<br>
      　　do<br>
      　　{ d=produce(d＋1); //从第三个人开始产生第四个人，}<br>
      　　while((c!=－1)＆＆(d!=－1)＆＆(four[a][b][c][d]==1||two[a][d]==1||two[b][d]==1||two[c][d]==1||three[a][b][d]==1||three[a][c][d]==1||three[b][c][d]==1));<br>
      　　//产生的第四个人已经和第三、第二或第一个人同桌过。}<br>
      　　while((c!=－1)＆＆(d==－1));}<br>
      　　while(c==－1);<br>
      　　one[a]=1; //标志已排好的四人上过桌。<br>
      　　one[b]=1;<br>
      　　one[c]=1;<br>
      　　one[d]=1;<br>
      　　definevalue(a,b,c,d);<br>
      　　output(a,b,c,d,tab_count);}<br>
      　　void calculate(int cal_count) //计算排序的调用次数。<br>
      　　{int i;<br>
      　　for(i=0;i&lt;13;i＋＋)<br>
      　　if(!one[i])<br>
      　　table(i,cal_count);}<br>
      　　void day(int date) //可以在此处通过修改参数达到算出不同天数的排序。<br>
      　　{int count;<br>
      　　count=(date＋3)＊4;<br>
      　　calculate(count); }<br>
      　　void main()<br>
      　　{int date,i;<br>
      　　init();<br>
      　　readfile();<br>
      　　for(date=0;date&lt;2;date＋＋)<br>
      　　{num=0;<br>
      　　day(date);<br>
      　　for(i=0;i&lt;16;i＋＋)<br>
      　　one[i]=0;}<br>
      　　getch();}<br>
      　　本期请你编程题目<br>
      　　动物园要把M只狼和N只狗（N&gt;=M）从一条河的西岸送到河的东岸。只有一条小船可以送它们过去。但是，这条船一次最多只能坐2只动物，最少必须要坐1只动物。但是，由于狗比较弱小，当某一边岸上的狗的数目少于狼的数目（如果狗的数目不为零的话）的时候，狼就会欺负狗。所以，在运送的过程中必须保持两边岸上狗的数目都不少于狼的数目。我们现在利用两个m、n和一个字母P表示运送过程中每一步骤的状态：m、n表示该步骤中在西岸上狼和狗的数目，字母P可以取两个值（W、E），W表示该步骤中船在西岸、E表示该步骤中船在东岸。作为初始状态，可以表示为（M，N，W）。<br>
      　　很明显，假设一开始有2只狼、2只狗，船在西岸，这时候状态表示为（2，2，W），如果把2只狼运送过去，则下一步状态为西岸上没有狼，只有2只狗，船在东岸，表示为（0，2，E）。当最后状态演变成为（0，0，E）的时候，就可以认为全部运送成功。当最后状态无法演变成为（0，0，E）的时候，可以认为这是一个无法完成的任务。现在就请你编一个程序来帮动物园解决这个问题。程序要求如下：<br>
      　　输入：输入数据从文本文件zoo.txt中读取，格式为若干行，每行包括两个整数M、N，表示有M只狼和N只狗，（10&gt;=N&gt;=M&gt;=1），两数之间用空格分开。当M=N=0的时候，表示输入数据结束。<br>
      　　输出：输出到屏幕上，对于某一组输入数据M、N，如果不可能运送成功，输出字符串：“不可能的任务”。否则按每步(m，n，P)的格式输出运送过程中每步状态，m、n表示该步步骤中在西岸上狼和狗的数目，字母P可以取两个值（W、E），W表示该步步骤中船在西岸、E表示该步步骤中船在东岸，每步状态输出一行。一组数据输出完毕后输出一空行与下一组输出数据分开。<br>
      　　输入范例：<br>
      　　2 2<br>
      　　0 0<br>
      　　输出范例：<br>
      　　（2，2，W）<br>
      　　（0，2，E）<br>
      　　（1，2，W）<br>
      　　（1，0，E）<br>
      　　（2，0，W）<br>
      　　（0，0，E）<br>
      　　本期题目由上海的oldbug提供。<br>
      　　来稿请寄磁盘稿或用E－mail投稿，请一定写明解题思路和源程序（包含详细的注解），将稿件寄到电脑报编辑部的收信地址或E－mail信箱，同时欢迎提供请你编程的题目。来稿截止日期：2000年12月15日。<br>
      　　上期获奖者名单<br>
      　　（山东 杨浩志）（西安 王志海）（安徽 傅家兴）（江西 张思新）（河南 董宁）<br>
      　　（河北 和明）（重庆 张志刚）（上海 王强）（江西 董小倩）（河南 李锐）<br>
      　　每位获奖者将获得苦丁香公司提供的光盘一张。<br>
      　　投稿电子邮箱：jycheng@cpcw.com}<!-- #EndEditable --></TD>
  </TR>
</TABLE>
<TABLE WIDTH='615' BORDER='0' CELLSPACING='0' CELLPADDING='2' ALIGN='center'>
  <TR> 
    <TD>&nbsp;</TD>
    <TD ALIGN='right'><A HREF='#top'>页 首</A></TD>
  </TR>
</TABLE>
<BR>
<TABLE WIDTH='615' BORDER='0' CELLSPACING='0' CELLPADDING='0' ALIGN='center'>
  <TR ALIGN='center' VALIGN='bottom'> 
    <TD HEIGHT='6'><IMG SRC='../../images/dot.gif' WIDTH='615' HEIGHT='1'></TD>
  </TR>
</TABLE>
<TABLE WIDTH='615' BORDER='0' CELLSPACING='0' CELLPADDING='2' ALIGN='center'>
  <TR ALIGN='center'> 
    <TD> 
      <script language="JavaScript" src="file:///C%7C/WINDOWS/Desktop/download/yeskye.js">
</script>
    </TD>
    <TD> <noscript></noscript> <a href='/'>《电脑报》版权所有</a>，<a href='mailto:webmaster@staff.yesky.com'>YESKY网站编辑部</a>设计制作发布</TD>
  </TR>
</TABLE>
</BODY>
<!-- #EndTemplate -->
</HTML>
