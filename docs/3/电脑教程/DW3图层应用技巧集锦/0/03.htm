<html>
<head>
<title>DW3 图 层 应 用 技 巧 集 锦 （三）</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<link rel="stylesheet" href="all.css">
<script language="JavaScript">
<!--
function MM_popupMsg(msg) { //v1.0
  alert(msg);
}
//-->
</script>
<script language="JavaScript">
<!--
function MM_findObj(n, d) { //v3.0
  var p,i,x;  if(!d) d=document; if((p=n.indexOf("?"))>0&&parent.frames.length) {
    d=parent.frames[n.substring(p+1)].document; n=n.substring(0,p);}
  if(!(x=d[n])&&d.all) x=d.all[n]; for (i=0;!x&&i<d.forms.length;i++) x=d.forms[i][n];
  for(i=0;!x&&d.layers&&i<d.layers.length;i++) x=MM_findObj(n,d.layers[i].document); return x;
}

function MM_showHideLayers() { //v3.0
  var i,p,v,obj,args=MM_showHideLayers.arguments;
  for (i=0; i<(args.length-2); i+=3) if ((obj=MM_findObj(args[i]))!=null) { v=args[i+2];
    if (obj.style) { obj=obj.style; v=(v=='show')?'visible':(v='hide')?'hidden':v; }
    obj.visibility=v; }
}

function MM_popupMsg(msg) { //v1.0
  alert(msg);
}

function MM_timelinePlay(tmLnName, myID) { //v1.2
  //Copyright 1997 Macromedia, Inc. All rights reserved.
  var i,j,tmLn,props,keyFrm,sprite,numKeyFr,firstKeyFr,propNum,theObj,firstTime=false;
  if (document.MM_Time == null) MM_initTimelines(); //if *very* 1st time
  tmLn = document.MM_Time[tmLnName];
  if (myID == null) { myID = ++tmLn.ID; firstTime=true;}//if new call, incr ID
  if (myID == tmLn.ID) { //if Im newest
    setTimeout('MM_timelinePlay("'+tmLnName+'",'+myID+')',tmLn.delay);
    fNew = ++tmLn.curFrame;
    for (i=0; i<tmLn.length; i++) {
      sprite = tmLn[i];
      if (sprite.charAt(0) == 's') {
        if (sprite.obj) {
          numKeyFr = sprite.keyFrames.length; firstKeyFr = sprite.keyFrames[0];
          if (fNew >= firstKeyFr && fNew <= sprite.keyFrames[numKeyFr-1]) {//in range
            keyFrm=1;
            for (j=0; j<sprite.values.length; j++) {
              props = sprite.values[j]; 
              if (numKeyFr != props.length) {
                if (props.prop2 == null) sprite.obj[props.prop] = props[fNew-firstKeyFr];
                else        sprite.obj[props.prop2][props.prop] = props[fNew-firstKeyFr];
              } else {
                while (keyFrm<numKeyFr && fNew>=sprite.keyFrames[keyFrm]) keyFrm++;
                if (firstTime || fNew==sprite.keyFrames[keyFrm-1]) {
                  if (props.prop2 == null) sprite.obj[props.prop] = props[keyFrm-1];
                  else        sprite.obj[props.prop2][props.prop] = props[keyFrm-1];
        } } } } }
      } else if (sprite.charAt(0)=='b' && fNew == sprite.frame) eval(sprite.value);
      if (fNew > tmLn.lastFrame) tmLn.ID = 0;
  } }
}

function MM_timelineGoto(tmLnName, fNew, numGotos) { //v2.0
  //Copyright 1997 Macromedia, Inc. All rights reserved.
  var i,j,tmLn,props,keyFrm,sprite,numKeyFr,firstKeyFr,lastKeyFr,propNum,theObj;
  if (document.MM_Time == null) MM_initTimelines(); //if *very* 1st time
  tmLn = document.MM_Time[tmLnName];
  if (numGotos != null)
    if (tmLn.gotoCount == null) tmLn.gotoCount = 1;
    else if (tmLn.gotoCount++ >= numGotos) {tmLn.gotoCount=0; return}
  jmpFwd = (fNew > tmLn.curFrame);
  for (i = 0; i < tmLn.length; i++) {
    sprite = (jmpFwd)? tmLn[i] : tmLn[(tmLn.length-1)-i]; //count bkwds if jumping back
    if (sprite.charAt(0) == "s") {
      numKeyFr = sprite.keyFrames.length;
      firstKeyFr = sprite.keyFrames[0];
      lastKeyFr = sprite.keyFrames[numKeyFr - 1];
      if ((jmpFwd && fNew<firstKeyFr) || (!jmpFwd && lastKeyFr<fNew)) continue; //skip if untouchd
      for (keyFrm=1; keyFrm<numKeyFr && fNew>=sprite.keyFrames[keyFrm]; keyFrm++);
      for (j=0; j<sprite.values.length; j++) {
        props = sprite.values[j];
        if (numKeyFr == props.length) propNum = keyFrm-1 //keyframes only
        else propNum = Math.min(Math.max(0,fNew-firstKeyFr),props.length-1); //or keep in legal range
        if (sprite.obj != null) {
          if (props.prop2 == null) sprite.obj[props.prop] = props[propNum];
          else        sprite.obj[props.prop2][props.prop] = props[propNum];
      } }
    } else if (sprite.charAt(0)=='b' && fNew == sprite.frame) eval(sprite.value);
  }
  tmLn.curFrame = fNew;
  if (tmLn.ID == 0) eval('MM_timelinePlay(tmLnName)');
}

function MM_initTimelines() {
    //MM_initTimelines() Copyright 1997 Macromedia, Inc. All rights reserved.
    var ns = navigator.appName == "Netscape";
    document.MM_Time = new Array(2);
    document.MM_Time[0] = new Array(2);
    document.MM_Time["Timeline1"] = document.MM_Time[0];
    document.MM_Time[0].MM_Name = "Timeline1";
    document.MM_Time[0].fps = 15;
    document.MM_Time[0][0] = new String("sprite");
    document.MM_Time[0][0].slot = 2;
    if (ns)
        document.MM_Time[0][0].obj = document["Layer2"];
    else
        document.MM_Time[0][0].obj = document.all ? document.all["Layer2"] : null;
    document.MM_Time[0][0].keyFrames = new Array(1, 18, 26, 35);
    document.MM_Time[0][0].values = new Array(2);
    document.MM_Time[0][0].values[0] = new Array(51,66,80,95,109,124,138,152,167,182,196,210,224,238,252,265,279,293,315,327,334,338,343,348,356,369,386,404,421,438,454,470,486,503,519);
    document.MM_Time[0][0].values[0].prop = "left";
    document.MM_Time[0][0].values[1] = new Array(489,498,508,518,528,538,548,558,568,577,587,595,603,611,617,623,628,630,620,600,580,560,541,523,505,492,488,489,492,496,501,507,513,519,524);
    document.MM_Time[0][0].values[1].prop = "top";
    if (!ns) {
        document.MM_Time[0][0].values[0].prop2 = "style";
        document.MM_Time[0][0].values[1].prop2 = "style";
    }
    document.MM_Time[0][1] = new String("behavior");
    document.MM_Time[0][1].frame = 37;
    document.MM_Time[0][1].value = "MM_timelineGoto('Timeline1','1')";
    document.MM_Time[0].lastFrame = 37;
    document.MM_Time[1] = new Array(0);
    document.MM_Time["Timeline2"] = document.MM_Time[1];
    document.MM_Time[1].MM_Name = "Timeline2";
    document.MM_Time[1].fps = 15;
    document.MM_Time[1].lastFrame = 0;
    for (i=0; i<document.MM_Time.length; i++) {
        document.MM_Time[i].ID = null;
        document.MM_Time[i].curFrame = 0;
        document.MM_Time[i].delay = 1000/document.MM_Time[i].fps;
    }
}
//-->
</script>
</head>

<body bgcolor="#FFFFFF" background="bar.gif" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0" onLoad="MM_timelinePlay('Timeline1')">
<table width="776" border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td valign="top" width="73"><img src="up1.gif" width="73" height="45"><a href="content.htm"><img src="top.gif" width="73" height="18" border="0"></a><a href="02.htm"><img src="last.gif" width="73" height="28" border="0"></a><a href="04.htm"><img src="next.gif" width="73" height="22" border="0"></a></td>
    <td><img src="up2.gif" width="495" height="113"></td>
  </tr>
</table>
<table width="776" border="0" cellspacing="0" cellpadding="0" background="bg.gif">
  <tr valign="top" align="center"> 
    <td class="h"> 
      <p><b><font color=#CC3399 class="h">DW3 图 层 应 用 技 巧 集 锦 （三）</font></b> <br>
      </p>
            
      <table width=550 border=0 align=center cellspacing=0>
        <tr> 
                <td colspan="6" height="429"> &nbsp;&nbsp;&nbsp;&nbsp;在Dreamweaver中不能对一般的普通文字直接予特效，这可能是设计者当初没有想到这个问题。真的不能吗？当然可以，仅需你改一点代码，先看看效果。<br>
                  <font color="#00CCCC"><font onMouseOver="MM_showHideLayers('Layer1','','show')" onMouseOut="MM_showHideLayers('Layer1','','hide')" color="#009999">&gt;&gt;OnMouseOver&lt;&lt;</font></font> 
                  
            <div align="left"> 
              <p><b><font color="#8000ff"><br>
                五.如何赋予文字图层特效</font></b><br>
                <br>
                1.先输入你要做特效的文字，为它做一个链接，随便是什么链接。<br>
                <br>
                2.建一个图层,设为(hidden)隐含,由于特效可以在链接上实现，先把图层特效在链接上做好。<br>
                <br>
                3.链接的标签是&lt;a&gt;与&lt;/a&gt;，我们现在做的事就是把&lt;a&gt;与&lt;/a&gt;用&lt;font&gt;与&lt;/font&gt;替换就可以达到目的。当然也有一些别的特效可以在文字上实现。如OnClick，Popup 
                Message等，只要是能在链接上实现的特效，一般都可以在文本文字上实现。<font onClick="MM_popupMsg('怎么样这个效果还不错吧？')"><font color="#009999">&gt;&gt;ClickMe&lt;&lt;</font></font> 
              </p>
              <p><font color="#8000ff"><b>六.Timeline 的基本应用 </b></font><br>
                &nbsp;&nbsp;&nbsp;&nbsp;<br>
                　　TimeLine（时间轴）是Dreamweaver最精华的一点，也是Macromedia最为骄傲的。用TimeLine做动画可以满页飞，动画的实现主要是通过Java 
                Script语句来完成的，你不必为不懂java script而苦恼，在DW中你只需用鼠标点几下就ok。DW动画是建立在图层上的，也就是说没有图层的参与DW动画就不可能实现，这是我为什么把TimeLine归纳为图层应用的原因。<br>
                <br>
                　　先让我们熟悉一下TimeLine面板，按键盘Ctrl+F9或Window-&gt;TimeLine打开面板如下图： </p>
              <p align="center"><img src="images/pic-14.gif" width="330" height="139"></p>
              <p>1.时间轴选择框<img src="images/pic-15.gif" width="102" height="25">，它列出了当前所有时间轴动画名称，方便你选择编辑。</p>
              <p> 2.帧控制按钮<img src="images/pic-16.gif" width="112" height="21">，最左边的的按钮功能是回到第一帧，剩下的分别是向左或向右移动一个帧。</p>
              <p> 3.动画播放组件<img src="images/pic-17.gif" width="177" height="20">，fps是动画播放速度；Autoplay，是否打开网页时播放动画；loop,是否循环播放。 
              </p>
              <p>4.行为设置轨道<img src="images/pic-18.gif" width="68" height="18">，有一个“B”字符，它是Behavior的缩写，这最精彩，在以后我会讲到。 
              </p>
              <p>5.时间轴<img src="images/pic-19.gif" width="72" height="20">用过Flash的朋友对它一定不陌生。<br>
                &nbsp;&nbsp;&nbsp;&nbsp;<br>
                6.动画轨道<img src="images/pic-20.gif" width="163" height="36">，每一条轨道中只能有一个动画，也就是说每一轨道只能有一个图层特效。DW3一共支持32条轨道，这可以做出相当复杂的效果来，爽吧？<br>
                &nbsp;&nbsp;&nbsp;&nbsp;<br>
                　　时间轴我们已经认识了，那就开始第一个也是最简单的例子—飞动的图片。 <br>
                &nbsp;&nbsp;&nbsp;&nbsp;<br>
                1.插入一个带图片的图层，把TimeLine面板调出来(Ctrl+F9)，用鼠标把图层拖到动画轨道来，就可以建立一个动画片段。用DW2的朋友不能采用此办法，还不支持。执行菜单命令&quot;Modify&gt;Timeline&gt;Add 
                Obeject to Timeline&quot;也可以达到同等效果。<br>
                &nbsp;&nbsp;&nbsp;&nbsp;<br>
                2.在默认情况下，动画长度时15帧，当然你也可以根据需要增加或减少，只需把动画最后一帧向后拖。<br>
                &nbsp;&nbsp;&nbsp;&nbsp;<br>
                3.把播放指针移到最后一帧，拖动图层到你想要到的地方，到此一个最简单的动画基本做完。你想一打开网页就播放动画，请选择Autoplay。你要是不想让动画播一边就Game 
                Over，你就把Loop（循环播放）也选上吧。<br>
                &nbsp;&nbsp;&nbsp;&nbsp;<br>
                4.这是我增加的一步，你想让动画走曲线，就看看这一步。在动画中间插入一个关键帧(Key Frame)，执行&quot;Modify&gt;Timeline&gt;Add 
                Keyframe&quot;就可以插入一个关键帧。然后把播放指针移到关键帧处，拖动图层。按F12预览，图层就走曲线了。<br>
                &nbsp;&nbsp;&nbsp;&nbsp;<br>
                　　最后我给一个例子，可能不能预览，你把此页面保存应该可以预览。下一节将讲一个比较复杂的例子。<a href="04.htm">GO&gt;&gt;</a> 
              </p>
                  <div id="Layer2" style="position:absolute; left:51px; top:489px; width:35px; height:31px; z-index:2"><img src="images/21.gif" width="48" height="48"></div>
              <div id="Layer1" style="position:absolute; left:127px; top:250px; width:114px; height:74px; z-index:1; visibility: hidden"> 
                <table width="133" border="1" cellspacing="2" cellpadding="0" bordercolor="#CC6699" bordercolorlight="#CC6699" bgcolor="#FFFFFF">
                  <tr> 
                    <td><img src="images/pic-13.gif" width="126" height="67"></td>
                  </tr>
                </table>
              </div>
 
<p>&nbsp; </p>
                    </div>
                </td>
              </tr>
            </table>
      <table width="540" cellspacing="0" cellpadding="0" border="0">
        <tr> 
          <td> 
            <table border=0 align=center>
              <tr> 
                <td width=101 height="21"> 
                  <div align="center"><a href='02.htm'>上一页 </a></div>
                </td>
                <td width=99 height="21"> 
                  <div align="center"><a href="content.htm">目　录</a></div>
                </td>
                <td width=100 height="21"> 
                  <div align="center"><a href='04.htm'>下一页 </a></div>
                </td>
              </tr>
            </table>
            <p align=center>□ 资料来源：<a href="http://www.163.com">www.163.com</a><br>
            
            <p align=center>本书由“<a href="http://www.eshunet.com/">E书时空</a>”免费制作； 
              <br>
              想要更多的免费电子图书，请光临 <br>
              <a href="http://www.eshunet.com/">http://www.eshunet.com/</a> 
            <p align=center>&nbsp; 
          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
</body>
</html>
