<html>
<head>
<title>DW3 图 层 应 用 技 巧 集 锦 （六）</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<link rel="stylesheet" href="all.css">
<script language="JavaScript">
<!--
function MM_findObj(n, d) { //v3.0
  var p,i,x;  if(!d) d=document; if((p=n.indexOf("?"))>0&&parent.frames.length) {
    d=parent.frames[n.substring(p+1)].document; n=n.substring(0,p);}
  if(!(x=d[n])&&d.all) x=d.all[n]; for (i=0;!x&&i<d.forms.length;i++) x=d.forms[i][n];
  for(i=0;!x&&d.layers&&i<d.layers.length;i++) x=MM_findObj(n,d.layers[i].document); return x;
}

function MM_showHideLayers() { //v3.0
  var i,p,v,obj,args=MM_showHideLayers.arguments;
  for (i=0; i<(args.length-2); i+=3) if ((obj=MM_findObj(args[i]))!=null) { v=args[i+2];
    if (obj.style) { obj=obj.style; v=(v=='show')?'visible':(v='hide')?'hidden':v; }
    obj.visibility=v; }
}

function MM_timelinePlay(tmLnName, myID) { //v1.2
  //Copyright 1997 Macromedia, Inc. All rights reserved.
  var i,j,tmLn,props,keyFrm,sprite,numKeyFr,firstKeyFr,propNum,theObj,firstTime=false;
  if (document.MM_Time == null) MM_initTimelines(); //if *very* 1st time
  tmLn = document.MM_Time[tmLnName];
  if (myID == null) { myID = ++tmLn.ID; firstTime=true;}//if new call, incr ID
  if (myID == tmLn.ID) { //if Im newest
    setTimeout('MM_timelinePlay("'+tmLnName+'",'+myID+')',tmLn.delay);
    fNew = ++tmLn.curFrame;
    for (i=0; i<tmLn.length; i++) {
      sprite = tmLn[i];
      if (sprite.charAt(0) == 's') {
        if (sprite.obj) {
          numKeyFr = sprite.keyFrames.length; firstKeyFr = sprite.keyFrames[0];
          if (fNew >= firstKeyFr && fNew <= sprite.keyFrames[numKeyFr-1]) {//in range
            keyFrm=1;
            for (j=0; j<sprite.values.length; j++) {
              props = sprite.values[j]; 
              if (numKeyFr != props.length) {
                if (props.prop2 == null) sprite.obj[props.prop] = props[fNew-firstKeyFr];
                else        sprite.obj[props.prop2][props.prop] = props[fNew-firstKeyFr];
              } else {
                while (keyFrm<numKeyFr && fNew>=sprite.keyFrames[keyFrm]) keyFrm++;
                if (firstTime || fNew==sprite.keyFrames[keyFrm-1]) {
                  if (props.prop2 == null) sprite.obj[props.prop] = props[keyFrm-1];
                  else        sprite.obj[props.prop2][props.prop] = props[keyFrm-1];
        } } } } }
      } else if (sprite.charAt(0)=='b' && fNew == sprite.frame) eval(sprite.value);
      if (fNew > tmLn.lastFrame) tmLn.ID = 0;
  } }
}

function MM_timelineGoto(tmLnName, fNew, numGotos) { //v2.0
  //Copyright 1997 Macromedia, Inc. All rights reserved.
  var i,j,tmLn,props,keyFrm,sprite,numKeyFr,firstKeyFr,lastKeyFr,propNum,theObj;
  if (document.MM_Time == null) MM_initTimelines(); //if *very* 1st time
  tmLn = document.MM_Time[tmLnName];
  if (numGotos != null)
    if (tmLn.gotoCount == null) tmLn.gotoCount = 1;
    else if (tmLn.gotoCount++ >= numGotos) {tmLn.gotoCount=0; return}
  jmpFwd = (fNew > tmLn.curFrame);
  for (i = 0; i < tmLn.length; i++) {
    sprite = (jmpFwd)? tmLn[i] : tmLn[(tmLn.length-1)-i]; //count bkwds if jumping back
    if (sprite.charAt(0) == "s") {
      numKeyFr = sprite.keyFrames.length;
      firstKeyFr = sprite.keyFrames[0];
      lastKeyFr = sprite.keyFrames[numKeyFr - 1];
      if ((jmpFwd && fNew<firstKeyFr) || (!jmpFwd && lastKeyFr<fNew)) continue; //skip if untouchd
      for (keyFrm=1; keyFrm<numKeyFr && fNew>=sprite.keyFrames[keyFrm]; keyFrm++);
      for (j=0; j<sprite.values.length; j++) {
        props = sprite.values[j];
        if (numKeyFr == props.length) propNum = keyFrm-1 //keyframes only
        else propNum = Math.min(Math.max(0,fNew-firstKeyFr),props.length-1); //or keep in legal range
        if (sprite.obj != null) {
          if (props.prop2 == null) sprite.obj[props.prop] = props[propNum];
          else        sprite.obj[props.prop2][props.prop] = props[propNum];
      } }
    } else if (sprite.charAt(0)=='b' && fNew == sprite.frame) eval(sprite.value);
  }
  tmLn.curFrame = fNew;
  if (tmLn.ID == 0) eval('MM_timelinePlay(tmLnName)');
}

function MM_initTimelines() {
    //MM_initTimelines() Copyright 1997 Macromedia, Inc. All rights reserved.
    var ns = navigator.appName == "Netscape";
    document.MM_Time = new Array(1);
    document.MM_Time[0] = new Array(7);
    document.MM_Time["Timeline1"] = document.MM_Time[0];
    document.MM_Time[0].MM_Name = "Timeline1";
    document.MM_Time[0].fps = 15;
    document.MM_Time[0][0] = new String("sprite");
    document.MM_Time[0][0].slot = 1;
    if (ns)
        document.MM_Time[0][0].obj = document["Layer1"];
    else
        document.MM_Time[0][0].obj = document.all ? document.all["Layer1"] : null;
    document.MM_Time[0][0].keyFrames = new Array(1, 15);
    document.MM_Time[0][0].values = new Array(2);
    document.MM_Time[0][0].values[0] = new Array(280,291,303,314,326,337,349,360,371,383,394,406,417,429,440);
    document.MM_Time[0][0].values[0].prop = "left";
    document.MM_Time[0][0].values[1] = new Array(347,349,350,352,354,356,357,359,361,362,364,366,368,369,371);
    document.MM_Time[0][0].values[1].prop = "top";
    if (!ns) {
        document.MM_Time[0][0].values[0].prop2 = "style";
        document.MM_Time[0][0].values[1].prop2 = "style";
    }
    document.MM_Time[0][1] = new String("sprite");
    document.MM_Time[0][1].slot = 2;
    if (ns)
        document.MM_Time[0][1].obj = document["Layer2"];
    else
        document.MM_Time[0][1].obj = document.all ? document.all["Layer2"] : null;
    document.MM_Time[0][1].keyFrames = new Array(15, 29);
    document.MM_Time[0][1].values = new Array(2);
    document.MM_Time[0][1].values[0] = new Array(233,250,266,283,300,317,333,350,367,383,400,417,434,450,467);
    document.MM_Time[0][1].values[0].prop = "left";
    document.MM_Time[0][1].values[1] = new Array(351,352,353,354,355,356,357,358,359,360,361,362,363,364,365);
    document.MM_Time[0][1].values[1].prop = "top";
    if (!ns) {
        document.MM_Time[0][1].values[0].prop2 = "style";
        document.MM_Time[0][1].values[1].prop2 = "style";
    }
    document.MM_Time[0][2] = new String("sprite");
    document.MM_Time[0][2].slot = 3;
    if (ns)
        document.MM_Time[0][2].obj = document["Layer3"];
    else
        document.MM_Time[0][2].obj = document.all ? document.all["Layer3"] : null;
    document.MM_Time[0][2].keyFrames = new Array(29, 43);
    document.MM_Time[0][2].values = new Array(2);
    document.MM_Time[0][2].values[0] = new Array(270,282,294,306,319,331,343,355,367,379,391,404,416,428,440);
    document.MM_Time[0][2].values[0].prop = "left";
    document.MM_Time[0][2].values[1] = new Array(360,360,361,361,361,362,362,363,363,363,364,364,364,365,365);
    document.MM_Time[0][2].values[1].prop = "top";
    if (!ns) {
        document.MM_Time[0][2].values[0].prop2 = "style";
        document.MM_Time[0][2].values[1].prop2 = "style";
    }
    document.MM_Time[0][3] = new String("behavior");
    document.MM_Time[0][3].frame = 1;
    document.MM_Time[0][3].value = "MM_showHideLayers('Layer1','','show','Layer2','','hide','Layer3','','hide')";
    document.MM_Time[0][4] = new String("behavior");
    document.MM_Time[0][4].frame = 15;
    document.MM_Time[0][4].value = "MM_showHideLayers('Layer1','','hide');MM_showHideLayers('Layer2','','show')";
    document.MM_Time[0][5] = new String("behavior");
    document.MM_Time[0][5].frame = 29;
    document.MM_Time[0][5].value = "MM_showHideLayers('Layer2','','hide');MM_showHideLayers('Layer3','','show')";
    document.MM_Time[0][6] = new String("behavior");
    document.MM_Time[0][6].frame = 43;
    document.MM_Time[0][6].value = "MM_showHideLayers('Layer3','','hide');MM_timelineGoto('Timeline1','1')";
    document.MM_Time[0].lastFrame = 43;
    for (i=0; i<document.MM_Time.length; i++) {
        document.MM_Time[i].ID = null;
        document.MM_Time[i].curFrame = 0;
        document.MM_Time[i].delay = 1000/document.MM_Time[i].fps;
    }
}
//-->
</script>
</head>

<body bgcolor="#FFFFFF" onLoad="MM_timelinePlay('Timeline1')" background="bar.gif" leftmargin="0" topmargin="0" marginwidth="0" marginheight="0">
<div id="Layer1" style="position:absolute; left:280px; top:347px; width:42px; height:37px; z-index:1; visibility: hidden"><img src="images/pic-29.gif" width="120" height="151" border="2"></div>
<div id="Layer2" style="position:absolute; left:233px; top:351px; width:42px; height:37px; z-index:1; visibility: hidden"><img src="images/pic-30.gif" width="120" height="151" border="2"></div>
<div id="Layer3" style="position:absolute; left:270px; top:360px; width:42px; height:37px; z-index:1; visibility: hidden"><img src="images/pic-31.gif" width="120" height="151" border="2"></div>
<table width="776" border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td valign="top" width="73"><img src="up1.gif" width="73" height="45"><a href="content.htm"><img src="top.gif" width="73" height="18" border="0"></a><a href="05.htm"><img src="last.gif" width="73" height="28" border="0"></a><a href="07.htm"><img src="next.gif" width="73" height="22" border="0"></a></td>
    <td><img src="up2.gif" width="495" height="113"></td>
  </tr>
</table>
<table width="776" border="0" cellspacing="0" cellpadding="0" background="bg.gif">
  <tr valign="top" align="center"> 
    <td class="h"> 
      <p><b class="h">DW3 图 层 应 用 技 巧 集 锦 （六）</b> <br>
      </p>
      <table width="550" border="0" cellspacing="0" cellpadding="0">
        <tr>
          <td> 
            <p>　　DW的功能太强大了，光图层方面的特效就可以写不少的东西出来。幻灯片用Flash作非常Easy，效果也非常好，可是有的人不太喜欢它，其主要原因是它需插件的支持。用Java做，它影响网页的浏览速度，也不是太可取的方法。有没有折衷的方法？有，DW就可以实现，它实现的效果虽不及Flash，Java，但它有着它的优越性， 
              制作简单，浏览速度快，无需插件支持。<br>
              <b><font color="#8000ff"><br>
              十，用DW实现幻灯片效果 </font></b></p>
            <p> 　　我想这个效果还不太差比起用java做的，看了本教程第四节的朋友，学习这个例子要轻松的多。这个例子主要用了时间轴和显示隐含图层这个特效。下面我们开工了：<br>
              &nbsp;&nbsp;&nbsp;&nbsp;<br>
              1.先烦请你准备几张大小一样的图片，gif动画也行。<br>
              &nbsp;&nbsp;&nbsp;&nbsp;<br>
              2.你要做几张幻灯片就做几个隐含图层，在层中插入你的图片。本例是三张幻灯片，就做了三个隐含图层，做隐含图层的时候一定要三个图层坐标一样，要不然当你变换图片时就会发现有位移现象。我教你一个小方法，就是先做一个隐含图层出来，复制这个图层，复制出来的图层坐标都一样，但你得把图层里的图片换一换，还要把图层的名字改一改，复制的图层名字一样（在属性浮动条里改）。 
              <br>
              <br>
              3.按Ctrl+F9把Timeline编辑窗调出来，把三个图层分别加入到三条动画轨道中去。像下图那样放入轨道。<br>
              <br>
              <img src="images/pic-32.gif" width="416" height="174"><br>
              &nbsp;&nbsp;&nbsp;&nbsp;<br>
              4.在第一帧的位置，加入Behaviors事件，双击第一帧上方的Behavior轨道，跳出Behaviors编辑窗，点击<img src="images/pic-33.gif" width="24" height="19"> 
              选择Show-hide Layers，出来Show-hide Layers编辑窗口，选Layer1后点击<img src="images/pic-34.gif" width="37" height="19">确定。<br>
              <br>
              5.在15帧处双击Behaviors轨道，跳出Beahoviors窗口，同样加入Show-hide layers事件，这次加入的事件是把layer1隐藏起来。当动画到15帧取就要换图片，所以在15帧处还要加一个show-hide 
              layers事件，这次是显示layer2。在15帧加完两个事件后，Behaviors窗口如右图显示：<img src="images/pic-35.gif" width="283" height="137"> 
              <br>
              <br>
              6.在第29帧处加入两个Behaviors事件，一个是把layer2隐藏起来，另一个是显示layer3，这是在换图片。如果你的幻灯片多于3张，就是在一段帧后加入承前启后的两个Behaviors事件就行了。 
              <br>
              <br>
              7.在最后一帧处，加入隐藏layer3的Behaviors事件。<br>
              <br>
              8.还有一点扫尾工作，把Timelines窗口中的Autoplaly和Loop选上。当你选完后，把这个小方块拖到与最后一帧的Behaviors重合，这样就可避免重复动画时有一帧没有显示而发生停顿。最后一帧的Behaviors事件如图：<img src="images/pic-36.gif" width="284" height="154"><br>
              <br>
              　　本教程快完了，下一节讲一讲用DW3做滚动板，同样要用到时间轴。<a href="07.htm">Go&gt;&gt;</a> 
            </p>
            </td>
        </tr>
      </table>
      <p>&nbsp;</p>
      <table width="540" cellspacing="0" cellpadding="0" border="0">
        <tr> 
          <td> 
            <table border=0 align=center>
              <tr> 
                <td width=101 height="21"> 
                  <div align="center"><a href='05.htm'>上一页 </a></div>
                </td>
                <td width=99 height="21"> 
                  <div align="center"><a href="content.htm">目　录</a></div>
                </td>
                <td width=100 height="21"> 
                  <div align="center"><a href='07.htm'>下一页 </a></div>
                </td>
              </tr>
            </table>
            <p align=center>□ 资料来源：<a href="http://www.163.com">www.163.com</a><br>
            
            <p align=center>本书由“<a href="http://www.eshunet.com/">E书时空</a>”免费制作； 
              <br>
              想要更多的免费电子图书，请光临 <br>
              <a href="http://www.eshunet.com/">http://www.eshunet.com/</a> 
            <p align=center>&nbsp; 
          </td>
        </tr>
      </table>
      <p>&nbsp; </p>
    </td>
  </tr>
</table>
</body>
</html>
