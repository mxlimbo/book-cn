<html>
<head>
<title>看雪学苑</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<style type="text/css">
<!--
.p8 {  font-size: 8pt}
.p9 {  font-size: 9pt}
a:hover {  color: #00FF00}
a {  text-decoration: none}
.p12 {  font-size: 12pt; font-weight: bold; color: #FF3333}
-->
</style>
</head>

<body bgcolor="#FFFFFF">
<span class="p9"><font color=blue>标 题:</font>初学者（7） (4千字)<br>
<font color=blue>发信人:</font>liutong<br>
<font color=blue>时 间:</font>2000-5-5 17:18:54 <br>
<font color=blue>详细信息:</font><br>
</span>
<blockquote><span class="p9"> 软件名称：AmazimgMIDI 1.60 <br>
  &nbsp; &nbsp; &nbsp; 软件大小：839KB <br>
  &nbsp; &nbsp; &nbsp; 软件类型：共享 <br>
  &nbsp; &nbsp; &nbsp; 适用环境：Win95/98 <br>
  &nbsp; &nbsp; &nbsp; 软件介绍： <br>
  &nbsp; &nbsp; &nbsp; 可以将您现有的WAV文件转换成为MIDI文件，WAV可能会有人声或者其它非乐器声音的部 <br>
  &nbsp; &nbsp; &nbsp; 分，这个部分可就无能为力了，AmazingMIDI会将这一部分的声音资料转换成为类比的讯 <br>
  &nbsp; &nbsp; &nbsp; 号，不过仍然还是以MIDI的格式储存，您可以在稍后与MIDI编辑软件中一起编辑使用。虽 <br>
  &nbsp; &nbsp; &nbsp; 然AmazingMIDI在转文件方面的功能已经相当强大了，不过它还是有所限制的，目前版本 <br>
  &nbsp; &nbsp; &nbsp; 的AmazingMIDI并无法直接在众多的乐器声音中只对某一种取样，相信这方面的功能限制 <br>
  &nbsp; &nbsp; &nbsp; 应该很快有所改善的。如果对WAV音乐素材直接取样使用的话，AmazingMIDI是个绝佳的转 <br>
  &nbsp; &nbsp; &nbsp; 换工具。 <br>
  &nbsp; &nbsp; &nbsp; 软件来源:&lt;&lt;软件世界>>第5期 <br>
  &nbsp; &nbsp; &nbsp; 保护类型:固定注册码 <br>
  &nbsp; &nbsp; &nbsp; 所用工具:S-ICE, W32Dasm <br>
  &nbsp; &nbsp; &nbsp; 破解过程: <br>
  &nbsp; &nbsp; &nbsp; 在help菜单中选择registration,任意输入12345678,CTRL+D转到S-ICE,设断点bpx 
  hmemcpy, <br>
  &nbsp; &nbsp; &nbsp; 返回软件画面,点OK.程序被中断后,按F12 42次(第43次出错误画面)后,按F10若干次,找到 <br>
  &nbsp; &nbsp; &nbsp; 下面程序 <br>
  |:00405DEA(U) <br>
  | <br>
  :00405D5D 8D4C2410&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lea 
  ecx, dword ptr [esp+10] <br>
  :00405D61 E8C8780100&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; call 0041D62E 
  <br>
  :00405D66 83F801&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  cmp eax, 00000001 <br>
  :00405D69 0F85B6000000&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; jne 00405E25 
  <br>
  :00405D6F 51&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; push ecx <br>
  :00405D70 8D442470&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lea 
  eax, dword ptr [esp+70] <br>
  :00405D74 8BCC&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; mov ecx, esp <br>
  :00405D76 89642410&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mov 
  dword ptr [esp+10], esp <br>
  :00405D7A 50&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; push eax <br>
  :00405D7B E887B50100&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; call 00421307 
  <br>
  :00405D80 8D4C240C&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lea 
  ecx, dword ptr [esp+0C] <br>
  :00405D84 C644247C00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mov [esp+7C], 
  00 <br>
  :00405D89 51&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; push ecx <br>
  :00405D8A E861010000&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; call 00405EF0 
  <br>
  :00405D8F 8BC8&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; mov ecx, eax <br>
  :00405D91 E8AA180000&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; call 00407640 
  &lt;----将输入码变形 <br>
  :00405D96 8B00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; mov eax, dword ptr [eax] <br>
  <br>
  * Possible StringData Ref from Data Obj ->"&lt;&lt;@::5&lt;720"&lt;-----(变形后的)注册码 
  <br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | <br>
  :00405D98 BE58054400&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; mov esi, 
  00440558 <br>
  <br>
  * Referenced by a (U)nconditional or (C)onditional Jump at Address: <br>
  |:00405DBF(C) <br>
  | <br>
  :00405D9D 8A10&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; mov dl, byte ptr [eax]&lt;-----取出变形后的输入码 <br>
  :00405D9F 8A1E&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; mov bl, byte ptr [esi]&lt;-----取出变形后的注册码 <br>
  :00405DA1 8ACA&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; mov cl, dl <br>
  :00405DA3 3AD3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; cmp dl, bl <br>
  :00405DA5 751E&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; jne 00405DC5&lt;-----错误信息 <br>
  :00405DA7 84C9&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; test cl, cl <br>
  :00405DA9 7416&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; je 00405DC1 <br>
  :00405DAB 8A5001&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  mov dl, byte ptr [eax+01] <br>
  :00405DAE 8A5E01&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  mov bl, byte ptr [esi+01] <br>
  :00405DB1 8ACA&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; mov cl, dl <br>
  :00405DB3 3AD3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; cmp dl, bl <br>
  :00405DB5 750E&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; jne 00405DC5&lt;-----错误信息 <br>
  :00405DB7 83C002&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  add eax, 00000002 <br>
  :00405DBA 83C602&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  add esi, 00000002 <br>
  :00405DBD 84C9&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; test cl, cl <br>
  :00405DBF 75DC&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; jne 00405D9D&lt;------未完,继续比较 <br>
  <br>
  * Referenced by a (U)nconditional or (C)onditional Jump at Address: <br>
  |:00405DA9(C) <br>
  | <br>
  :00405DC1 33C0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; xor eax, eax&lt;-----比较正确eax清零 <br>
  :00405DC3 EB05&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; jmp 00405DCA <br>
  <br>
  * Referenced by a (U)nconditional or (C)onditional Jump at Addresses: <br>
  |:00405DA5(C), :00405DB5(C) <br>
  | <br>
  :00405DC5 1BC0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; sbb eax, eax <br>
  :00405DC7 83D8FF&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  sbb eax, FFFFFFFF&lt;-----比较错误eax置位 <br>
  <br>
  * Referenced by a (U)nconditional or (C)onditional Jump at Address: <br>
  |:00405DC3(U) <br>
  | <br>
  :00405DCA 85C0&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; test eax, eax <br>
  :00405DCC 8D4C2408&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; lea 
  ecx, dword ptr [esp+08] <br>
  :00405DD0 0F94C3&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  sete bl&nbsp; &nbsp; &nbsp; &lt;-----若eax为零,bl置位 <br>
  :00405DD3 E8BAB70100&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; call 00421592 
  <br>
  :00405DD8 84DB&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; test bl, bl&nbsp; <br>
  :00405DDA 7513&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; jne 00405DEF &lt;-----bl不为零,显示"Thank you for your&nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; registration" <br>
  :00405DDC 6AFF&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; push FFFFFFFF <br>
  :00405DDE 6A00&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; push 00000000 <br>
  <br>
  * Possible Reference to String Resource ID=61212: "Incomplete or incorrect information." 
  <br>
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 
  &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; | <br>
  :00405DE0 681CEF0000&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; push 0000EF1C 
  <br>
  :00405DE5 E8DB180200&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; call 004276C5 
  <br>
  :00405DEA E96EFFFFFF&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; jmp 00405D5D 
  <br>
  <br>
  分析将输入码变形的CALL,便可知道程序是如何处理输入码的. <br>
  处理过程如下: <br>
  将输入码调头,将其ASCII码与序号相加. <br>
  那么我们根据已知的变形后的注册码反推出注册码 <br>
  <br>
  序号&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 9&nbsp; &nbsp; 8&nbsp; &nbsp; 7&nbsp; &nbsp; 
  6&nbsp; &nbsp; 5&nbsp; &nbsp; 4&nbsp; &nbsp; 3&nbsp; &nbsp; 2&nbsp; &nbsp; 1&nbsp; 
  &nbsp; 0 <br>
  变形的注册码&nbsp; &lt;&nbsp; &nbsp; &lt;&nbsp; &nbsp; @&nbsp; &nbsp; :&nbsp; &nbsp; 
  :&nbsp; &nbsp; 5&nbsp; &nbsp; &lt;&nbsp; &nbsp; 7&nbsp; &nbsp; 2&nbsp; &nbsp; 
  0 <br>
  ASCII码&nbsp; &nbsp; &nbsp; &nbsp; 3C&nbsp; 3C&nbsp; 40&nbsp; 3A&nbsp; 3A&nbsp; 
  35&nbsp; 3C&nbsp; 37&nbsp; 32&nbsp; 30 <br>
  减序号后&nbsp; &nbsp; &nbsp; 33&nbsp; 34&nbsp; 39&nbsp; 34&nbsp; 35&nbsp; 31&nbsp; 
  39&nbsp; 35&nbsp; 31&nbsp; 30 <br>
  <br>
  注册码应为: 0159154943 </span></blockquote>
<hr>
</body>
</html>
