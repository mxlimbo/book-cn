<html>
<head>
<title>¿´Ñ©Ñ§Ô·</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<style type="text/css">
<!--
.p8 {  font-size: 8pt}
.p9 {  font-size: 9pt}
a:hover {  color: #00FF00}
a {  text-decoration: none}
.p12 {  font-size: 12pt; font-weight: bold; color: #FF3333}
-->
</style>
</head>

<body bgcolor="#FFFFFF">
<span class="p9"><font color=blue>±ê Ìâ:</font>×ªÔØ Èí¼şÕïËùÂÛÌ³:ÀîÎ°ÌûµÄÒ»Æª¡¶¹ØÓÚÓ²ÅÌĞòÁĞºÅµÄÌ½ÌÖ! ¡·¡£ÒÔÇ°ÓĞÈËÎÊ¹ıÕâ·½ÃæµÄÎÊÌâ 
(4Ç§×Ö)<br>
<font color=blue>·¢ĞÅÈË:</font>¿´Ñ©<br>
<font color=blue>Ê± ¼ä:</font>2000-6-27 19:31:08 <br>
<font color=blue>ÏêÏ¸ĞÅÏ¢:</font><br>
</span>
<blockquote><span class="p9"> From: "Wang Xianbing" &lt;Wang.Xianbing@p0.f25.n662.z6.fidonet.org> 
  <br>
  Subject: ¹ØÓÚÓ²ÅÌĞòÁĞºÅµÄÌ½ÌÖ! <br>
  Newsgroups: programr.china <br>
  <br>
  ´ó¼ÒºÃ: <br>
  <br>
  ½üÀ´ÔÚCFIDOºÍE-mailÖĞÒ»Ö±ÓĞÅóÓÑÑ¯ÎÊ¹ØÓÚÈçºÎÄÜÔÚWindowsÏÂÓÃVBÀ´ <br>
  »ñÈ¡Ó²ÅÌĞòÁĞºÅµÄÎÊÌâ, ÒòÎªÔÚVBµÄfor WindowsÖĞ°æ±¾ÖĞÃ»ÓĞÁË¶Ë¿Ú´æÈ¡ <br>
  º¯Êı, ËùÒÔ¾ÍĞ´ÁËÒ»¸öHDIDE16.DLLµÄ¶«¶«, ·ÅÔÚÖ÷Ò³ÉÏÃâ·Ñ·¢·Å, ²¢ÇÒ <br>
  HDIDE32°æ±¾µÄ¼´½«³öÌ¨, ÊëÖªÈ´Ôâµ½ XXX ËÁÒâ¼ùÌ¤, ÀíÓÉÈçÏÂ: <br>
  ---- CUT ---- <br>
  WX> ºÃ¾ÃÒ»À´, Ò»Ö±Î´ÄÜ·¢ÏÖÓĞÓÃVBÀ´»ñÈ¡Ó²ÅÌĞòÁĞºÅµÄ¶«¶«, <br>
  WX> ÒÔÖÂÓÚVBµÄ³ÌĞò ²»ÄÜµÃµ½ºÜºÃµÄ±£»¤, ËùÒÔ×òÌì×öÁË¸öHDIDE16.DLL, <br>
  RT> Ì«·³ÁË°É! <br>
  RT> ²»ÊÇÎÒÏë¸øÄãÆÃÀäË®,ÄãµÄWINAPIÖªÊ¶ÓĞµãÇ··¦! <br>
  RT> È¡¼ÆËã»úÓ²ÅÌĞòÁĞºÅ¼°¾íÃûµÄº¯ÊıÊÇ: <br>
  RT> Õâ¸öÀÏÔçÎÒ¾ÍÓÃÁË. <br>
  RT> ¼ÓÃÜ·½·¨ºÜ¶àÖÖ,Ò²²»Ò»¶¨ÓÃÓ²ÅÌĞòÁĞºÅ. <br>
  RT> ¿ÉÏ§²»ÄÜËµ. :))) <br>
  --- CUT --- <br>
  <br>
  ¶Ô´Ë, ÎÒ±íÊ¾Ç¿ÁÒµÄ¿¹Òé, ²¢ÇÒÎª±ÜÃâÓÉ´ËÒıÆğµÄÎóµ¼, ÌØ½«»ù±¾µÄ³£Ê¶Çø <br>
  ·ÖÈçÏÂ, ¸½ÓĞÍêÕûµÄ¶Ô±ÈÔ´³ÌĞò: <br>
  <br>
  ¹ØÓÚÅÌĞòÁĞºÅÓĞÁ½ÖÖ: <br>
  <br>
  Ó²ÅÌĞòÁĞºÅ: Ó¢ÎÄÃû Hard Disk Serial Number, ¸ÃºÅÊÇ³ö³§Ê±Éú²ú³§¼ÒÎª <br>
  Çø±ğ²úÆ·¶øÉèÖÃµÄ, ÊÇÎ¨Ò»µÄ, ÊÇÖ»¶ÁµÄ, ÀûÓÃÓ²ÅÌĞòÁĞºÅµÄ <br>
  ¼ÓÃÜÍùÍùÊÇÀûÓÃÆäÎ¨Ò»ºÍÖ»¶ÁµÄÌØĞÔ, ´ó¶àÊÇÕë¶ÔÓĞĞòÁĞºÅµÄ <br>
  IDE HDD¶øÑÔ, ¶ÔÓÚÃ»ÓĞĞòÁĞºÅ»òSCSI HDDÓ²ÅÌÔòÎŞÄÜÎªÁ¦, <br>
  ÕâÒ²ÊÇÀûÓÃËü½øĞĞ¼ÓÃÜµÄ¾ÖÏŞĞÔ. <br>
  ¾íµÄĞòÁĞºÅ: Ó¢ÎÄÃû Volume Serial Number, ¸ÃºÅ¼È¿ÉÖ¸Èí´ÅÅÌÒªµÃ, Èç: <br>
  A:ÅÌºÍB:ÅÌµÄ, ÓÖ¿ÉÒÔÖ¸Ó²ÅÌµÄÂß¼­ÅÌ, Èç: C:, D:...µÄ, <br>
  ÊÇ¸ß¼¶¸ñÊ½»¯Ê±Ëæ»ú²úÉúµÄ, ÊÇ¿ÉÒÔĞŞ¸ÄµÄ, ËùÒÔÀûÓÃÆä½øĞĞ <br>
  ¼ÓÃÜ, ÆäÎ¨Ò»ĞÔ»¹¿É, ¶øÆä¿ÉĞŞ¸ÄĞÔ¶ÔÓÚ°²È«¶øÑÔ¾Í´ó´òÕÛ¿Û <br>
  ÁË. <br>
  <br>
  ÄÇÃ´ÈçºÎ»ñµÃËüÃÇÄØ? ÕâÒªÊÓ²»Í¬µÄÆ½Ì¨¶øÂÛ, ºËĞÄÊµÏÖ·½·¨ÈçÏÂ: <br>
  <br>
  DOSÆ½Ì¨ Windows 3.X Windows 9.X <br>
  <br>
  Ó²ÅÌĞòÁĞºÅ: ¶Ë¿ÚI/O ¶Ë¿ÚI/O Ring0¼¶I/O <br>
  <br>
  ¾íµÄĞòÁĞºÅ: ÖĞ¶Ïµ÷ÓÃ WINAPI WINAPI <br>
  <br>
  <br>
  Îª·½±ã´ó¼ÒÑéÖ¤, ÌØÌùÈçÏÂÁ½³ÌĞòÓÃTC»òBC±àÒëºóÔËĞĞÔÚDOSÏÂ¼´¿É: <br>
  <br>
  /* ³ÌĞò1: »ñµÃIDEÓ²ÅÌCµÄĞòÁĞºÅ */ <br>
  #include &lt;stdio.h> <br>
  #include &lt;stdlib.h> <br>
  #include &lt;dos.h> <br>
  #include &lt;conio.h> <br>
  #include &lt;string.h> <br>
  <br>
  char *getascii (unsigned int in_data [], int off_start, int off_end); <br>
  <br>
  void main (void) <br>
  { <br>
  unsigned int dd [256]; /* DiskData */ <br>
  unsigned int dd_off; /* DiskData offset */ <br>
  <br>
  while (inp (0x1F7) != 0x50) /* Wait for controller not busy */ <br>
  ; <br>
  <br>
  outp (0x1F6, 0xA0); /* Get first/second drive */ <br>
  <br>
  outp (0x1F7, 0xEC); /* Get drive info data */ <br>
  <br>
  while (inp (0x1F7) != 0x58) /* Wait for data ready */ <br>
  ; <br>
  <br>
  for (dd_off = 0; dd_off != 256; dd_off++) /* Read "sector" */ <br>
  dd [dd_off] = inpw (0x1F0); <br>
  <br>
  printf ("The Serial Number Hard Disk [C] is %s", getascii (dd, 10, 19)); <br>
  <br>
  } <br>
  <br>
  char *getascii (unsigned int in_data [], int off_start, int off_end) <br>
  { <br>
  static char ret_val [255]; <br>
  int loop, loop1; <br>
  <br>
  for (loop = off_start, loop1 = 0; loop &lt;= off_end; loop++) <br>
  { <br>
  ret_val [loop1++] = (char) (in_data [loop] / 256); /* Get High byte */ <br>
  ret_val [loop1++] = (char) (in_data [loop] % 256); /* Get Low byte */ <br>
  } <br>
  ret_val [loop1] = ""; /* Make sure it ends in a NULL character */ <br>
  return (ret_val); <br>
  } <br>
  <br>
  /* ³ÌĞò2: »ñµÃÂß¼­ÅÌCµÄĞòÁĞºÅ */ <br>
  #include &lt;stdio.h> <br>
  #include &lt;stdlib.h> <br>
  #include &lt;ctype.h> <br>
  #include &lt;dos.h> <br>
  <br>
  void main(void) <br>
  { <br>
  char serial_no[10]; <br>
  union REGS r; <br>
  struct SREGS s; <br>
  unsigned sno1, sno2; <br>
  <br>
  r.x.ax = 0x6900; <br>
  r.h.bl = 3; /* A:=1, B:=2, C:=3 etc. */ <br>
  segread(&amp;s); <br>
  intdosx(&amp;r, &amp;r, &amp;s); <br>
  if (r.x.cflag) <br>
  *serial_no = ""; <br>
  else <br>
  { <br>
  sno2 = *((unsigned far *)MK_FP(s.ds, r.x.dx+2)); <br>
  sno1 = *((unsigned far *)MK_FP(s.ds, r.x.dx+4)); <br>
  sprintf(serial_no, "%04X-%04X <br>
  ", sno1, sno2); <br>
  } <br>
  printf("The Serial Number of Login Disk [C] is %s", serial_no ); <br>
  <br>
  } <br>
  <br>
  ÔÚWindows 3.XÖĞ: <br>
  <br>
  Ó²ÅÌĞòÁĞºÅ: Ê¹ÓÃ¶Ë¿ÚI/O¼´¿É, ½«ÒÔÉÏ³ÌĞòÉÔ¼ÓĞŞ¸Ä²¢ÓÃVC»òBC×ö³ÉDLL <br>
  ¼´¿ÉÔÚVBÖĞµ÷ÓÃ, ±¾ÈË¾ÍÊÇÕâÑù×öµÄ. <br>
  ¾íµÄĞòÁĞºÅ: ÓÃÄÇÎ»ÅóÓÑËùËµµÄWINAPIº¯ÊıGetVolumeInformation¼´¿É. <br>
  <br>
  ÔÚWindows 9.XÖĞ: <br>
  <br>
  Ó²ÅÌĞòÁĞºÅ: ±ØĞëÊ¹ÓÃVxD¼¼Êõ, ¼´±ã²»Ğ´VxDÎÄ¼ş, Òª»ñµÃRing0¼¶µÄ·ÃÎÊÈ¨ <br>
  ²ÅÄÜ»ñµÃ, ·ñÔò³ÌĞò¹¤×÷ÔÚRing3¼¶»áËÀÔÚÒÔÏÂÓï¾ä´¦: <br>
  while (inp (0x1F7) != 0x50) /* Wait for controller not busy */ <br>
  ÏêÏ¸¼¼ÊõÇë·ÃÎÊhttp://dingkai.sdxf.com <br>
  <br>
  ¾íµÄĞòÁĞºÅ: ÓÃÄÇÎ»ÅóÓÑËùËµµÄWINAPIº¯ÊıGetVolumeInformation¼´¿É. <br>
  <br>
  <br>
  ÎÒ»¶Ó­Ã¿Ò»Î»ÈÈÇé, ³ÏÖ¿µÄÅóÓÑ! ¾Ü¾ø¿ñÍı. <br>
  <br>
  ÈÃÎÒÃÇĞ¯ÆğÊÖÀ´, ´ÓĞ¡×öÆğ, ¹²Í¨ÍÆ¶¯Ãñ×åÈí¼ş·¢Õ¹! <br>
  <br>
  <br>
  ~~~ ÉÍÍÍ  ¹â»ÔÈí¼ş¹¤×÷ÊÒ - ÍõÏ×±ù ÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍÍ[][ş][X]? ? ===> ÕñĞËÃñ×åÈí¼ş ¿¹»÷±±Ô¼±©ĞĞ &lt;=== ?~~~ 
  ÈÍÍÍ URL: http://glowsoft.126.com E-mail: wxbing@163.net ÍÍÍ¼ </span></blockquote>
<hr>
</body>
</html>
