<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML dir=ltr>
<HEAD>
<META HTTP-EQUIV="Content-Type" Content="text/html; charset=GB_2312-80">
<title>可重复读取隔离级出现死锁</title>
<style>@import url(/stylesheets/msdn_ie4.css);</style>
<link disabled rel="stylesheet" href="/stylesheets/msdn_ie3.css"></HEAD>
<BODY>

<h3><a name="mdhowdeadlock"></a>可重复读取隔离级出现死锁</h3>
<p>
<object id=alink_1 type="application/x-oleobject"
	classid="clsid:adb880a6-d8ff-11cf-9377-00aa003b7a11">
<PARAM name="Command" value="ALink,MENU">
<PARAM name="Text" value="Text:请参阅">
<PARAM name="Flags" value=",,1">
<PARAM name="Item1" value="">
<PARAM name="Item2" value="mdhowDeadlock_C">
</object></p>
<p>
如果自定义<a href="mddefbusinessobject.htm">业务对象</a>使用可重复读取隔离级访问 SQL 服务器，并且两个在相同事务中发送查询和更新的客户端同时调用业务对象，那么可能发生死锁。远程数据服务允许其中一个进程超时以便释放死锁，但这会使客户端的更新失败。</p>
<p>
在 Web 服务器上添加注册表项可以修改超时的长度。默认为 30 秒（或者 30,000 毫秒）。</p>
<p class=label>
<b>修改超时值</b>
<ol>
<li>
从“开始”菜单，单击“运行”。<br><br></li>
<li>
键入“RegEdit”并单击“确定”。<br><br></li>
<li>
在注册表编辑器中，定位到：<b>HKEY_LOCAL_MACHINE\System\CurrentControlSet\Services\W3SVC\Parameters</b> 键。<br><br></li>
<li>
选择“参数”键。从“编辑”菜单，指向“新建”，然后选定“DWORD 值”。<br><br></li>
<li>
在“名称”列中，键入“ADCUpdateTimeout”并按 Enter。<br><br></li>
<li>
双击新条目。在“编辑 DWORD 值”对话框中，将新值（以毫秒为单位）输入“值数据”框中。该值必须大于或等于 0。</li>
</ol>
</BODY>
</HTML>
