<HTML>
<HEAD>
<link rel="STYLESHEET" type="text/css" href="squeal7.css">
<TITLE>Special System Databases</TITLE>

<SCRIPT LANGUAGE="JavaScript"><!-- 
function fullSize(sURL){window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}
--></SCRIPT>
</HEAD>
<BODY BGCOLOR="#ffffff" TEXT="#000000">
<A HREF="ch05a.htm">[Previous]</A> <A HREF="ch05c.htm">[Next]</A><P>

<A NAME="169"><H1>Special System Databases</H1></A>

<P>A new SQL Server installation will automatically include several databases:  
<I>master</I>, <I>model</I>,<I> tempdb</I>,<I> 
pubs</I>,<I> Northwind</I>,<I> </I>and <I>msdb</I>.

<A NAME="170"><H2><I>master</I></H2></A>
<P>The <I>master</I> database is composed of system tables that keep track of the 
server installation as a whole and all other databases that are subsequently created. 
Although every database has a set of system catalogs that maintain 
information about objects it contains, the 
<I>master</I> database has system catalogs that 
keep information about disk space, file allocations, usage, systemwide 
configuration settings, login accounts, the existence of other databases, and the existence 
of other SQL servers (for distributed operations). The 
<I>master</I> database is absolutely critical to your system, so be sure that you always keep a current backup 
copy of it. Operations such as creating another database, changing 
configuration values, or modifying login accounts all make modifications to 
<I>master</I>, so after performing such activities, make sure you back up 
<I>master</I>.</P>

<A NAME="171"><H2><I>model</I></H2></A>
<P>The <I>model</I> database is simply a template database. Every time you create a 
new database, SQL Server makes a copy of 
<I>model</I>. If you'd like every new database to start out with certain objects or permissions, you can put them in 
<I>model</I>, and all new databases will inherit them.</P>

<A NAME="172"><H2><I>tempdb</I></H2></A>
<P>The temporary database, <I>tempdb</I>, is a workspace. SQL Server's 
<I>tempdb</I> database is unique among all other databases because it's re-created&#8212;not 
recovered&#8212;every time SQL Server is restarted. It's used for temporary tables explicitly 
created by users, for worktables to hold intermediate results created internally by 
SQL Server during query processing and sorting, and for the materialization of 
static cursors and the keys of keyset cursors. Operations within 
<I>tempdb</I> are logged so that transactions on temporary tables can be rolled back, but the records in 
the log contain only enough information to roll back a transaction, not to 
recover (or redo) it. No recovery information is needed because every time SQL 
Server is started, <I>tempdb</I> is completely re-created; any previous user-created objects 
(that is, all your tables and data) will be gone. Logging only enough information 
for rolling back transactions in <I>tempdb</I> is a new feature in SQL Server 7 and 
can potentially increase the performance of INSERT statements to make them 
up to four times faster than inserts in other (fully logged) databases.</P>
<P>All users have the privileges to create and use private and global 
temporary tables that reside in <I>tempdb.</I> (Private and global table names have 
<I># </I>and  
<I>## </I>prefixes, respectively, which will be discussed in more detail in <a href="ch06a.htm">Chapter 6.</a>) However, by default, users don't have the privileges to use 
<I>tempdb</I> and then create a table there (unless the table name is prefaced with # or 
##). But you can easily add such privileges to 
<I>model</I>, from which <I>tempdb</I> is copied every 
time the SQL Server is restarted, or you can grant the privileges in an autostart 
procedure that runs each time SQL Server is restarted. If you do choose to add 
those privileges to the <I>model</I> database, you must remember to revoke those 
privileges on any other new databases you subsequently create if you don't want them 
to appear there as well.</P>

<A NAME="173"><H2><I>pubs</I></H2></A>
<P>The <I>pubs</I> database is a sample database used extensively by much of the 
SQL Server documentation and in this book. You can safely delete it if you like,  
although it consumes only 2 MB of space. So if you're not scrounging for a 
few more megabytes of disk space, we recommend leaving 
<I>pubs</I> there. This database is admittedly fairly simple, but that's a feature, not a bug. The 
<I>pubs</I> database provides good examples, without a lot of peripheral issues obscuring their 
central points. Another nice feature of 
<I>pubs</I> is that it's pretty ubiquitous in the 
SQL Server community, which makes it easy to use to illustrate examples without 
requiring the audience to try to understand the underlying tables. As you 
become more skilled with SQL Server, chances are you'll find yourself also using it 
to illustrate examples with your developer or user community.</P>

<A NAME="174"><H2><I>Northwind</I></H2></A>
<P>The <I>Northwind</I> database is another sample database that was originally 
developed for use with Microsoft Access. Much of the documentation dealing 
with application programming interfaces (APIs) uses 
<I>Northwind</I>, as do some of the newer examples in the SQL Server documentation. It's a bit more complex 
than <I>pubs</I>, and at almost 4 MB, slightly larger. We'll be using it to illustrate 
some concepts that aren't easily demonstrated using 
<I>pubs</I>. As with <I>pubs</I>, you can safely 
delete<I> Northwind</I> if you like, although the disk space needed is still 
extremely small compared to what you'll be using for your real data. We recommend 
leaving <I>Northwind</I> there.</P>

<A NAME="175"><H2><I>msdb</I></H2></A>
<P>The <I>msdb </I>database is used by the SQL Server Agent service, which 
performs scheduled activities such as backups and replication tasks. In general, other 
than performing backups and maintenance on this database, you should ignore 
<I>msdb. </I>(But you might take a peek at the backup history and other information 
kept there.) All the information in <I>msdb</I> is accessible from the SQL Server 
Enterprise Manager tools, so you usually don't need to access these tables directly. 
Think of the <I>msdb</I> tables as another form of system tables: just as you should 
never directly modify system tables, you shouldn't directly add data to or delete 
data from tables in <I>msdb</I> unless you really know what you're doing or are 
instructed to do so by a Microsoft SQL Server technical support engineer.</P>

</BODY>
</HTML>



