<html>
<head>
<title>第四页：一定要把样式加在标记中吗？</title>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<link rel="stylesheet" href="all.css">
</head>
<body leftmargin="0" background="bodybg.jpg" topmargin="0" marginwidth="0" marginheight="0">
<table border="0" cellpadding="0" cellspacing="0" width="776">
  <tr valign="top"> 
    <td><img width="199" height="142" border="0" src="top1.jpg"></td>
    <td><img src="top2.jpg" width="577" height="105"></td>
  </tr>
</table>
<table border="0" cellpadding="0" cellspacing="0" width="776">
  <tr valign="top">
    <td width="110"><img src="left.jpg" width="92" height="137" border="0" usemap="#Map"><map name="Map"><area shape="rect" coords="9,78,62,97" href="24.htm"><area shape="rect" coords="9,46,62,65" href="22.htm"><area shape="rect" coords="10,17,63,36" href="content.htm"></map></td>
    <td> 
      <table width="580" cellspacing="0" cellpadding="0" border="0">
        <tr> 
          <td> 
            <p align="center" class="h">第五天</p>
            <p align="center" class="h">第四页：一定要把样式加在标记中吗？</p>
          </td>
        </tr>
      </table>
      <br>
      <table width="580" border="0" cellspacing="0" cellpadding="0">
        <tr> 
          <td> 
            <p>　　如果你经常访问网猴，你可能知道我们鼓吹在线文档中结构、表现和行为的分离。你保持你的HTML结构，用CSS进行布局，然后用JavaScript做一些事情。尽可能地不要把这三者混在一起。问题是，当你从文档的head部分应用样式规则到对象时，在IE中，整个规划会分离到不同部分。<br>
            </p>
            <p>&lt;html&gt; </p>
            <p>&lt;head&gt;</p>
            <p>&lt;title&gt;DOM example&lt;/title&gt;</p>
            <p>&lt;style&gt;</p>
            <p>#foo {position: absolute; left: 10px; top: 10px}</p>
            <p>&lt;/style&gt;</p>
            <p>&lt;script&gt;</p>
            <p>function alertIt() {</p>
            <p> 　　alert(foo.style.left);</p>
            <p>&lt;/script&gt;</p>
            <p>&lt;/head&gt;</p>
            <p>&lt;body onload=&quot;alertIt()&quot;&gt;</p>
            <p>&lt;div id=&quot;foo&quot;&gt;This is the sample&lt;/div&gt;</p>
            <p>&lt;/body&gt;</p>
            <p>&lt;/html&gt;<br>
            </p>
            <p>　　你得到一个空的对话框，是吗？<br>
            </p>
            <p>　　你的第一个反映可能是假定下载过程中断了。但是实际上是IE把这个整体分离。因为如果你查看文档，对象foo并没有样式在其中，虽然它有一个指向样式表的ID。所以foo的唯一属性是ID。你可以做一个实验，在foo标记中加入：<br>
            </p>
            <p>　　&lt;div id=&quot;foo&quot; bar=&quot;neat&quot;&gt;This is the 
              sample&lt;/div&gt;<br>
            </p>
            <p>　　现在alert(foo.bar)会返回&quot;neat&quot;。你看出来在IE中发生什么了吗？标记中的任何属性都在DOM中作为对象的属性出现。但是如果它不在对象内，就在DOM中没有反映。这就是为什么把样式加到标记中。<br>
            </p>
            <p>　　为了修正这个问题，我们再一次使用JavaScript的object-as-reference能力。但是不指向HTML对象，我们为按照ID为对象指定样式表规则。页面的结果和在你的脚本中的一致，但是不需要把样式放在标记行中。<br>
            </p>
            <p>&lt;script&gt;<br>
              　　function setup(myId){ <br>
              　　if(document.layers){ <br>
              　　　　myObj = document.layers[myID]; <br>
              　　} else if(document.all) { <br>
              　　　for (ss=0 ; ss &lt; document.styleSheets.length; ss++) { <br>
              　　　　for (sr=0 ; sr &lt; document.styleSheets(ss).rules.length; sr++) 
              { <br>
              　　　　　if (document.styleSheets(ss).rules(sr).selectorText == '#' 
              + myId) { <br>
              　　　　　　myObj = document.styleSheets(ss).rules(sr).style; <br>
              　　　　　} <br>
              　　　　} <br>
              　　　} <br>
              　　}<br>
              　}<br>
              &lt;/script&gt;<br>
            </p>
            <p>　　结果是循环经过所有的页面的样式表。如果其中一个与你的对象的ID匹配，它就作为这个对象的别名。你可以象从前一样处理，但是用的HTML代码更整洁。</p>
          </td>
        </tr>
      </table>
      <br>
      <table width="580" cellspacing="0" cellpadding="0" border="0">
        <tr> 
          <td> 
            <table border=0 align=center>
              <tr> 
                <td width=101 height="21"> 
                  <div align="center"><a href='22.htm'>上一页 </a></div>
                </td>
                <td width=99 height="21"> 
                  <div align="center"><a href="content.htm">目　录</a></div>
                </td>
                <td width=100 height="21"> 
                  <div align="center"><a href='24.htm'>下一页 </a></div>
                </td>
              </tr>
            </table>
            <p align=center>□ 资料来源：<a href="http://www.sohu.com">sohu.com</a><br>
            <p align=center>本书由“<a href="http://www.eshunet.com/">E书时空</a>”免费制作； 
              <br>
              想要更多的免费电子图书，请光临 <br>
              <a href="http://www.eshunet.com/">http://www.eshunet.com/</a> 
            <p align=center>&nbsp; 
          </td>
        </tr>
      </table>
    </td>
  </tr>
</table>
</body>
</html>

