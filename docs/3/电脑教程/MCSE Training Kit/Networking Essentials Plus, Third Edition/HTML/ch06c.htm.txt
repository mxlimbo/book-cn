<HTML>
<HEAD>
<TITLE>Lesson 2: TCP/IP</TITLE>
<link rel="STYLESHEET" type="text/css" href="netess3.css">

<SCRIPT LANGUAGE="JavaScript"><!-- 
function fullSize(sURL){window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}
--></SCRIPT>
</head>
<BODY bgcolor="#ffffff" text="#000000">
<A HREF="ch06b.htm">[Previous]</A> <A HREF="ch06d.htm">[Next]</A><P>

<A NAME="337"><h1>Lesson 2: TCP/IP</h1></A>
<p><i>Transmission Control Protocol/Internet Protocol (TCP/IP)</i> is an industry-standard
suite of protocols that provide communications in a heterogeneous (made up of dissimilar
elements) environment. In addition, TCP/IP provides a routable, enterprise networking protocol
and access to the Internet and its resources. Because of爄ts popularity, TCP/IP has become the
de facto standard for what's known as <i>internetworking</i>, the intercommunication in a
network that's composed of smaller networks. This lesson examines the TCP/IP protocol and
its relationship to the OSI reference model.</p>

<p><div class="sidebar"><blockquote>
<p><b>After this lesson, you will be able to:</b> </p>

<ul>
<p><li> Define the TCP/IP protocol.</li></p>

<p><li>Describe the four layers of the TCP/IP protocol and how they relate to the OSI reference model.</li></p>
</ul>

<p><b>Estimated lesson time: 15 minutes</b> </p>
</blockquote></div>
</p>

<A NAME="338"><h2>Introduction to TCP/IP</h2></A>
<p>TCP/IP has become the standard protocol used for interoperability among many different types
of computers. This interoperability is a primary advantage of TCP/IP. Most networks support
TCP/IP as a protocol. TCP/IP also supports routing and is commonly used as an internetworking
protocol.</p>

<p>Other protocols written specifically for the TCP/IP suite include:</p>

<ul>
<p><li> <b>SMTP (Simple Mail Transfer Protocol)</b> E-mail.</li></p>

<p><li><b>FTP (File Transfer Protocol)</b> For exchanging files among computers running TCP/IP.</li></p>

<p><li> <b>SNMP (Simple Network Management Protocol)</b> For network management.</li></p>
</ul>

<p>Designed to be routable, robust, and functionally efficient, TCP/IP was developed by the
United States Department of Defense as a set of wide area network (WAN) protocols. Its purpose
was to maintain communication links between sites in the event of nuclear war. The
responsibility for TCP/IP development now resides with the Internet community as a whole.
TCP/IP requires significant knowledge and experience on the user's part to install and
configure. Using TCP/IP offers several advantages; it:</p>

<ul>
<p><li> <b>Is an industry standard</b> As an industry standard, it is an open protocol. This
means it is not controlled by a single company, and is less subject to compatibility issues. It
is the de facto protocol of the Internet.</li></p>

<p><li> <b>Contains a set of utilities for connecting dissimilar operating systems</b> 
Connectivity from one computer to another does not depend on the network operating system used
on either computer.</li></p>

<p><li> <b>Uses scalable, cross-platform client-server architecture</b> TCP/IP can expand (or
shrink) to meet future needs and circumstances. It uses sockets to爉ake the computer operating
systems transparent to one another.</li></p>
</ul>

<p>
<div class="note"><blockquote><b>NOTE</b><hr>
A <i>socket</i> is an identifier for a particular service on a particular node
on燼爊etwork. The socket consists of a node address and a port number that identifies the
service.
</blockquote></div>
</p>

<p>Historically, TCP/IP has had two primary disadvantages: its size and speed. TCP/IP is a
relatively large protocol stack that can cause problems in MSDOSbased clients. However, due to
the system requirements (processor speeds and memory) on graphical user interface (GUI)-based
operating systems, such as Windows NT or Windows 95 and 98, size is not an issue.</p>

<A NAME="339"><h2>TCP/IP Standards</h2></A>
<p>TCP/IP standards are published in a series of documents called Requests for Comment (RFC).
Their primary purpose is to provide information or to describe work in progress. Although not
originally intended to serve as standards, many RFCs are accepted as true standards.</p>

<p>Internet development is based on the concept of open standards. That is, anyone who wishes
to do so can use or participate in developing standards for the Internet. The Internet
Architecture Board (IAB) is the committee responsible for爉anaging and publishing RFCs for the
Internet. The IAB allows anyone or any company to submit or evaluate an RFC. This includes any
proposed idea for燾hanges or new standards. After a reasonable amount of time is allowed for
discussion, a newly proposed draft will or will not become a standard.</p>

<p>The InterNIC Directory and Database provided by AT&amp;T is a service that furnishes sources
of information about the Internet to the public. The Directory and Database includes the RFCs.
This service can be found at <a href="http://www.internic.net" target="_window2">www.internic.net</a> on the World Wide Web. Furthermore, RFCs can be
downloaded from the following FTP sites:</p>


<table>
<tr><td class="columns">nis.nsf.net</td><td class="columns">ftp.ncren.net</td></tr>
<tr><td class="columns">nisc.jvnc.net</td><td class="columns">ftp.sesqui.net</td></tr>
<tr><td class="columns">ftp.isi.edu</td><td class="columns">ftp.nic.it</td></tr>
<tr><td class="columns">wuarchive.wustl.edu</td><td class="columns">ftp.imag.fr</td></tr>
</table>



<A NAME="340"><h2>TCP/IP and OSI</h2></A>
<p>The TCP/IP protocol does not exactly match the OSI reference model. Instead of seven layers, it uses
only four. Commonly referred to as the Internet Protocol Suite, TCP/IP is broken into the
following four layers:</p>

<ul>
<p><li> Network interface layer</li></p>
<p><li> Internet layer</li></p>
<p><li> Transport layer</li></p>
<p><li> Application layer</li></p>
</ul>

<p>Each of these layers corresponds to one or more layers of the OSI reference model.</p>

<A NAME="341"><h3>Network Interface Layer</h3></A>
<p>The <i>network interface layer,</i> corresponding to the physical and data-link layers of
the OSI reference model, communicates directly with the network. It provides the interface between the
network architecture (such as token ring, Ethernet) and the Internet layer.</p>

<A NAME="342"><h3>Internet Layer</h3></A>
<p>The <i>Internet layer</i>, corresponding to the network layer of the OSI reference model, uses several
protocols for routing and delivering packets. Routers, which are discussed in <A HREF="ch07a.htm#374">Chapter 7</A>,
&quot;Elements of Network Connectivity,&quot; are protocol dependent. They function at this
layer of the model and are used to forward packets from one network or segment to another.
Several protocols work within the Internet layer.</p>

<p><b>Internet Protocol (IP)</b></p>

<p><i>Internet Protocol (IP)</i> is a packet-switched protocol that performs addressing and
route selection. As a packet is transmitted, this protocol appends a header to the packet so
that it can be routed through the network using dynamic routing tables. IP is a connectionless
protocol and sends packets without expecting the receiving host to acknowledge receipt. In
addition, IP is responsible for packet assembly and disassembly as required by the physical and
data-link layers of the OSI reference model. Each IP packet is made up of a source and a destination
address, protocol identifier, checksum (a calculated value), and a TTL (which stands for
&quot;time to live&quot;). The TTL tells each router on the network between the source and the
destination how long the packet has to remain on the network. It works like a countdown counter
or clock. As the packet passes through the router, the router deducts the larger of one unit
(one second) or the time that the packet was queued for delivery. For example, if a packet has
a TTL of 128, it can stay on the network for 128 seconds or 128 hops (each stop, or router,
along the way), or any combination of爐he two. The purpose of the TTL is to prevent lost or
damaged data packets (such as missing e-mail messages) from endlessly wandering the network.
When the TTL counts down to zero, the packet is eliminated from the network.</p>

<p>Another method used by the IP to increase the speed of transmission is known as
&quot;<i>ANDing.</i>&quot; The purpose of ANDing is to determine whether the address is a local
or a remote site. If the address is local, IP will ask the Address Resolution Protocol (ARP),
discussed in the next section, for the hardware address of the destination machine. If the
address is remote, the IP checks its local routing table for a route to the destination. If a
route exists, the packet is sent on its way. If no route exists, the packet is sent to the
local default gateway and then on its way.</p>


<p>
<div class="note"><blockquote><b>NOTE</b> <hr>
An <i>AND</i> is a logical operation that combines the values of two
bits (0, 1) or two Boolean values (false, true) that returns a value of 1 (true) if both input
values are 1 (true) and returns a 0 (false) otherwise.
</blockquote></div>
</p>

<p><b>Address Resolution Protocol (ARP)</b></p>

<p>Before an IP packet can be forwarded to another host, the hardware address of the receiving
machine must be known. The <i>ARP</i> determines hardware address (MAC addresses) that
correspond to an IP address. If ARP does not contain the address in its own cache, it
broadcasts a request for the address. All hosts on the network process the request and, if they
contain a map to that address, pass the address back to the requestor. The packet is then sent
on its way, and the new information address is stored in the router's cache.</p>

<p><b>Reverse Address Resolution Protocol (RARP)</b></p>

<p>A RARP server maintains a database of machine numbers in the form of an ARP table (or cache)
which is created by the system administrator. In contrast to ARP, the RARP protocol provides an
IP number to a requesting hardware address. When the RARP server receives a request for an IP
number from a node on the network, it responds by checking its routing table for the machine
number of the requesting node and sending the appropriate IP number back to the requesting
node.</p>

<p><b>Internet Control Message Protocol (ICMP)</b></p>

<p>The <i>ICMP</i> is used by IP and higher-level protocols to send and receive status reports
about information being transmitted. Routers commonly use ICMP to control the flow, or speed,
of data between themselves. If the flow of data is too fast for a router, it requests that
other routers slow down.</p>

<p>The two basic categories of ICMP messages are reporting errors and sending queries.</p>

<A NAME="343"><h3>Transport Layer</h3></A>
<p>The <i>transport layer</i>, corresponding to the transport layer of the OSI reference model, is
responsible for establishing and maintaining end-to-end communication between two hosts. The
transport layer provides acknowledgment of receipt, flow control, and sequencing of packets. It
also handles retransmissions of packets. The transport layer can use either TCP or User
Datagram Protocol (UDP) protocols depending on the requirements of the transmission.</p>

<p><b>Transmission Control Protocol (TCP)</b></p>

<p>The TCP is responsible for the reliable transmission of data from one node to another. It is
a connection-based protocol and establishes a connection (also known as a session, virtual
circuit, or link), between two machines before any data is transferred. To establish a reliable
connection, TCP uses what is known as a &quot;three-way handshake.&quot; This establishes the
port number and beginning sequence numbers from both sides of the transmission. The handshake
contains three steps:</p>

<ol>
<p><li>The requestor sends a packet specifying the port number it plans to use and its爄nitial sequence number (ISN) to the server.</li></p>
<p><li>The server acknowledges with its ISN, which consists of the requestor's ISN, plus 1.</li></p>
<p><li> The requestor acknowledges the acknowledgement with the server's ISN, plus