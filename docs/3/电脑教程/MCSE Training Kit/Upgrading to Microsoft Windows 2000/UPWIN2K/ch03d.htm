<HTML>
<HEAD>
<TITLE>Lesson 3: Installing the DNS Service</TITLE>
<link rel="STYLESHEET" type="text/css" href="upwin2k.css">

<SCRIPT LANGUAGE="JavaScript"><!-- 
function fullSize(sURL){window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}
--></SCRIPT>
</head>
<SCRIPT LANGUAGE="JavaScript">
<!--

function fullSize(sURL){
	window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}

function LibraryHeaderNav(sBackward, sForward, sImgLeftOff, sImgLeftOn, sImgRightOff, sImgRightOn, iH, iW, sImgLeftStyle, sImgRightStyle, sImgRuleStyle, sRuleColor, sRuleSize){
	var tableStr;
	//validate questionable args for defs
	tableStr = "<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 border=0 width=100%>";
	tableStr += "<TR VALIGN=top ALIGN=right>";

	tableStr += "<TD align=right class=" + sImgRuleStyle + ">&nbsp;</TD>";	
	
	tableStr += "<TD width=34 align=right class=" + sImgLeftStyle + ">";
	tableStr += "<A href='" + sBackward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgLeftOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgLeftOff + '\'\"';
	tableStr += " SRC='" + sImgLeftOff + "' vspace=0 hspace=0></a></TD>";
	
	tableStr += "<TD width=34 align=left class=" + sImgRightStyle + ">";
	tableStr += "<A href='" + sForward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgRightOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgRightOff + '\'\"';
	tableStr += " SRC='" + sImgRightOff + "' vspace=0 hspace=0></a></TD></TR>";

	tableStr += "<TR VALIGN=top>";
	tableStr += "<TD height=3 align=center colspan=3 class=" + sImgRuleStyle + ">";
	tableStr += "<HR color=" + sRuleColor + " size=" + sRuleSize + "></TD></TR></TABLE>";
	//alert(tableStr);
	document.write(tableStr);
}

 																						     //purple is: #aa22aa   orange is: #ff9900
LibraryHeaderNav("ch03c.htm", "ch03e.htm", "images/unit_p_a1.gif", "images/unit_p_a2.gif", "images/unit_p_b1.gif", "images/unit_p_b2.gif", 18, 34, "unit01", "unit02", "headerrule", "#aa22aa", "2");
//--></SCRIPT><P>

<A NAME="130"><H1>Lesson 3: Installing the DNS Service</H1></A>

<p>Now that you have been introduced to DNS, the Windows 2000 DNS
Service, and name resolution, you are ready to learn how to install the
Microsoft DNS Server Service on a computer running Windows 2000
Server.</p>

<p>
<div class="sidebar"><blockquote>
<p><b>After this lesson, you will be able to</b></p>

<ul>

<p><li>Install the DNS Service.</li></p>

</ul>

<p><b>Estimated lesson time: 25 minutes</b></p>
</blockquote></div>
</p>


<A NAME="131"><H2>Preinstallation Configuration</H2></A>

<p>Computers running Windows 2000 are configured as Dynamic Host
Configuration Protocol (DHCP) clients by default. Therefore, you must
configure TCP/IP with a static IP address before installing the DNS
Server Service. Configure the following options on the server on which
you are going to install the DNS Service:</p>

<ul>

<p><li>Assign a static IP address in the Internet Protocol (TCP/IP)
Properties dialog box.</li></p>

<p><li>Configure the appropriate IP address of the DNS server and
DNS domain name. Using My Network Places, click the Advanced button in
the Internet Protocol (TCP/IP) Properties dialog box to configure the
advanced TCP/IP settings. On the DNS tab, type the DNS address and
domain name.</li></p>

</ul>


<A NAME="132"><H2>Installation Process</H2></A>

<p>Install the DNS Service anytime after the Windows 2000 initial
setup, or you can choose to install the DNS Service during setup. In
addition to installing the DNS Service and enabling the service
automatically (without restarting the computer), the DNS installation
process does the following:</p>

<ul>

<p><li>Installs the DNS snap-in and adds the DNS shortcut to the
Administrative Tools menu. The DNS snap-in is the Microsoft Management
Console (MMC) snap-in that you use to manage local and remote DNS name
servers.</li></p>

<p><li>Adds the following key for the DNS Service to the
registry:</li></p>



<P>
HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\DNS
</P>


<p><li>Creates the C:\Winnt\System32\Dns folder, which contains the
DNS database files that are described in Table 3.3.</li></p>

</ul>

<p>
<div class="note"><blockquote><b>NOTE</b><hr>
Generally, you will not need to edit the DNS
database files. However, you might use them to troubleshoot DNS. For
additional information and sample files, see the
C:\Winnt\System32\Dns\Samples directory.
</blockquote></div>
</p>

<p><b>Table 3.3</b> <i>DNS Database</i></p>

<P>
	<TABLE CELLPADDING=5 WIDTH="95%">
	
		<TR>
			<TH>Filename</TH>
			<TH>Description</TH>
		</TR>

		<TR>
			<TD VALIGN="TOP"><i>Domain</i>.dns</TD>
			<TD VALIGN="TOP">The zone database file that maps host names 
to IP addresses for a zone.</TD>
		</TR>

		<TR>
			<TD VALIGN="TOP">z.y.w.x.in-addr.arpa</TD>
			<TD VALIGN="TOP">The reverse lookup file that maps IP addresses 
to host names.</TD>
		</TR>

		<TR>
			<TD VALIGN="TOP">Cache.dns</TD>
			<TD VALIGN="TOP">The cache file that contains the required host 
information for resolving names outside of authoritative domains. The default 
file contains records for all of  the root servers on the Internet.</TD>
		</TR>

		<TR>
			<TD VALIGN="TOP">Root</TD>
			<TD VALIGN="TOP">The root file that controls how the DNS Service 
starts.  In Windows 2000, the root file is optional, because the root settings 
are also stored in the registry.</TD>
		</TR>	
	
	</TABLE>
</P>

<p>
<div class="note"><blockquote><b>NOTE</b><hr>
The root file is not defined in an RFC and is
not needed for RFC compliance. The root file is a part of the Berkeley
Internet Name Daemon (BIND)&#8212;specific implementation of DNS. If you are migrating from a BIND DNS
server, copying the root file allows easy migration of your existing
configuration.
</blockquote></div>
</p>

<p>
<img src="images/practic.JPG" width=68 height=54 border="0">
</p>

<A NAME="133"><H2>Practice: Installing and Configuring the DNS Service</H2></A>

<p>In this practice you will configure TCP/IP as part of the
preinstallation configuration required to install the DNS Service, and
then you will install the DNS Service.</p>


<A NAME="134"><H3>Exercise 1: Configuring TCP/IP for DNS</H3></A>

<p>In this exercise, you will configure TCP/IP for DNS. This is part of
the configuration you do to prepare to install Microsoft DNS
Server.</p>

<p><li><b>To configure TCP/IP for DNS</b></li></p>

<ol>

<p><li>Log on as Administrator.</li></p>

<p><li>Right-click My Network Places, and then click Properties.</li></p>

<p>The Network And Dial-Up Connections window appears.</p>

<p><li>Right-click Local Area Connection, and then click
Properties.</li></p>

<p>The Local Area Connection Properties dialog box appears, displaying
the network adapter in use and the network components used in this
connection.</p>

<p><li>Click Internet Protocol (TCP/IP), and then verify that the check
box to the left of the entry is selected.</li></p>

<p><li>Click Properties.</li></p>

<p>The Internet Protocol (TCP/IP) Properties dialog box appears.</p>

<p><li>Select Use The Following IP Address.</li></p>

<p><li>Type <b>192.168.1.201</b> in the IP Address box.</li></p>

<p><li>Press the Tab key to move the cursor to the Subnet Mask box,
ensure that 255.255.255.0 is the value and leave the Default Gateway
box empty.</li></p>

<p>If you are not using these suggested values, enter the IP address,
Subnet Mask, and Default Gateway that you are using.</p>

</ol>

<p>
<div class="warning"><blockquote><b>IMPORTANT</b><hr>
Be careful when manually entering IP configuration settings, especially 
numeric addresses. The most frequent cause of TCP/IP connection problems 
is incorrectly entered IP address information.
</blockquote></div>
</p>

<ol>
<p><li value="9">Ensure that the Use The Following DNS Server Addresses option is
selected.</li></p>

<p><li>Type <b>192.168.1.201</b> in the Preferred DNS Server box.</li></p>

</ol>

<p>
<div class="note"><blockquote><b>NOTE</b><hr>
In this exercise you only have one computer, so
you are installing the DNS Service on your computer, making your
computer the DNS server. That is why you type in the IP address of your
computer for the Preferred DNS Server address. If you are on a network,
you may use the address of an available DNS server instead of your
computer's address. If you are using an existing DNS server, you do
not have to install the DNS Service on your computer, so you can skip
Exercise 2.
</blockquote></div>
</p>

<ol>
<p><li value="11">Click Advanced.</li></p>

<p>The Advanced TCP/IP Settings dialog box appears.</p>

<p><li>Click the DNS tab.</li></p>

<p><li>In the DNS Suffix For This Connection box, type <b>
domain.com</b> (if you are on a network, check with your network
administrator to make sure it is OK to use this as your DNS domain
name), and then click OK.</li></p>

<p><li>Click OK to close the Internet Protocol (TCP/IP) Properties
dialog box.</li></p>

<p><li>Click OK to close the Local Area Connection Properties dialog
box.</li></p>

<p><li>Close the Network And Dial-Up Connections window.</li></p>

</ol>

<p><li><b>To configure the DNS domain name of your computer</b></li></p>

<ol>

<p><li>Right-click My Computer, and then click Properties.</li></p>

<p>The System Properties dialog box appears.</p>

<p><li>On the Network Identification tab, click Properties.</li></p>

<p>The Identification Changes dialog box appears.</p>

<p><li>Click More.</li></p>

<p>The DNS Suffix And NetBIOS Computer Name dialog box appears.</p>

<p><li>In the Primary DNS Suffix Of This Computer box, type <b>
domain.com</b>, and then click OK.</li></p>

<p><li>Click OK to close the Identification Changes dialog box.</li></p>

<p>A Network Identification warning box appears, stating that you must
reboot this computer for the changes to take effect.</p>

<p><li>Click OK.</li></p>

<p><li>Click OK to close the System Properties dialog box.</li></p>

<p>A System Settings Change box appears, asking if you want to restart
your computer.</p>

<p><li>Click Yes to restart your computer.</li></p>

</ol>


<A NAME="135"><H3>Exercise 2: Installing the DNS Service</H3></A>

<p>In this exercise, you will install the Microsoft DNS Server
Service.</p>

<p><li><b>To install the DNS Service</b></li></p>

<ol>

<p><li>Log on as Administrator.</li></p>

<p><li>Open Control Panel.</li></p>

<p><li>Double-click Add/Remove Programs.</li></p>

<p>The Add/Remove Programs window appears.</p>

<p><li>Click Add/Remove Windows Components.</li></p>

<p>The Windows Components wizard appears.</p>

<p><li>Click Networking Services, but do not select the check box to
the left of the component.</li></p>

</ol>

<p>
<div class="note"><blockquote><b>NOTE</b><hr>
If the DHCP Service or any other optional
networking component is installed on your computer, a check mark will appear in the box to the
left of Networking Services.
</blockquote></div>
</p>

<ol>

<p><li value="7">Click Details.</li></p>

<p><li>In the Subcomponents Of Networking Services list box, select the
check box to the left of Domain Name System (DNS).</li></p>

<p><li>Click OK.</li></p>

<p>You are returned to the Windows Components page.</p>

<p><li>Click Next.</li></p>

<p>The Configuring Components page appears, and a status indicator
begins tracking the configuration process. After a few moments, the
Insert Disk dialog box appears.</p>

<p><li>Insert the CD-ROM you used to install Windows 2000 on your
computer, and then click OK.</li></p>

</ol>

<p>
<div class="note"><blockquote><b>NOTE</b><hr>
If the Files Needed dialog box appears, ensure
that the path to the source files is correct, and then click
OK.
</blockquote></div>
</p>

<ol>

<p>Setup copies the required files to the hard disk.</p>

<p><li value="12">Click Finish to close the Windows Components wizard.</li></p>

<p><li>Close the Add/Remove Programs window.</li></p>

<p><li>Close Control Panel.</li></p>

<p><li>Remove the CD-ROM.</li></p>

</ol>


<A NAME="136"><H2>Lesson Summary</H2></A>

<p>There are some configuration changes you need to make before you
install the Microsoft DNS Server Service. As a part of this
preinstallation configuration, you should assign the computer on which
you are going to install the DNS Service a static IP address, and you
should configure the appropriate IP address of the DNS server and DNS
domain name.</p>

<p>You can install the DNS Service anytime after the Windows 2000
initial setup, or you can choose to install the DNS Service during
setup. In the practice portion of this lesson, you did the
preinstallation configuration and then you installed the DNS Service.
In addition to installing the DNS Service, the DNS installation process
installs DNS and adds a shortcut for it to the Administrative Tools
menu on the Start menu's Programs menu.</p>


</BODY>
</HTML>



