<HTML>
<HEAD>
<TITLE>Lesson 3: Installing the DNS Service</TITLE>
<link rel="STYLESHEET" type="text/css" href="upwin2k.css">

<SCRIPT LANGUAGE="JavaScript"><!-- 
function fullSize(sURL){window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}
--></SCRIPT>
</head>
<SCRIPT LANGUAGE="JavaScript">
<!--

function fullSize(sURL){
	window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}

function LibraryHeaderNav(sBackward, sForward, sImgLeftOff, sImgLeftOn, sImgRightOff, sImgRightOn, iH, iW, sImgLeftStyle, sImgRightStyle, sImgRuleStyle, sRuleColor, sRuleSize){
	var tableStr;
	//validate questionable args for defs
	tableStr = "<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 border=0 width=100%>";
	tableStr += "<TR VALIGN=top ALIGN=right>";

	tableStr += "<TD align=right class=" + sImgRuleStyle + ">&nbsp;</TD>";	
	
	tableStr += "<TD width=34 align=right class=" + sImgLeftStyle + ">";
	tableStr += "<A href='" + sBackward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgLeftOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgLeftOff + '\'\"';
	tableStr += " SRC='" + sImgLeftOff + "' vspace=0 hspace=0></a></TD>";
	
	tableStr += "<TD width=34 align=left class=" + sImgRightStyle + ">";
	tableStr += "<A href='" + sForward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgRightOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgRightOff + '\'\"';
	tableStr += " SRC='" + sImgRightOff + "' vspace=0 hspace=0></a></TD></TR>";

	tableStr += "<TR VALIGN=top>";
	tableStr += "<TD height=3 align=center colspan=3 class=" + sImgRuleStyle + ">";
	tableStr += "<HR color=" + sRuleColor + " size=" + sRuleSize + "></TD></TR></TABLE>";
	//alert(tableStr);
	document.write(tableStr);
}

 																						     //purple is: #aa22aa   orange is: #ff9900
LibraryHeaderNav("ch03c.htm", "ch03e.htm", "images/unit_p_a1.gif", "images/unit_p_a2.gif", "images/unit_p_b1.gif", "images/unit_p_b2.gif", 18, 34, "unit01", "unit02", "headerrule", "#aa22aa", "2");
//--></SCRIPT><P>

<A NAME="130"><H1>Lesson 3: Installing the DNS Service</H1></A>

<p>Now that you have been introduced to DNS, the Windows 2000 DNS
Service, and name resolution, you are ready to learn how to install the
Microsoft DNS Server Service on a computer running Windows 2000
Server.</p>

<p>
<div class="sidebar"><blockquote>
<p><b>After this lesson, you will be able to</b></p>

<ul>

<p><li>Install the DNS Service.</li></p>

</ul>

<p><b>Estimated lesson time: 25 minutes</b></p>
</blockquote></div>
</p>


<A NAME="131"><H2>Preinstallation Configuration</H2></A>

<p>Computers running Windows 2000 are configured as Dynamic Host
Configuration Protocol (DHCP) clients by default. Therefore, you must
configure TCP/IP with a static IP address before installing the DNS
Server Service. Configure the following options on the server on which
you are going to install the DNS Service:</p>

<ul>

<p><li>Assign a static IP address in the Internet Protocol (TCP/IP)
Properties dialog box.</li></p>

<p><li>Configure the appropriate IP address of the DNS server and
DNS domain name. Using My Network Places, click the Advanced button in
the Internet Protocol (TCP/IP) Properties dialog box to configure the
advanced TCP/IP settings. On the DNS tab, type the DNS address and
domain name.</li></p>

</ul>


<A NAME="132"><H2>Installation Process</H2></A>

<p>Install the DNS Service anytime after the Windows 2000 initial
setup, or you can choose to install the DNS Service during setup. In
addition to installing the DNS Service and enabling the service
automatically (without restarting the computer), the DNS installation
process does the following:</p>

<ul>

<p><li>Installs the DNS snap-in and adds the DNS shortcut to the
Administrative Tools menu. The DNS snap-in is the Microsoft Management
Console (MMC) snap-in that you use to manage local and remote DNS name
servers.</li></p>

<p><li>Adds the following key for the DNS Service to the
registry:</li></p>



<P>
HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Services\DNS
</P>


<p><li>Creates the C:\Winnt\System32\Dns folder, which contains the
DNS database files that are described in Table 3.3.</li></p>

</ul>

<p>
<div class="note"><blockquote><b>NOTE</b><hr>
Generally, you will not need to edit the DNS
database files. However, you might use them to troubleshoot DNS. For
additional information and sample files, see the
C:\Winnt\System32\Dns\Samples directory.
</blockquote></div>
</p>

<p><b>Table 3.3</b> <i>DNS Database</i></p>

<P>
	<TABLE CELLPADDING=5 WIDTH="95%">
	
		<TR>
			<TH>Filename</TH>
			<TH>Description</TH>
		</TR>

		<TR>
			<TD VALIGN="TOP"><i>Domain</i>.dns</TD>
			<TD VALIGN="TOP">The zone database file that maps host names 
to IP addresses for a zone.</TD>
		</TR>

		<TR>
			<TD VALIGN="TOP">z.y.w.x.in-addr.arpa</TD>
			<TD VALIGN="TOP">The reverse lookup file that maps IP addresses 
to host names.</TD>
		</TR>

		<TR>
			<TD VALIGN="TOP">Cache.dns</TD>
			<TD VALIGN="TOP">The cache file that contains the required host 
information for resolving names outside of authoritative domains. The default 
file contains records for all of  the root servers on the Internet.</TD>
		</TR>

		<TR>
			<TD VALIGN="TOP">Root</TD>
			<TD VALIGN="TOP">The root file that controls how the DNS Service 
starts.  In Windows