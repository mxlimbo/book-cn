<HTML>
<HEAD>
<TITLE>Lesson 3: Restoring Data</TITLE>
<link rel="STYLESHEET" type="text/css" href="mmpro.css"><SCRIPT LANGUAGE="JavaScript"><!-- 
function fullSize(sURL){window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}
--></SCRIPT>
</HEAD>
<SCRIPT LANGUAGE="JavaScript">
<!--

function fullSize(sURL){
	window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}

function LibraryHeaderNav(sBackward, sForward, sImgLeftOff, sImgLeftOn, sImgRightOff, sImgRightOn, iH, iW, sImgLeftStyle, sImgRightStyle, sImgRuleStyle, sRuleColor, sRuleSize){
	var tableStr;
	//validate questionable args for defs
	tableStr = "<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 border=0 width=100%>";
	tableStr += "<TR VALIGN=top ALIGN=right>";

	tableStr += "<TD align=right class=" + sImgRuleStyle + ">&nbsp;</TD>";	
	
	tableStr += "<TD width=34 align=right class=" + sImgLeftStyle + ">";
	tableStr += "<A href='" + sBackward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgLeftOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgLeftOff + '\'\"';
	tableStr += " SRC='" + sImgLeftOff + "' vspace=0 hspace=0></a></TD>";
	
	tableStr += "<TD width=34 align=left class=" + sImgRightStyle + ">";
	tableStr += "<A href='" + sForward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgRightOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgRightOff + '\'\"';
	tableStr += " SRC='" + sImgRightOff + "' vspace=0 hspace=0></a></TD></TR>";

	tableStr += "<TR VALIGN=top>";
	tableStr += "<TD height=3 align=center colspan=3 class=" + sImgRuleStyle + ">";
	tableStr += "<HR color=" + sRuleColor + " size=" + sRuleSize + "></TD></TR></TABLE>";
	//alert(tableStr);
	document.write(tableStr);
}

 																						     //purple is: #aa22aa   orange is: #ff9900
LibraryHeaderNav("ch19c.htm", "ch19e.htm", "images/unit_p_a1.gif", "images/unit_p_a2.gif", "images/unit_p_b1.gif", "images/unit_p_b2.gif", 18, 34, "unit01", "unit02", "headerrule", "#aa22aa", "2");
//--></SCRIPT><P>



<A NAME="673"><H1>Lesson 3: Restoring Data</H1></A>

<p>In this lesson, you will learn about restoring data. The ability to restore corrupt 
or lost data is critical to all corporations and is the goal of all backup jobs. To 
ensure that you can successfully restore data, you should follow certain guidelines, such as keeping thorough documentation on all of your backup jobs.</p>

<p><div class="sidebar"><blockquote>
<b>After this lesson, you will be able to</b>

<ul>
<p><li>Restore data, whether an entire volume or a single file.</li></p>
</ul>

<p><b>Estimated lesson time: 30 minutes</b></p>
</blockquote></div></p>

<A NAME="674"><H2>Preparing to Restore Data</H2></A>

<p>To restore data, you must select the backup sets, files, and folders to restore. You can also specify additional settings based on your restore requirements. Backup provides Restore Wizard to help you restore data, or you can restore data without using the wizard.</p>

<p>When critical data is lost, you need to restore the data quickly. Use the following guidelines to help you prepare for restoring data:</p>

<ul>
<p><li>Base your restore strategy on the backup type that you used for the backup. If time is critical when you are restoring data, your restore strategy must ensure that the backup types that you choose for backups expedite the restore process. For example, use normal and differential backups so that you need to restore only the last normal backup and the last differential backup.</li></p>

<p><li>Perform a trial restore periodically to verify that Backup Wizard is backing up your files correctly. A trial restore can uncover hardware problems that don't show up with software verifications. Restore the data to an alternate location, and then compare the restored data to the data on the original hard disk.</li></p>

<p><li>Keep documentation for each backup job. Create and print a detailed backup log for each backup job. A detailed backup log contains a record of all files and folders that were backed up. By using the backup log, you can quickly locate which piece of media contains the files that you need to restore without having to load the catalogs. A <i>catalog</i> is an index of the files and folders from a backup job that Windows 2000 automatically creates and stores with the backup job and on the computer running Backup Wizard.</li></p>

<p><li>Keep a record of multiple backup jobs in a calendar format that shows the days on which you perform the backup jobs. For each job, note the backup type and identify the storage that is used, such as a tape number or the name of the Iomega Zip drive. Then, if you need to restore data, you can easily review several weeks' worth of backup jobs to select which tape to use.</li></p>
</ul>

<A NAME="675"><H2>Selecting Backup Sets, Files, and Folders to Restore</H2></A>

<p>The first step in restoring data is to select the data to restore. You can select individual files and folders, an entire backup job, or a backup set. A <i>backup set</i> is a collection of files or folders from one volume that you back up during a backup job. If you back up two volumes on a hard disk during a backup job, the job has two backup sets. You select the data to restore in the catalog.</p>

<p>To restore data, use Restore Wizard, as follows:</p>

<ol>
<p><li>  In Restore Wizard, expand the media type that contains the data that you want to restore. This can be either tape or file media.</li></p>

<p><li>  Expand the appropriate media set until the data that you want to restore is visible. You can restore a backup set or specific files and folders.</li></p>

<p><li>  Select the data that you want to restore, and then click Next.</li></p>


<p>Restore Wizard displays the settings for the restore.</p>


<p><li>  Do one of the following:</li></p>

	<ul>
	<p><li>Finish the restore process. If you choose to finish the restore job, during the restore, Restore Wizard requests verification for the source of the restore media and then performs the restore. During the restore, Restore Wizard displays status information about the restore.</li></p>
	
	<p><li>Specify advanced restore options.</li></p>
	</ul>
</ol>

<A NAME="676"><H2>Specifying Advanced Restore Settings</H2></A>

<p>The advanced settings in Restore Wizard vary, depending on the type of backup media from which you are restoring, such as a tape device or an Iomega Zip drive. Table 19.3 describes the advanced restore options.</p>

<p><b>Table 19.3</b> <i>Advanced Restore Settings</i></p>
<p>
<table valign="top" cellpadding="5" width="95%">
<tr>
<th>Option</th>
<th>Description</th>
</tr>
<tr>
<td valign="top">Restore Files To</td>
<td valign="top">The target location for the data that you are restoring. The 
 choices are

<p><b>Original Location.</b> Replaces corrupted or lost data.</p>

<p><b>Alternate Location.</b> Restores an older version of a file or 
 does a practice restore.</p>

<p><b>Single Folder.</b> Consolidates the files from a tree structure 
 into a single folder. For example, use this option if you 
 want copies of specific files but don't want to restore the 
 hierarchical structure of the files.</p>

<p>If you select either an alternate location or a single 
 directory, you must provide the path.</p></td>
</tr>
<tr>
<td valign="top">When Restoring Files That Already Exist (Click Options on the Tools menu to access these options.)</td>
<td valign="top">Whether you want to overwrite existing files. The choices are 
<p><b>Do Not Replace The File On My Disk (Recommended).</b> Prevents accidental overwriting of existing data. (This is the default.)</p>

<p><b>Replace The File On Disk Only If It Is Older Than The Backup Copy.</b> Verifies that the most recent copy exists on the computer.</p>

<p><b>Always Replace The File On Disk.</b> Restore Wizard doesn't provide a confirmation message if it encounters a duplicate filename during the restore operation.</p></td>
</tr>
<tr>
<td valign="top">Select The Special Restore Options You Want To Use (Click the Start Restore button to access these options.)</td>
<td valign="top">Whether you want to restore security or special system files. The choices are

<p><b>Restore Security.</b> Applies the original permissions to files that you are restoring to a Microsoft Windows 2000 File System (NTFS) volume. Security settings include access permissions, audit entries, and ownership. This option is available only if you have backed up data from an NTFS volume and are restoring to an NTFS volume.</p>

<p><b>Restore Removable Storage Database.</b> Restores the configuration database for removable storage devices and the media pool settings. The database is located in <i>systemroot</i>\system32\ remotestorage.</p>

<p><b>Restore Junction Points, Not The Folders And File Data They Reference.</b> Restores junction points on your hard disk as well as the data that the junction points refer to. If you have any mounted drives, and you want to restore the data that mounted drives point to, select this check box. If you don't select this check box, the junction point will be restored but the data your junction point refers to might not be accessible.</p>

<p><b>When Restoring Replicated Data Sets, Make The Restored Data As The Primary Data For All Replicas.</b> Restores the data for all replicated data sets.</p></td>
</tr>
</table>
</p>

<p>After you have finished using Restore Wizard, Windows Backup does the 
following:</p>

<ul>
<p><li>Prompts you to verify your selection of the source media to use to restore data. After the verification, Windows Backup starts the restore process.</li></p>

<p><li>Displays status information about the restore process. As with a backup process, you can choose to view the report (restore log) of the restore. It contains information about the restore, such as the number of files that have been restored and the duration of the restore process.</li></p>
</ul>

<p>
<img src="images/practic.JPG" width=92 height=74 border="0">
</p>

<A NAME="677"><H2>Practice: Restoring Files</H2></A>

<p>In this practice, you will restore a file that you backed up in Exercise 1 in <a href="ch19c.htm#648">Lesson 2</a> of this chapter.</p>

<p><div class="caution"><blockquote><b>IMPORTANT</b><HR>To complete this practice, you must have completed the practice in the previous lesson, or you must have some files that you have backed up using Ntbackup that you can restore.</blockquote></div></p>

<p><li> <b>To restore files from a previous backup job</b></li></p>

<ol>
<p><li>  In Windows Backup, on the Welcome tab, click Restore Wizard.</li></p>


<p>Restore Wizard starts and displays the Welcome To The Restore Wizard page.</p>


<p><li>  Click Next to continue creating the restore job.</li></p>


<p>Restore Wizard displays the What To Restore page, prompting you to 
select the backup media from which you want to restore files.</p>


<p><li>  In the What To Restore box, expand the File node that you created.</li></p>


<p>Notice that the Boot.ini file for PRO1 and Backup File 2 For PRO1 are listed.</p>


<p><li>  Expand the Boot.ini file for PRO1.</li></p>


<p>Notice that drive C appears under the Boot.ini file for PRO1.</p>


<p><li>  Expand drive C.</li></p>


<p>The Backup File Name dialog box appears.</p>


<p><li>  In the Catalog Backup File box, make sure it says C:\Backup1.bkf and then click OK.</li></p>


<p>The Operation Status dialog box appears and then closes.</p>


<p><li>  Select drive C and then click Next.</li></p>


<p>Restore Wizard displays the Completing The Restore Wizard page.</p>


<p><li>  Click Advanced.</li></p>


<p>Restore Wizard displays the Where To Restore page.</p>


<p><li>  In the Restore Files To list, select Alternate Location.</li></p>


<p>Restore Wizard displays the Alternate Location box.</p>


<p><li>  In the Alternate Location box, type <b>C:\Restored data</b> and then click Next.</li></p>


<p>Restore Wizard displays the How To Restore page, prompting you to specify how to process duplicate files during the restore job.</p>

<p><li>  Make sure that Do Not Replace The File On My Disk (Recommended) is selected, and then click Next.</li></p>

<p>Restore Wizard displays the Advanced Restore Options page, prompting you to select security options for the restore job.</p>

<p><li>  Make sure that all check boxes are cleared and then click Next.</li></p>


<p>Restore Wizard displays the Completing The Restore Wizard page, displaying a summary of the restore options that you selected.</p>


<p><li>  Click Finish to begin the restore process.</li></p>


<p>Windows Backup displays the Enter Backup File Name dialog box, prompting you to supply or verify the name of the backup file that contains the folders and files to be restored.</p>


<p><li>  Make sure that the file Backup1.bkf is entered in the Restore From Backup File box, and then click OK.</li></p>


<p>Windows Backup displays the Selection Information dialog box, indicating the estimated amount of data for, and the time to complete, the restore job. (This dialog box might appear briefly, since you are restoring a single file.)</p>

<p>Then Windows Backup displays the Restore Progress dialog box, providing the status of the restore operation, statistics on estimated and actual amount of data that is being processed, the time that has elapsed, and the estimated time that remains for the restore operation.</p>
</ol>

<p><li> <b>To view the restore report</b></li></p>

<ol>
<p><li>  When the Restore Progress dialog box indicates that the restore is complete, click Report.</li></p>

<p>Notepad starts, displaying the report. Notice that the details about the restore operation are appended to the previous backup log. This provides a centralized location to view all status information for backup and restore operations.</p>

<p><li>  Examine the report, and then exit Notepad.</li></p>

<p><li>  In the Restore Progress dialog box, click Close.</li></p>

<p>The Backup window remains displayed with the Welcome tab active.</p>
</ol>

<p><li> <b>To verify that the data was restored</b></li></p>

<ol>
<p><li>  Start Windows Explorer and expand drive C.</li></p>

<p>Does the Restored Data folder exist?</p>

<p><a href="chaaa.htm#976">Answer</a></p>

<p>What are the contents of the Restored Data folder?</p>
</ol>

<p>
<div class="note"><blockquote><b>NOTE</b><hr>
If the Restored Data folder appears to be blank, ensure that the Restored Data folder is selected, and on the Tools menu click Folder Options. On the View tab of the Folder Options dialog box, remove the check mark in front of Hide Protected Operating System Files (Recommended), and when you are prompted to confirm this action, click Yes. Click Apply and then verify that Boot (or Boot.ini) appears in the Restored Folder.
</blockquote></div>
</p>

<ol>
<p><li value="2">  Close Windows Explorer, and close the Backup window.</li></p>
</ol>

<A NAME="678"><H2>Lesson Summary</H2></A>

<p>In this lesson, you learned that Backup provides Restore Wizard to help you restore data, or you can restore data without using the wizard. The first step in restoring data is to select the data to restore. You can select individual files and folders, an entire backup job, or a backup set. The advanced settings in Restore Wizard vary, depending on the type of backup media from which you are restoring. In the practice section, you restored the data that you backed up in Exercise 1 of <a href="ch19c.htm#648">Lesson 2</a> in this chapter.</p>

</BODY>
</HTML>






