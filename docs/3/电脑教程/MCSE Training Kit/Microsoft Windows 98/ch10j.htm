<HTML>
<HEAD>
<LINK REL=StyleSheet HREF="basicIE4.css" TYPE="text/css">
<TITLE>The Windows 98 Boot Process</TITLE>

<SCRIPT LANGUAGE="JavaScript"><!-- 
function fullSize(sURL){window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}
--></SCRIPT>
</HEAD>

<A NAME="440"><H2>The Windows&#160;98 Boot Process</H2></A><P>
The Windows&#160;98 boot process can be broken down into the following distinct stages:
<P>
<UL>
<LI>BIOS Bootstrap
<P>
<LI>Master Boot Record (MBR) and Boot Sector
<P>
<LI>Real Mode Boot
<P>
<LI>Real Mode Configuration
<P>
<LI>Protected Mode Load
</UL>
<P>
<A NAME="441"><H3>BIOS Bootstrap</H3></A><P>
This phase actually occurs pre-boot, and is handled completely by the computer's BIOS. In this phase, the BIOS:
<P>
<UL>
<LI>Performs the Power On Self Test (POST).
<P>
<LI>Identifies and configures Plug and Play devices.
<P>
<LI>Locates a bootable partition.
</UL>
<P>
<A NAME="442"><H3>Master Boot Record (MBR) and Boot Sector</H3></A><P>
The Master Boot Record (MBR) and the partition table of the bootable drive load and the MBR program executes. The MBR program determines the location of the bootable partition on the hard disk, and then passes control to the boot sector in that partition. The boot sector contains the disk boot program and a table of disk characteristics. The disk boot program loads Io.sys into RAM.
<P>
<A NAME="443"><H3>Real Mode Boot</H3></A><P>
The Windows&#160;98 boot process begins when <I>Io.sys</I> loads into RAM and performs the following functions:
<P>
<OL>
<LI>	Loads a minimal FAT file system in order to load additional operating system components.
<P>
<LI>	Reads Msdos.sys for boot configuration parameters.
<P>
<LI>	Loads Drvspace.bin, and checks for Drvspace.ini, then unloads Drvspace.bin if Drivspace.ini is not present. Drvspace.bin, which supports compressed drives, remains resident if Drvspace.ini exists.
<P>
<LI>	Prompts you to select a hardware profile from the menu, if you have established multiple hardware profiles and it cannot determine which profile to use.
<P>
<LI>	Loads and displays the bitmap stored in Logo.sys, if it exists. If Logo.sys does not exist, Io.sys has a copy of the default Windows&#160;98 image. If you press the Esc key, the image is disabled.
<P>
<LI>	Verifies that System.dat is a recognizable registry file.
<P>
<LI>	Loads System.dat if present and valid; if not, the Windows&#160;98 startup menu is displayed with a warning instructing the user to run Scanreg from the command prompt.
<P>
<LI>	Initializes double-buffering for SCSI controllers if necessary.
<P>
<LI>	Selects a hardware profile from the registry based on detected hardware, or on the profile you selected previously from the menu.
<P>
<LI>	Reads and processes Config.sys.
</OL>
<P>
<A NAME="444"><H3>Real Mode Configuration</H3></A><P>
Although Windows&#160;98 does not require Config.sys in order to boot, Io.sys processes that file if it exists. Even if Config.sys is not present, Windows&#160;98 automatically loads Himem.sys, Ifshlp.sys, and sets several environment variables. Io.sys then processes Autoexec.bat which, like Config.sys, is no longer mandatory but provides backwards compatibility with older applications. You only need to supply a Config.sys file if you wish to override or add to the default settings.
<P>
<HR>
<BLOCKQUOTE>
<B>Note</B>
<P>
For more information about the Config.sys settings incorporated into Io.sys, refer to Appendix F, &quot;<A HREF="chaf.htm#925">Io.sys Settings</A>.&quot;
</BLOCKQUOTE>
<HR>
<P>
<A NAME="445"><H3>Protected Mode Load</H3></A><P>
After Autoexec.bat is run, <I>Win.com</I> executes. Win.com loads Vmm32.vxd and other virtual device drivers according to the registry and System.ini. Win.com then switches the processor into protected mode and initializes the virtual device drivers. Next, the core Windows Kernel, GDI, and user libraries are loaded, along with the Explorer shell and network support. The final step in the boot process is to run the programs in the Startup group, and those referred to in:
<P>
<PRE>HKEY_LOCAL_MACHINE\Software\Microsoft\Windows\CurrentVersion\
RunOnce.</PRE>
<P>
The list of programs stored in this registry key is then deleted, and the boot process is complete.
<P>
</BODY>
</HTML>





