<html>
<head>
<title>Appendix B -- Installing and Configuring the DHCP Service</title>
<link rel="STYLESHEET" type="text/css" href="mmads.css">

<SCRIPT LANGUAGE="JavaScript"><!-- 
function fullSize(sURL){window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}
--></SCRIPT>
</head>
<SCRIPT LANGUAGE="JavaScript">
<!--

function fullSize(sURL){
	window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}

function LibraryHeaderNav(sBackward, sForward, sImgLeftOff, sImgLeftOn, sImgRightOff, sImgRightOn, iH, iW, sImgLeftStyle, sImgRightStyle, sImgRuleStyle, sRuleColor, sRuleSize){
	var tableStr;
	//validate questionable args for defs
	tableStr = "<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 border=0 width=100%>";
	tableStr += "<TR VALIGN=top ALIGN=right>";

	tableStr += "<TD align=right class=" + sImgRuleStyle + ">&nbsp;</TD>";	
	
	tableStr += "<TD width=34 align=right class=" + sImgLeftStyle + ">";
	tableStr += "<A href='" + sBackward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgLeftOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgLeftOff + '\'\"';
	tableStr += " SRC='" + sImgLeftOff + "' vspace=0 hspace=0></a></TD>";
	
	tableStr += "<TD width=34 align=left class=" + sImgRightStyle + ">";
	tableStr += "<A href='" + sForward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgRightOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgRightOff + '\'\"';
	tableStr += " SRC='" + sImgRightOff + "' vspace=0 hspace=0></a></TD></TR>";

	tableStr += "<TR VALIGN=top>";
	tableStr += "<TD height=3 align=center colspan=3 class=" + sImgRuleStyle + ">";
	tableStr += "<HR color=" + sRuleColor + " size=" + sRuleSize + "></TD></TR></TABLE>";
	//alert(tableStr);
	document.write(tableStr);
}

 																						     //purple is: #aa22aa   orange is: #ff9900
LibraryHeaderNav("chaaa.htm", "glossa.htm", "images/unit_p_a1.gif", "images/unit_p_a2.gif", "images/unit_p_b1.gif", "images/unit_p_b2.gif", 18, 34, "unit01", "unit02", "headerrule", "#aa22aa", "2");
//--></SCRIPT><P>

<A NAME="959"><h1>Appendix B -- Installing and Configuring the DHCP Service</h1></A>
<p>Using Remote Installation Services (RIS) requires the installation and configuration of the Dynamic Host Configuration Protocol (DHCP) service on either individual servers or on the same server. To install and configure DHCP, complete the following procedures.</p>

<p><div class="note"><blockquote><b>NOTE</b><hr>
This appendix contains only basic instructions for installing and configuring the DHCP service. Installing and configuring DHCP is beyond the scope of this course. For detailed instruction and practice, refer to the <i>MCSE Training Kit&#8212;Microsoft Windows 2000 Network Infrastructure Administration.</i></blockquote></div>
</p>

<A NAME="960"><h2>Installing the DHCP Service</h2></A>
<p>The first step in implementing DHCP is to install the DHCP service. Before you install the DHCP service, you should specify a static Internet Protocol (IP) 
address, subnet mask, and default gateway address for the network adapter bound to Transmission Control Protocol/Internet Protocol (TCP/IP) in the computer designated as the DHCP server.</p>

<p><li><b>To install the DHCP service</b></li></p>

<ol>
<p><li>Click Start, point to Settings, open Control Panel, open Add/Remove 
Programs, then click Add/Remove Windows Components.</li></p>

<p><li>In the Windows Components Wizard dialog box, select Networking Services, then click Details.</li></p>

<p><li>In the Networking Services dialog box, in the Subcomponents Of Networking Services list, click to place a check mark in the box to the left of Dynamic Host Configuration Protocol (DHCP), then click OK.</li></p>

<p><li>Click Next to install the required components.</li></p>

<p><li>Insert the Windows 2000 Server CD-ROM when prompted.</li></p>

<p><li>On the Completing The Windows Components Wizard page, click Finish.</li></p>

<p><li>Close the Add/Remove Programs dialog box.</li></p>

<p><li>Close Control Panel and remove the Windows 2000 Server CD-ROM from the drive.</li></p>
</ol>

<p><div class="note"><blockquote><b>NOTE</b><hr>
The DHCP service starts automatically during installation and must be running to communicate with DHCP clients.</blockquote></div></p>

<A NAME="961"><h2>Configuring the DHCP Service</h2></A>
<p>The basic tasks for configuring the DHCP service are creating a DHCP scope, configuring a DHCP scope, and configuring a client reservation.</p>

<A NAME="962"><h3>Creating a DHCP Scope</h3></A>
<p>Before a DHCP server can lease an address to DHCP clients, you must create a scope. A <i>scope</i> is a pool of valid IP addresses available for lease to DHCP 
clients. After you have installed the DHCP service and it is running, the next 
step is to create a scope. </p>

<p>When creating a DHCP scope, consider the following points:</p>

<ul>
<p><li> You must create at least one scope for every DHCP server.</li></p>

<p><li>You must exclude static IP addresses from the scope.</li></p>

<p><li>You can create multiple scopes on a DHCP server to centralize administration and to assign IP addresses specific to a subnet. You can assign only one scope to a specific subnet.</li></p>

<p><li>DHCP servers do not share scope information. As a result, when you create scopes on multiple DHCP servers, ensure that the same IP addresses do not exist in more than one scope to prevent duplicate IP addressing.</li></p>
</ul>

<p><li><b> To create a DHCP scope</b></li></p>

<ol>
<p><li>Click Start, point to Programs, point to Administrative Tools, then click DHCP.</li></p>

<p><li>In the DHCP console, right-click the entry for the DHCP server, then click New Scope to start the New Scope Wizard.</li></p>

<p><li>On the Welcome To The New Scope Wizard page, click Next.</li></p>

<p><li>On the Scope Name page, specify a name for the scope in the Name box. You can also specify a description for the scope in the Description box. Click Next.</li></p>

<p><li>On the IP Address Range page, specify the range of IP addresses included in the scope. You can also specify the subnet mask by length or as an IP address. Click Next.</li></p>

<p><li>On the Add Exclusions page, specify any addresses to be excluded from the scope, then click Next.</li></p>

</ol>
<p><div class="note"><blockquote><b>NOTE</b><hr>
An exclusion is an address or range of addresses that the server should not distribute. You can exclude multiple ranges of addresses.</blockquote></div></p>
<ol>

<p><li value="7">On the Lease Duration page, specify how long a client can use an IP address from this scope as issued by the DHCP server, then click Next.</li></p>

<p><li>On the Configure DHCP Options page, specify if you want to configure 
common DHCP options now or later, then click Next.</li></p>

<p><li>If you specified that you want to configure common DHCP options later, skip to Step 12.</li></p>

<p><li>If you specified that you want to configure common DHCP options now:</li></p>

<ul>
<p><li>On the Router (Default Gateway) page, specify the routers, or default 
gateways, to be distributed by this scope, then click Next.</li></p>

<p><li>On the Domain Name And DNS Servers page, specify the parent domain name you want client computers to use for Domain Name System (DNS) name resolution. If you want to configure scope clients to use DNS servers on your network, enter the server name and IP addresses for those servers. Click Next.</li></p>

<p><li>On the WINS Servers page, specify the server name and IP address to 
enable clients to query Windows Internet Name Service (WINS) before they use broadcasts to register and resolve NetBIOS names, then click Next.</li></p>
</ul>

<p><li>On the Activate Scope page, specify if you want to activate the scope now or later, then click Next.</li></p>

</ol>
<p><div class="note"><blockquote><b>NOTE</b><hr>
Once you have created the scope, you must activate it to make it available for lease assignments.</blockquote></div></p>
<ol>

<p><li value="12">On the Completing The New Scope Wizard page, click Finish.</li></p>
</ol>

<p><div class="warning"><blockquote><b>IMPORTANT</b><hr>
You must delete and recreate a scope to specify a new subnet mask or range of IP addresses.</blockquote></div></p>


<A NAME="963"><h3>Configuring a DHCP Scope</h3></A>
<p>Once you have created the DHCP scope, you can configure options for DHCP clients. There are two main levels of scope options&#8212;global and scope.</p>

<b>Global Options</b>

<p>Global options are available to all DHCP clients. Use global options when all 
clients on all subnets require the same configuration information. For example, you might want all clients configured to use the same WINS server. Global 
options are always used, unless scope or client options are configured.</p>

<p><li><b> To configure DHCP global options</b></li></p>

<ol>
<p><li>In the DHCP console, right-click the Server Options icon, then click 
Configure Options.</li></p>

<p><li>In the Server Options dialog box, in the Available Options list, select the DHCP option to configure, enter the appropriate value in the Data Entry box, then click OK.</li></p>
</ol>

<b>Scope Options</b>

<p>Scope options are available only to clients who lease an address from the scope. For example, if you have a different scope for each subnet, you can define a unique default gateway address for each subnet. Scope options override global options.</p>

<p><li><b> To configure DHCP scope options</b></li></p>

<ol>
<p><li>In the DHCP console, expand the scope entry if necessary.</li></p>

<p><li>Right-click the Scope Options icon, then click Configure Options.</li></p>

<p><li>In the Scope Options dialog box, in the Available Options list, select the DHCP option to configure, enter the appropriate value in the Data Entry box, then click OK.</li></p>
</ol>

<A NAME="964"><h3>Configuring a Client Reservation</h3></A>
<p>For some DHCP clients, it is important that the same IP address be reassigned when their lease expires. For these clients, you can set up a client reservation, which configures the DHCP service so that it always assigns the same IP address to them. For example, if the server known as SRV187 is on a network that contains clients that are not WINS-enabled, SRV187 should be set up with a client reservation. Setting up the reservation ensures that SRV187 always leases the same IP address from the DHCP server. The clients that are on that network and are not WINS-enabled must use the LMHOSTS file to resolve NetBIOS computer names. Because the LMHOSTS file is a static file containing NetBIOS name-to-IP-address mappings, name resolution using the LMHOSTS file will fail if the IP address of SRV187 changes.</p>

<p><li> <b>To configure a client reservation</b></li></p>

<ol>
<p><li>In the DHCP console, open the scope entry, right-click Reservations, then click New Reservation.</li></p>

<p><li>In the New Reservation dialog box, in the Reservation Name box, type a name to identify the client. The DHCP console uses a name associated with the hardware address of the network adapter card to identify a client.</li></p>

<p><li>In the IP Address box, type the IP address that you want to reserve for a 
specific client.</li></p>

<p><li>In the MAC Address box, type the hardware address (media access control address) of the host's network adapter card. Do not use dashes in the 
hardware address.</li></p>

</ol>
<p><div class="warning"><blockquote><b>IMPORTANT</b><hr>
If you type the value for the MAC Address incorrectly, it will not match the value sent by the DHCP client, and the DHCP service will assign the client any available IP address instead of the IP address reserved for that client.</blockquote></div></p>
<ol>

<p><li value="5">In the Description box, type an optional description for the client.</li></p>

<p><li>Under Supported Types, click to specify which method the client uses:</li></p>

<ul>
<p><li><b>Both.</b> Specifies that either DHCP or BOOTP clients are allowed for this client reservation.</li></p>

<p><li><b>DHCP Only.</b> Specifies that only DHCP clients are allowed for this client reservation.</li></p>

<p><li><b>BOOTP Only.</b> Specifies that only BOOTP clients are allowed for this client reservation.</li></p>
</ul>
<p><li>To add the reservation to the database, click Add.</li></p>
</ol>
</body>
</html>







