<html>
<head>
<title>Lesson 3: Troubleshooting Replication</title>
<link rel="STYLESHEET" type="text/css" href="mmads.css">

<SCRIPT LANGUAGE="JavaScript"><!-- 
function fullSize(sURL){window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}
--></SCRIPT>
</head>
<SCRIPT LANGUAGE="JavaScript">
<!--

function fullSize(sURL){
	window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}

function LibraryHeaderNav(sBackward, sForward, sImgLeftOff, sImgLeftOn, sImgRightOff, sImgRightOn, iH, iW, sImgLeftStyle, sImgRightStyle, sImgRuleStyle, sRuleColor, sRuleSize){
	var tableStr;
	//validate questionable args for defs
	tableStr = "<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 border=0 width=100%>";
	tableStr += "<TR VALIGN=top ALIGN=right>";

	tableStr += "<TD align=right class=" + sImgRuleStyle + ">&nbsp;</TD>";	
	
	tableStr += "<TD width=34 align=right class=" + sImgLeftStyle + ">";
	tableStr += "<A href='" + sBackward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgLeftOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgLeftOff + '\'\"';
	tableStr += " SRC='" + sImgLeftOff + "' vspace=0 hspace=0></a></TD>";
	
	tableStr += "<TD width=34 align=left class=" + sImgRightStyle + ">";
	tableStr += "<A href='" + sForward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgRightOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgRightOff + '\'\"';
	tableStr += " SRC='" + sImgRightOff + "' vspace=0 hspace=0></a></TD></TR>";

	tableStr += "<TR VALIGN=top>";
	tableStr += "<TD height=3 align=center colspan=3 class=" + sImgRuleStyle + ">";
	tableStr += "<HR color=" + sRuleColor + " size=" + sRuleSize + "></TD></TR></TABLE>";
	//alert(tableStr);
	document.write(tableStr);
}

 																						     //purple is: #aa22aa   orange is: #ff9900
LibraryHeaderNav("ch06c.htm", "ch06e.htm", "images/unit_p_a1.gif", "images/unit_p_a2.gif", "images/unit_p_b1.gif", "images/unit_p_b2.gif", 18, 34, "unit01", "unit02", "headerrule", "#aa22aa", "2");
//--></SCRIPT><P>

<A NAME="277"><h1>Lesson 3: Troubleshooting Replication</h1></A>
<p>This lesson describes problems you may encounter that relate to replication. Most problems that can be remedied with Active Directory Sites and Services involve poor directory information. This can mean that</p>

<ul>
<p><li> New directory information is not distributed in a timely fashion</li></p>
<p><li> Service requests are not handled in a timely fashion</li></p>
</ul>

<p>This lesson also describes how to check replication topology.</p>

<p>
<div class="sidebar"><blockquote>
<b>After this lesson, you will be able to</b>

<ul>
<p><li> Troubleshoot replication</li></p>
</ul>

<p><b>Estimated lesson time: 5 minutes</b></p>
</blockquote></div>
</p>

<A NAME="278"><h2>Troubleshooting Replication</h2></A>
<p>Ineffective replication can result in declining Active Directory performance, such as new users not being recognized. Ineffective replication or request handling primarily results in out-of-date directory information or unavailable domain controllers. Each problem (cause) has one or more possible solutions. Replication troubleshooting scenarios are discussed in Table 6.1.</p>

<p><b>Table 6.1</b> <i>Replication Troubleshooting Scenarios</i></p>

<p>
<table valign="top" cellpadding="5" width="95%">
<tr><th colspan="2">Symptom: Replication of directory information has stopped</th></tr>
<tr><th>Cause</th><th>Solution</th></tr>
<tr><td valign="top">The sites containing the clients and domain controllers are not connected by site links to domain controllers in other sites in the network. This results in a failure to exchange directory information between sites.</td><td valign="top">Create a site link from the current site to a site that is connected to the rest of the sites in the network.</td></tr>

<tr><th colspan="2"><b>Symptom: Replication has slowed but not stopped</b></td></tr>
<tr><th>Cause</th><th>Solution</th></tr>
<tr><td valign="top">Although all sites are connected by site  links, your inter-site replication structure is not as complete as it might be. Directory information is replicated to all domain controllers if they are all connected by site links, but this is not optimal. If there are site links but no site link bridges, changes made to domain controllers may take an unacceptably long time to be distributed to other domain controllers that are not closely linked.</td><td valign="top">Make sure Active Directory has been configured properly. To span the multiple site links that need more efficient replication, consider creating a site link bridge or consider bridging all site links.</td></tr>

<tr><td valign="top">The current network resources are insufficient to handle the amount of replication 
traffic. This can affect services unrelated to Active Directory, because the exchange of directory 
information is consuming an inordinate amount of network resources.</td>
<td valign="top">Increase the proportion of available network resources relative to directory traffic. 
<br>
Decrease the frequency of the replication schedule. 
<br>Configure site link costs. 
<br>To achieve network connections with 
more bandwidth, create site links or site link bridges.</td>
</tr> 

<tr>
<td valign="top">Directory information changed at domain controllers in one site is not being updated in domain 
controllers in other sites in a timely fashion because inter-site replication is scheduled too 
infrequently.</td>
<td valign="top">Increase the frequency of replication. If the replication is occurring over a site link bridge, 
check which site link is restricting replication. Increase the time range during which replication can 
occur or the frequency of replication within the time frame for that site link.</td>
</tr>

<tr>
<td valign="top">Clients are having to request authentication, information, services from a domain controller with 
a low-bandwidth connection. This may result in clients receiving a slow response for authentication, 
directory information, or other services.
</td>
<td valign="top">Check if there is a site that will better serve and the client's subnet. If a client who is experiencing 
poor service is isolated from domain controllers, consider creating another site with its own domain 
controller that will include the client. 
<br>Install a connection with more bandwidth.</td>
</tr>
</table>
</p>



<A NAME="279"><h2>Checking Replication Topology</h2></A>
<p>Active Directory runs a process that considers the cost of inter-site connections, checks if any previously available domain controllers are no longer available, checks if new domain controllers have been added, and then uses this information to add or remove connection objects to create an efficient replication topology. This process does not affect manually created connection objects.</p>

<p><li><b> To check the replication topology</b></li></p>

<ol>

<p><li> Click Start, point to Programs, point to Administrative Tools, then click Active Directory Sites And Services.</li></p>

<p><li> In the AD Sites and Services console tree, double-click the server that you want to use to check replication topology.</li></p>

<p><li> Right-click NTDS Settings, point to All Tasks, and then click Check Replication Topology.</li></p>
</ol>

<A NAME="280"><h2>Lesson Summary</h2></A>
<p>In this lesson you examined some replication problems you may encounter and possible solutions to these problems.</p>

</BODY>
</HTML>







