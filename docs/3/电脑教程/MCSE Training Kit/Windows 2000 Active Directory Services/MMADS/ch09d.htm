<html>
<head>
<title>Lesson 3: Assigning Special Permissions</title>
<link rel="STYLESHEET" type="text/css" href="mmads.css">

<SCRIPT LANGUAGE="JavaScript"><!-- 
function fullSize(sURL){window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}
--></SCRIPT>
</head>
<SCRIPT LANGUAGE="JavaScript">
<!--

function fullSize(sURL){
	window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}

function LibraryHeaderNav(sBackward, sForward, sImgLeftOff, sImgLeftOn, sImgRightOff, sImgRightOn, iH, iW, sImgLeftStyle, sImgRightStyle, sImgRuleStyle, sRuleColor, sRuleSize){
	var tableStr;
	//validate questionable args for defs
	tableStr = "<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 border=0 width=100%>";
	tableStr += "<TR VALIGN=top ALIGN=right>";

	tableStr += "<TD align=right class=" + sImgRuleStyle + ">&nbsp;</TD>";	
	
	tableStr += "<TD width=34 align=right class=" + sImgLeftStyle + ">";
	tableStr += "<A href='" + sBackward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgLeftOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgLeftOff + '\'\"';
	tableStr += " SRC='" + sImgLeftOff + "' vspace=0 hspace=0></a></TD>";
	
	tableStr += "<TD width=34 align=left class=" + sImgRightStyle + ">";
	tableStr += "<A href='" + sForward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgRightOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgRightOff + '\'\"';
	tableStr += " SRC='" + sImgRightOff + "' vspace=0 hspace=0></a></TD></TR>";

	tableStr += "<TR VALIGN=top>";
	tableStr += "<TD height=3 align=center colspan=3 class=" + sImgRuleStyle + ">";
	tableStr += "<HR color=" + sRuleColor + " size=" + sRuleSize + "></TD></TR></TABLE>";
	//alert(tableStr);
	document.write(tableStr);
}

 																						     //purple is: #aa22aa   orange is: #ff9900
LibraryHeaderNav("ch09c.htm", "ch09e.htm", "images/unit_p_a1.gif", "images/unit_p_a2.gif", "images/unit_p_b1.gif", "images/unit_p_b2.gif", 18, 34, "unit01", "unit02", "headerrule", "#aa22aa", "2");
//--></SCRIPT><P>

<A NAME="438"><h1>Lesson 3: Assigning Special Permissions</h1></A>
<p>The standard NTFS permissions generally provide all of the access control that you need to secure your resources. However, there are instances in which the standard NTFS permissions do not provide the specific level of access that you may want to assign to users. To create a specific level of access, you can assign NTFS special permissions. This lesson introduces the NTFS special permissions. It then outlines the requirements and procedures for taking ownership of a folder or file.</p>

<p>
<div class="sidebar"><blockquote>
<b>After this lesson, you will be able to</b>

<ul>
<p><li> Define special permissions</li></p>

<p><li> Give users the ability to change permissions on files or folders</li></p>

<p><li> Give users the ability to take ownership of files and folders</li></p>

<p><li> Explain the concept of taking ownership of a file or folder</li></p>

<p><li> Take ownership of a file or folder</li></p>
</ul>

<p><b>Estimated lesson time: 20 minutes</b></p>
</blockquote></div>
</p>

<A NAME="439"><h2>Special Permissions</h2></A>
<p>Special permissions provide an additional level of access to assign to users. Table 9.8 lists the special permissions that can be assigned to files and folders.</p>

<p><b>Table 9.8</b> <i>Special File and Folder Permissions</i></p>

<p><table cellpadding=5 width="95%">
<tr><th>Special Permission</th>
<th>Function</th></tr>

<tr><td valign="top">Traverse Folder/Execute File</td>
<td valign="top">Traverse Folder allows or denies moving through folders that the user does not have permission to access, to reach files or folders that the user does have permission to access (applies to folders only). Traverse Folder takes effect only when the group or user is not granted the Bypass Traverse Checking user right in group policy. (By default, the Everyone group is given the Bypass Traverse Checking user right.) Setting the Traverse Folder permission on a folder does not automatically set the Execute File permission on all files within that folder. Execute File allows or denies running program files (applies to files only).</td></tr>

<tr><td valign="top">List Folder/Read Data</td>
<td valign="top">List Folder allows or denies viewing file names and subfolder names within the folder (applies to folders only). Read Data allows or denies viewing data in files (applies to files only).</td></tr>

<tr><td valign="top">Read Attributes</td>
<td valign="top">Allows or denies viewing the attributes of a file or folder, such as read-only and hidden. Attributes are defined by NTFS.</td></tr>

<tr><td valign="top">Read Extended Attributes</td>
<td valign="top">Allows or denies viewing the extended attributes of a file or folder. Extended attributes are defined by programs and may vary.</td></tr>

<tr><td valign="top">Create Files/Write Data</td>
<td valign="top">Create Files allows or denies creating files within the folder (applies to folders only). Write Data allows or denies making changes to the file and overwriting 
existing content (applies to files only).</td></tr>

<tr><td valign="top">Create Folders/Append Data</td>
<td valign="top">Create Folders allows or denies creating folders within a folder (applies to folders only). Append Data allows or denies making changes to the end of the file but not changing, deleting, or overwriting existing data (applies to files only).</td></tr>

<tr><td valign="top">Write Attributes</td>
<td valign="top">Allows or denies changing the attributes of a file or folder, such as read-only or hidden. Attributes are defined by NTFS.</td></tr>

<tr><td valign="top">Write Extended Attributes</td>
<td valign="top">Allows or denies changing the extended attributes of a file or folder. Extended attributes are defined by programs and may vary.</td></tr>

<tr><td valign="top">Delete Subfolders and Files</td>
<td valign="top">Allows or denies deleting subfolders and files, even if the Delete permission has not been granted on the subfolder or file.</td></tr>

<tr><td valign="top">Delete</td>
<td valign="top">Allows or denies deleting the file or folder. If you don't have Delete permission on a file or folder, you can still delete it if you have been granted the Delete Subfolders and Files permission on the parent folder.</td></tr>

<tr><td valign="top">Read Permissions</td>
<td valign="top">Allows or denies reading permissions for the file or folder, such as Full Control, Read, and Write.</td></tr>

<tr><td valign="top">Change Permissions</td>
<td valign="top">Allows or denies changing permissions for the file or folder, such as Full Control, Read, and Write.</td></tr>

<tr><td valign="top">Take Ownership</td>
<td valign="top">Allows or denies taking ownership of the file or folder. The owner of a file or folder can always change permissions on it, regardless of any existing permissions that protect the file or folder.</td></tr>

<tr><td valign="top">Synchronize</td>
<td valign="top">Allows or denies different threads to wait on the handle for the file or folder and synchronize with another thread that may signal it. This permission applies only to multithreaded, multiprocess programs.</td></tr>
</table></p>

<p>Special permissions are set on the Permission Entry For dialog box for the file 
or folder. This dialog box is accessed by selecting Advanced on the Security tab of the Properties dialog box for the file or folder, and then selecting View/Edit for a Permission Entry on the Access Control Setting For dialog box for the file or folder.</p>

<p>Each of the standard file and folder permissions consists of a logical group of special permissions. Table 9.9 lists each standard file or folder permission and specifies which special permissions are associated with the standard permission.</p>

<p><b>Table 9.9</b> <i>	</i></p>

<p><table cellpadding=5 width="95%">
<tr><th>Special Permission</th>
<th>Full Control</th>
<th>Modify</th>
<th>Read &amp; Execute</th>
<th>List Folder Contents</th>
<th>Read</th>
<th>Write</th></tr>

<tr><td valign="top">Traverse Folder/Execute File</td>
<td valign="top">x</td>
<td valign="top">x</td>
<td valign="top">x</td>
<td valign="top">x</td>
<td valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td></tr>

<tr><td valign="top">List Folder/Read Data</td>
<td valign="top">x</td>
<td valign="top">x</td>
<td valign="top">x</td>
<td valign="top">x</td>
<td valign="top">x</td>
<td valign="top">&nbsp;</td></tr>

<tr><td valign="top">Read Attributes</td>
<td valign="top">x</td>
<td valign="top">x</td>
<td valign="top">x</td>
<td valign="top">x</td>
<td valign="top">x</td>
<td valign="top">&nbsp;</td></tr>

<tr><td valign="top">Read Extended Attributes</td>
<td valign="top">x</td>
<td valign="top">x</td>
<td valign="top">x</td>
<td valign="top">x</td>
<td valign="top">x</td>
<td valign="top">&nbsp;</td></tr>

<tr><td valign="top">Create Files/Write Data</td>
<td valign="top">x</td>
<td valign="top">x</td>
<td valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td>
<td valign="top">x</td></tr>

<tr><td valign="top">Create Folders/Append Data</td>
<td valign="top">x</td>
<td valign="top">x</td>
<td valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td>
<td valign="top">x</td></tr>

<tr><td valign="top">Write Attributes</td>
<td valign="top">x</td>
<td valign="top">x</td>
<td valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td>
<td valign="top">x</td></tr>

<tr><td valign="top">Write Extended Attributes</td>
<td valign="top">x</td>
<td valign="top">x</td>
<td valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td>
<td valign="top">x</td></tr>

<tr><td valign="top">Delete Subfolders and Files</td>
<td valign="top">x</td>
<td valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td></tr>

<tr><td valign="top">Delete</td>
<td valign="top">x</td>
<td valign="top">x</td>
<td valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td></tr>

<tr><td valign="top">Read Permissions</td>
<td valign="top">x</td>
<td valign="top">x</td>
<td valign="top">x</td>
<td valign="top">x</td>
<td valign="top">x</td>
<td valign="top">x</td></tr>

<tr><td valign="top">Change Permissions</td>
<td valign="top">x</td>
<td valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td></tr>

<tr><td valign="top">Take Ownership</td>
<td valign="top">x</td>
<td valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td>
<td valign="top">&nbsp;</td></tr>

<tr><td valign="top">Synchronize</td>
<td valign="top">x</td>
<td valign="top">x</td>
<td valign="top">x</td>
<td valign="top">x</td>
<td valign="top">x</td>
<td valign="top">x</td></tr>
</table></p>

<p>
<div class="note"><blockquote><b>NOTE</b><hr>
Although the List Folder Contents and Read &amp; Execute standard permissions appear to have the same special permissions, these special permissions are inherited differently. List Folder Contents is inherited by folders but not files, and it only appears when you view folder permissions. Read &amp; Execute is inherited by both files and folders and is always present when you view file or folder permissions.</blockquote></div>
</p>

<p>When you assign special permissions to folders, you can choose where to apply the permissions down the tree to subfolders and files.</p>

<p>The Change Permissions and Take Ownership special permissions are particularly useful for controlling access to resources.</p>

<A NAME="440"><h3>Change Permissions</h3></A>
<p>Using the Change Permissions special permission, you can give other administrators and users the ability to change permissions for a file or folder without giving them the Full Control permission over the file or folder. In this way, the administrator or user cannot delete or write to the file or folder but can assign permissions to the file or folder.</p>

<p>To give administrators the ability to change permissions, assign Change Permissions to the Administrators group for the file or folder.</p>

<A NAME="441"><h3>Take Ownership</h3></A>
<p>Using the Take Ownership special permission, you can give users or groups the ability to take ownership of files or folders. As an administrator, you can take ownership of a file or folder.</p>

<p>The following rules apply for taking ownership of a file or folder:</p>

<ul>
<p><li> The current owner or any user with Full Control permission can assign the Full Control standard permission or the Take Ownership special permission to another user account or group, allowing the user account or a member of the group to take ownership.</li></p>

<p><li> An administrator can take ownership of a file or folder, regardless of assigned permissions. If an administrator takes ownership, the Administrators group becomes the owner and any member of the Administrators group can change the permissions for the file or folder and assign the Take Ownership permission to another user account or group.</li></p>

<p>For example, if an employee leaves the company, an administrator can take ownership of the employee's files, assign the Take Ownership permission to another employee, and then that employee can take ownership of the former employee's files.</p>
</ul>

<p>
<div class="warning"><blockquote><b>IMPORTANT</b><hr>
You cannot <i>assign</i> anyone ownership of a file or folder. The owner of a file, an administrator, or anyone with Full Control permission can assign Take Ownership permission to a user account or group, allowing that user to take ownership. To become the owner of a file or folder, a user or group member with Take Ownership permission must explicitly take ownership of the file or folder, as explained later in this chapter.</blockquote></div>
</p>

<A NAME="442"><h2>Setting Special Permissions</h2></A>
<p>You can assign the Change Permissions or Take Ownership special permissions to enable users to change permissions and take ownership of files and folders.</p>

<p><li><b>To set Change Permissions or Take Ownership permissions</b></li></p>

<ol>
<p><li> Locate the file or folder for which you want to apply special permissions. Right-click the file or folder, click Properties, then click the Security tab.</li></p>

<p><li> Click Advanced.</li></p>

<p><li> In the Access Control Settings For dialog box (see Figure 9.5) for a file or folder, in the Permissions tab, select the user account or group for which you want to apply special permissions.</li></p>

<p>
<A HREF="javascript:fullSize('09wtk05x.htm')"> <img src="images/09wtk05.JPG" width=404 height=369 border=0 ALT = "Click to view at full size."> </A>
</p><p>
<!-- caption --><b>Figure 9.5</b> <i>Access Control Settings For dialog box for the Program Files folder</i><!-- /caption -->
</p>


<p>On the Access Control Settings For dialog box, you can view the permissions that are applied to the file or folder, the owner, and where the permissions apply.</p>

<p><li> For the Allow Inheritable Permissions From Parent To Propagate To This Object check box:</li></p>

<ul>
<p><li> Check the box to specify that this object will inherit permissions from the parent folder.</li></p>

<p><li> Clear the box to specify that this object will not inherit any permissions from the parent folder.</li></p>
</ul>

<p><li> For the Reset Permissions On All Child Objects And Enable Propagation Of Inheritable Permissions check box:</li></p>

<ul>
<p><li> Check the box to reset any existing permissions on child objects so that the child objects will inherit permissions from the parent object.</li></p>

<p><li> Clear the box to not reset any existing permissions on child objects so that the child objects will not inherit permissions from the parent object.</li></p>
</ul>

<p><li> Click View/Edit to open the Permission Entry For dialog box for the file or folder (see Figure 9.6).</li></p>

<p>
<img src="images/09wtk06.JPG" width=367 height=468 border="0">
</p><p>
<!-- caption --><b>Figure 9.6</b> <i>Permission Entry For dialog box for the Program Files folder</i><!-- /caption -->
</p>


</ol>

<p>The options in the Permission Entry For dialog box are described in Table 9.10.</p>

<p><b>Table 9.10</b> <i>Options in the Permission Entry For Dialog Box</i></p>

<p><table cellpadding=5 width="95%">
<tr><th>Option</th>
<th>Description</th></tr>

<tr><td valign="top">Name</td>
<td valign="top">The user account or group name. To select a different 
 user account or group, click Change.</td></tr>

<tr><td valign="top">Apply Onto</td>
<td valign="top">The level of the folder hierarchy at which the special 
 NTFS permissions are inherited. The default is This  folder, subfolders, and files.</td></tr>

<tr><td valign="top">Permissions</td>
<td valign="top">The special permissions. To allow the Change 
 Permissions permission or Take Ownership permission,  select the Allow check box.</td></tr>

<tr><td valign="top">Apply These Permissions To Objects And/Or Containers Within This Container Only</td>
<td valign="top">Specify whether subfolders and files within a folder inherit the special permissions from the folder. Select this check box to propagate the special permissions to files and subfolders. Clear this check box to prevent  permissions inheritance.</td></tr>

<tr><td valign="top">Clear All</td>
<td valign="top">Click this button to clear all selected permissions.</td></tr>
</table></p>

<A NAME="443"><h2>Taking Ownership of a File or Folder</h2></A>
<p>To take ownership of a file or folder, the user or a group member with Take 
Ownership permission must explicitly take ownership of the file or folder.</p>

<p><li><b>To take ownership of a file or folder</b></li></p>

<ol>
<p><li> In the Access Control Settings For dialog box for the file or folder, in the Owner tab, in the Change Owner To list, select your name.</li></p>

<p><li> Select the Replace Owner On Subcontainers And Objects check box to take ownership of all objects and subcontainers within the folder.</li></p>

<p><li> Click OK.</li></p>
</ol>

<p>
<img src="images/practic.JPG" width=92 height=74 border="0">
</p>

<A NAME="444"><h2>Practice: Taking Ownership of a File</h2></A>
<p>In this practice you observe the effects of taking ownership of a file. To do this, you determine permissions for a file, assign the Take Ownership permission to a user account, and then take ownership as that user.</p>

<p><li><b>To determine the permissions for a file</b></li></p>

<ol>
<p><li> Log on to your domain as Administrator, then start Windows Explorer.</li></p>

<p><li> In the C:\Data directory (where C:\ is the name of your system drive), create a text file named OWNER.TXT.</li></p>

<p><li> Right-click OWNER.TXT, then click Properties.</li></p>

<p>Microsoft Windows 2000 displays the OWNER.TXT Properties dialog box with the General tab active.</p>

<p><li> Click the Security tab to display the permissions for the OWNER.TXT file.</li></p>

<p>What are the current allowed permissions for OWNER.TXT?</p>

<p><li> Click Advanced.</li></p>

<p>Windows 2000 displays the Access Control Settings For OWNER.TXT dialog box with the Permissions tab active.</p>

<p><li> Click the Owner tab.</li></p>

<p>Who is the current owner of the OWNER.TXT file?</p>
</ol>

<p><a href="chaaa.htm#1087">Answers</a></p>

<p><li><b>To assign permission to a user to take ownership</b></li></p>

<ol>
<p><li> In the Access Control Settings For OWNER.TXT dialog box, click the Permissions tab.</li></p>

<p><li> Click Add.</li></p>

<p>Windows 2000 displays the Select User, Computer, Or Group dialog box.</p>

<p><li> In the Look In list at the top of the dialog box, select your domain.</li></p>

<p><li> Under Name, click User83, then click OK.</li></p>

<p>Windows 2000 displays the Permission Entry For OWNER.TXT dialog box.</p>

<p>Notice that all of the permission entries for User83 are blank.</p>

<p><li> Under Permissions, select the Allow check box next to Take Ownership.</li></p>

<p><li> Click OK.</li></p>

<p>Windows 2000 displays the Access Control Settings For OWNER.TXT dialog box with the Permissions tab active.</p>

<p><li> Click OK to return to the OWNER.TXT Properties dialog box.</li></p>

<p><li> Click OK to apply your changes and close the OWNER.TXT Properties dialog box.</li></p>

<p><li> Close all applications, then log off Windows 2000.</li></p>
</ol>

<p><li><b>To take ownership of a file</b></li></p>

<ol>
<p><li> Log on to your domain as User83, then start Windows Explorer.</li></p>

<p><li> Expand the C:\Data directory.</li></p>

<p><li> Right-click OWNER.TXT, then click Properties.</li></p>

<p>Windows 2000 displays the OWNER.TXT Properties dialog box with the General tab active.</p>

<p><li> Click the Security tab to display the permissions for OWNER.TXT.</li></p>

<p>Windows 2000 displays the Security message box, indicating that you can only view the current permission information on OWNER.TXT.</p>

<p><li> Click OK.</li></p>

<p>Windows 2000 displays the OWNER.TXT Properties dialog box with the 
Security tab active.</p>

<p><li> Click Advanced to display the Access Control Settings For OWNER.TXT dialog box, then click the Owner tab.</li></p>

<p>Who is the current owner of OWNER.TXT?</p>

<p><li> Under Name, select User83, then click Apply.</li></p>

<p>Who is the current owner of OWNER.TXT?</p>

<p><li> Click OK to close the Access Control Settings For OWNER.TXT dialog box.</li></p>

<p>Windows 2000 displays the OWNER.TXT Properties dialog box with the 
Security tab active.</p>

<p><li> Click OK to close the OWNER.TXT Properties dialog box.</li></p>
</ol>

<p><a href="chaaa.htm#1088">Answers</a></p>

<p><li><b>To test permissions for a file as the owner</b></li></p>

<ol>
<p><li> While you are logged on as User83, assign User83 the Full Control permission for the OWNER.TXT file, then click Apply.</li></p>

<p><li> Clear the Allow Inheritable Permissions From Parent To Propagate To This Object check box.</li></p>

<p><li> In the Security dialog box, click Remove to remove permissions from the Users group and the Administrators group for the OWNER.TXT file.</li></p>

<p>Were you successful? Why or why not?</p>

<p><li> Click OK to close the OWNER.TXT Properties dialog box.</li></p>

<p><li> Delete the OWNER.TXT file.</li></p>

<p><li> Close all applications.</li></p>
</ol>

<p><a href="chaaa.htm#1089">Answers</a></p>

<A NAME="445"><h2>Lesson Summary</h2></A>
<p>In this lesson you learned about special permissions. You learned specifically about two of them: Change Permissions and Take Ownership. You can give administrators and other users the ability to change permissions for a file or folder without giving them the Full Control permission over the file or folder. This prevents the administrator or user from deleting or writing to the file or folder, but it allows them to assign permissions to the file or folder.</p>

<p>You also learned how to use the Take Ownership special permission to give users or groups the ability to take ownership of files or folders. The current owner or any user with Full Control permission can assign the Full Control standard permission or the Take Ownership special permission to another user account or group, allowing the user account or a member of the group to take ownership. You cannot assign anyone ownership of a file or folder. To become the owner of a file or folder, a user or group member with Take Ownership permission must explicitly take ownership of the file or folder.</p>

<p>An administrator can take ownership of a folder or file, regardless of assigned permissions. When an administrator takes ownership of a file or folder, the Administrators group becomes the owner and any member of the Administrators group can change the permissions for the file or folder and assign the Take Ownership permission to another user account or group.</p>

<p>In the practice portion of this lesson you determined the permissions for a file, assigned the Take Ownership permission to a user account, and then took ownership as that user.</p>

</BODY>
</HTML>







