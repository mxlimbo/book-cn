<!DOCTYPE html SYSTEM "msxhtml1-strict.dtd">
<html lang="en" xml:lang="en">
<head>
<link rel="stylesheet" type="text/css" href="styles.css" />
<script type="text/javascript" language="JavaScript" src="expando.js"></script>
<title>Lesson 2: Understanding Active Directory Concepts</title>


</head>
<body>
<div class="prevnext"><p><a href="ch16a.htm">3</a> <a href="ch16c.htm">4</a></p></div>

<h1><a name="1144">Lesson 2: Understanding Active Directory Concepts</a></h1>


<p>There are several new concepts introduced with Active Directory, including the global catalog, replication, trust relationships, DNS namespaces, and naming conventions. It is important that you understand the meaning of these concepts as applied to Active Directory.</p>
<hr />
<p><b>After this lesson, you will be able to</b></p>

<ul>
<li>Explain the purpose of the global catalog in Active Directory</li>

<li>Explain Active Directory replication</li>

<li>Explain the security relationships between domains in a tree (trusts)</li>

<li>Describe the DNS namespace used by Active Directory</li>

<li>Describe the naming conventions used by Active Directory</li>
</ul>

<p><b>Estimated lesson time: 20 minutes</b></p>

<hr />

<h2><a name="1145">Global Catalog</a></h2>


<p>The global catalog is the central repository of information about objects in a tree or forest, as shown in Figure 16.6. By default, a global catalog is created automatically on the initial domain controller in the forest, known as the <i>global catalog server.</i> The global catalog server stores a full replica of all object attributes in the directory for its host domain and a partial replica for all object attributes contained in the directory of every domain in the forest. The partial replica stores attributes that are most frequently used in search operations (such as a user's first and last names, logon name, and so on). Object attributes replicated to the global catalog inherit the same permissions as in source domains, ensuring that data in the global catalog is secure.</p>

<div class="figure">
<a href="javascript:fullSize('F16cc06x.htm')"><img src="images/F16cc06.JPG" /></a>
<div class="caption"><b>Figure 16.6</b> <i>The global catalog is the central repository of information</i>
</div>
</div>


<p>The global catalog performs two key directory roles:</p>

<ul>
<li>It enables network logon by providing universal group membership information to a domain controller when a logon process is initiated.</li>

<li>It enables finding directory information regardless of which domain in the forest actually contains the data.</li>
</ul>



<p>When a user logs on to the network, the global catalog provides universal group membership information for the account to the domain controller processing the user logon information. If there is only one domain controller in the domain, the domain controller and the global catalog are the same server. If there are multiple domain controllers in the network, the global catalog is the domain controller configured as such. If a global catalog is not available when a user initiates a network logon process, the user is only able to log on to the local computer.</p>

<blockquote><div class="caution"><b>IMPORTANT</b><hr />If a user is a member of the Domain Admins group, he or she is able to log on to the network even when the global catalog is not available.</div></blockquote>

<p>The global catalog is designed to respond to user and programmatic queries about objects anywhere in the domain tree or forest with maximum speed and minimum network traffic. Because a single global catalog contains information about all objects in all domains in the forest, a query about an object can be resolved by a global catalog in the domain in which the query is initiated. Thus, finding information in the directory does not produce unnecessary query traffic across domain boundaries.</p>

<p>You can optionally configure any domain controller or designate additional domain controllers as global catalog servers. When considering which domain controllers to designate as global catalog servers, base your decision on the ability of your network structure to handle replication and query traffic. You should note, though, that the availability of additional servers can provide quicker responses to user inquiries, as well as redundancy. It is recommended that every major site in your enterprise have at least one global catalog server.</p>

<h2><a name="1146">Replication</a></h2>


<p>Users and services should be able to access directory information at any time from any computer in the domain tree or forest. Replication ensures that changes to a domain controller are reflected in all domain controllers within a domain. Directory information is replicated to domain controllers both within and among sites.</p>

<h3><a name="1147">What Information Is Replicated</a></h3>


<p>The information stored in the directory is partitioned into three categories. Each of these information categories is referred to as a <i>directory partition.</i> These directory partitions are the units of replication. The following information is contained in each directory:</p>

<ul>
<li><b>Schema information.</b> This directory partition defines which objects can be created in the directory and what attributes those objects can have. This information is common to all domains in the domain tree or forest.</li>

<li><b>Configuration information.</b> This directory partition describes the logical structure of your configuration, and contains information such as domain structure or replication topology. This information is common to all domains in the domain tree or forest.</li>

<li><b>Domain data.</b> This directory partition describes all of the objects in a domain. This data is domain-specific and is not distributed to any other domains. For the purpose of finding information throughout the domain tree or forest, a subset of the properties for all objects in all domains is stored in the global catalog.</li>
</ul>



<p>Schema and configuration information is replicated to all domain controllers in the domain tree or forest. All of the domain data for a particular domain is replicated to every domain controller in that domain. All of the objects in every domain, and a subset of the properties of all objects in a forest, are replicated to the global catalog.</p>

<p>A domain controller stores and replicates the following:</p>

<ul>
<li>The schema information for the domain tree or forest.</li>

<li>The configuration information for all domains in the domain tree or forest.</li>

<li>All directory objects and properties for its domain. This data is replicated to any additional domain controllers in the domain. For the purpose of finding information, a subset of the properties of all objects in the domain is replicated to the global catalog.</li>
</ul>



<p>A global catalog stores and replicates the following:</p>

<ul>
<li>The schema information for a forest.</li>

<li>The configuration information for all domains in a forest.</li>

<li>A subset of the properties for all directory objects in the forest (replicated between global catalog servers only).</li>

<li>All directory objects and all their properties for the domain in which the global catalog is located.</li>
</ul>



<blockquote><div class="caution"><b>CAUTION</b><hr />Extensions to schema can have disastrous effects on large networks
due to the network traffic generated by a full synchronization of all of the domain data.</div></blockquote>

<h3><a name="1148">How Replication Works</a></h3>


<p>Active Directory replicates information within a site more frequently than across sites, balancing the need for up-to-date directory information with the limitations imposed by available network bandwidth.</p>

<h3><a name="1149">Replication Within a Site</a></h3>


<p>Within a site, Active Directory automatically generates a topology for replication among domain controllers in the same domain using a ring structure. The topology defines the path for directory updates to flow from one domain controller to another until all domain controllers receive the directory updates (see Figure 16.7).</p>

<div class="figure">
<a href="javascript:fullSize('F16cc07x.htm')"><img src="images/F16cc07.JPG" /></a>
<div class="caption"><b>Figure 16.7</b> <i>Replication topology</i>
</div>
</div>


<p>The ring structure ensures that there are at least two replication paths from one domain controller to another; if one domain controller is down temporarily, replication still continues to all other domain controllers.</p>

<p>Active Directory periodically analyzes the replication topology within a site to ensure that it is still efficient. If you add or remove a domain controller from the network or a site, Active Directory reconfigures the topology to reflect the change.</p>

<h3><a name="1150">Replication Between Sites</a></h3>


<p>To ensure replication between sites, you must customize how Active Directory replicates information using site links to represent network connections. Active Directory uses the network connection information to generate connection objects that provide efficient replication and fault tolerance.</p>

<p>You provide information about the replication protocol used, cost of a site link, times when the link is available for use, and how often the link should be used. Active Directory uses this information to determine which site link is used to replicate information. Customizing replication schedules so replication occurs during specific times, such as when network traffic is light, will make replication more efficient.</p>

<blockquote><div class="note"><b>NOTE</b><hr />When operating in Native mode, Windows 2000 domain controllers do not replicate with pre-Windows 2000 domain controllers.</div></blockquote>

<h2><a name="1151">Trust Relationships</a></h2>


<p>A <i>trust relationship</i> is a link between two domains in which the trusting domain honors the logon authentication of the trusted domain. Active Directory supports two forms of trust relationships:</p>

<ul>
<li><b>Implicit two-way transitive trust.</b> This is a relationship between parent and child domains within a tree and between the top-level domains in a forest. This is the default trust relationship for Windows 2000; trust relationships among domains in a tree are established and maintained implicitly (automatically). Transitive trust is a feature of the Kerberos authentication protocol, which provides the distributed authentication and authorization in Windows 2000.
<p>For example, in Figure 16.8 a Kerberos transitive trust simply means that if Domain A trusts Domain B, and Domain B trusts Domain C, then Domain A trusts Domain C. As a result, a domain joining a tree immediately has trust relationships established with every domain in the tree. These trust relationships make all objects in the domains of the tree available to all other domains in the tree.</p>
<p>Transitive trust between domains eliminates the management of interdomain trust accounts. Domains that are members of the same tree automatically participate in a transitive, bidirectional trust relationship with the parent domain. As a result, users in one domain can access resources to which they have been granted permission in all other domains in a tree.</p>
</li>
</ul>

<div class="figure">
<a href="javascript:fullSize('F16cc08x.htm')"><img src="images/F16cc08.JPG" /></a>
<div class="caption"><b>Figure 16.8</b> <i>Active Directory supports two types of trust relationships</i>
</div>
</div>


<ul>
<li><b>Explicit one-way nontransitive trust.</b> This is a relationship between domains that are not part of the same tree. A nontransitive trust is bounded by the two domains in the trust relationship and does not flow to any other domains in the forest. In most cases, you must explicitly (manually) create nontransitive trusts. For example, in Figure 16.8, a one-way, nontransitive trust is shown where Domain C trusts Domain 1, so users in Domain 1 can access resources in Domain C. Explicit one-way nontransitive trusts are the only form of trust possible with the following domains:
<ul>
<li>A Windows 2000 domain and a Windows NT domain</li>

<li>A Windows 2000 domain in one forest and a Windows 2000 domain in another forest</li>

<li>A Windows 2000 domain and an MIT Kerberos V5 realm, allowing a client in a Kerberos realm to authenticate to an Active Directory domain in order to access network resources in that domain</li>
</ul></li>
</ul>



<h2><a name="1152">DNS Namespace</a></h2>


<p>Active Directory, like all directory services, is primarily a namespace. A <i>namespace</i> is any bounded area in which a name can be resolved. <i>Name resolution</i> is the process of translating a name into some object or information that the name represents. The Active Directory namespace is based on the DNS naming scheme, which allows for interoperability with Internet technologies. Private networks use DNS extensively to resolve computer names and to locate computers within their local networks and the Internet. DNS provides the following benefits:</p>

<ul>
<li>DNS names are user-friendly, which means they are easier to remember than Internet Protocol (IP) addresses.</li>

<li>DNS names remain more constant than IP addresses. An IP address for a server can change, but the server name remains the same.</li>

<li>DNS allows users to connect to local servers using the same naming convention as used on the Internet.</li>
</ul>



<blockquote><div class="note"><b>NOTE</b><hr /> 
For more information on DNS, see RFCs 1034 and 1035. To read the text of these Requests for Comment (RFCs), use your Web browser to search for <b>RFC 1034</b> and <b>RFC 1035</b>.</div></blockquote>

<p>Because Active Directory uses DNS as its domain naming and location service, Windows 2000 domain names are also DNS names. Windows 2000 Server uses Dynamic DNS (DDNS), which enables clients with dynamically assigned addresses to register directly with a server running the DNS service and update the DNS table dynamically. DDNS eliminates the need for other Internet naming services, such as Windows Internet Name Service (WINS), in a homogeneous environment.</p>

<blockquote><div class="caution"><b>IMPORTANT</b><hr />For Active Directory and associated client software to function correctly, you must have installed and configured the DNS service.</div></blockquote>

<h2><a name="1153">Name Servers</a></h2>


<p>A DNS name server stores the zone database file. Name servers can store data for one zone or multiple zones. A name server is said to have authority for the domain namespace that the zone encompasses.</p>

<p>One name server contains the master zone database file, referred to as the <i>primary zone database file,</i> for the specified zone. As a result, there must be at least one name server for a zone. Changes to a zone, such as adding domains or hosts, are performed on the server that contains the primary zone database file.</p>

<p>Multiple name servers act as a backup to the name server containing the primary zone database file. Multiple name servers provide the following advantages:</p>

<ul>
<li>They perform zone transfers. The additional name servers obtain a copy of the zone database file from the name server that contains the primary database zone file. This is called a <i>zone transfer.</i> These name servers periodically query the name server containing the primary zone database file for updated zone data.</li>

<li>They provide redundancy. If the name server containing the primary zone database file fails, the additional name servers can provide service.</li>

<li>They improve access speed for remote locations. If there are a number of clients in remote locations, use additional name servers to reduce query traffic across slow wide area network (WAN) links.</li>

<li>They reduce the load on the name server containing the primary zone database file.</li>
</ul>



<h2><a name="1154">Naming Conventions</a></h2>


<p>Every object in Active Directory is identified by a name. Active Directory uses a variety of naming conventions: distinguished names (DNs), relative distinguished names (RDNs), globally unique identifiers (GUIDs), and user principal names (UPNs).</p>

<h3><a name="1155">Distinguished Name</a></h3>


<p>Every object in Active Directory has a distinguished name (DN) that uniquely identifies an object and contains sufficient information for a client to retrieve the object from the directory. The DN includes the name of the domain that holds the object as well as the complete path through the container hierarchy to the object.</p>

<p>For example, the following DN identifies the Firstname Lastname user object in the microsoft.com domain (where <i>Firstname</i> and <i>Lastname</i> represent the actual first and last name of a user account):</p>

<div class="code">
<pre>
/DC=COM/DC=microsoft/OU=dev/CN=Users/CN=<i>Firstname Lastname</i>
</pre>
</div>

<p>Table 16.1 describes the attributes in the example.</p>

<p><b>Table 16.1</b> <i>Distinguished Name Attributes</i></p>
<table>
<tr><th>Attribute</th> <th>Description</th></tr>
<tr><td>DC </td><td>Domain Component Name </td></tr>
<tr><td>OU </td><td>Organizational Unit Name </td></tr>
<tr><td>CN  </td><td>Common Name </td></tr>
</table>



<p>DNs must be unique. Active Directory does not allow duplicate DNs.</p>

<blockquote><div class="note"><b>NOTE</b><hr />For more information on distinguished names, see RFC 1779. To read the text of this RFC, use your Web browser to search for <b>RFC 1779</b>.</div></blockquote>

<h3><a name="1156">Relative Distinguished Name</a></h3>


<p>Active Directory supports querying by attributes, so you can locate an object even if the exact DN is unknown or has changed. The relative distinguished name (RDN) of an object is the part of the name that is an attribute of the object itself. In the preceding example, the RDN of the <i>Firstname Lastname</i> user object is Firstname Lastname. The RDN of the parent object is Users.</p>

<p>You can have duplicate RDNs for Active Directory objects, but you cannot have two objects with the same RDN in the same OU. For example, if a user account is named Jane Doe, you cannot have another user account called Jane Doe in the same OU. However, objects with duplicate RDN names can exist in separate OUs because they have different DNs (see Figure 16.9).</p>

<div class="figure">
<a href="javascript:fullSize('F16cc09x.htm')"><img src="images/F16cc09.JPG" /></a>
<div class="caption"><b>Figure 16.9</b> <i>Distinguished names and relative distinguished names</i>
</div>
</div>


<h3><a name="1157">Globally Unique Identifier</a></h3>


<p>A globally unique identifier (GUID) is a 128-bit number that is guaranteed to be unique. GUIDs are assigned to objects when the objects are created. The GUID never changes, even if you move or rename the object. Applications can store the GUID of an object and use the GUID to retrieve that object regardless of its current DN.</p>

<p>In earlier versions of Windows NT, domain resources were associated to a security identifier (SID) that was generated within the domain. This meant that the SID was only guaranteed to be unique within the domain. A GUID is unique across all domains, meaning that you can move objects from domain to domain and they will still have a unique identifier.</p>

<h3><a name="1158">User Principal Name</a></h3>


<p>User accounts have a &quot;friendly&quot; name, the user principal name (UPN). The UPN is composed of a &quot;shorthand&quot; name for the user account and the DNS name of the tree where the user account object resides. For example, <i>Firstname Lastname</i> (substitute the first and last names of the actual user) in the microsoft.com tree might have a UPN of FirstnameL@microsoft.com (using the full first name and the first letter of the last name).</p>

<h2><a name="1159">Lesson Summary</a></h2>


<p>In this lesson you learned about several new concepts introduced with Active Directory, including the global catalog, replication, trust relationships, DNS namespaces, and naming conventions.</p>

<p>You learned that the global catalog is a service and a physical storage location that contains a replica of selected attributes for every object in Active Directory. You can use the global catalog to locate objects anywhere in the network without replication of all domain information between domain controllers.</p>

<p>Active Directory includes replication to ensure that changes to a domain controller are reflected in all domain controllers within a domain. Within a site, Active Directory automatically generates a ring topology for replication among domain controllers in the same domain. Between sites, you must customize how Active Directory replicates information using site links to specify how your sites are connected.</p>

<p>A trust relationship is a link between two domains in which the trusting domain honors the logon authentication of the trusted domain. Active Directory supports two forms of trust relationships: implicit two-way transitive trusts and explicit one-way nontransitive trusts.</p>

<p>In this lesson you also learned that Active Directory uses DNS as its domain naming and location service; therefore, Windows 2000 domain names are also DNS names. Windows 2000 Server uses DDNS, so clients with dynamically assigned addresses can register directly with a server running the DNS service and dynamically update the DNS table. There are contiguous namespaces and disjointed namespaces.</p>

<p>Finally, you learned about the naming conventions employed by Active Directory: DNs, RDNs, GUIDs, and UPNs.</p>

</body>
</html>



