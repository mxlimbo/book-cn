<HTML>
<HEAD>
<TITLE>Lesson 3: Microsoft TCP/IP Installation and Configuration</TITLE>
<link rel="STYLESHEET" type="text/css" href="mmnet.css">

<SCRIPT LANGUAGE="JavaScript"><!-- 
function fullSize(sURL){window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}
--></SCRIPT>
</HEAD>
<BODY BGCOLOR="#ffffff" TEXT="#000000">
<A HREF="ch02c.htm">[Previous]</A> <A HREF="ch02e.htm">[Next]</A><P>



<A NAME="96"><H1>Lesson 3: Microsoft TCP/IP Installation and Configuration</H1></A>

<p>This lesson describes the procedure for installing and configuring Microsoft TCP/IP. Follow this procedure if you have not previously installed the TCP/IP network protocol on the computer(s) you are using to perform the practice 
procedures during this course.</p>

<p><div class="sidebar"><blockquote><b>After this lesson, you will be able to</b>

<ul>
<p><li>Set TCP/IP configuration parameters</li></p>

<p><li>Identify some common TCP/IP utilities</li></p>

<p><li>Describe packet filtering</li></p>
</ul>



<p><b>Estimated lesson time: 15 minutes</b></p>
</blockquote></div>
</p>

<A NAME="97"><H2>Installing TCP/IP</H2></A>

<p>TCP/IP can be used in network environments ranging from small LANs to the global Internet. When you run Windows 2000 Setup, TCP/IP is installed as the default network protocol if a network adapter is detected. Therefore, you only need to install the TCP/IP protocol if the TCP/IP default protocol selection was overridden during setup, or you have deleted it from a connection in Network and Dial-Up Connections.</p>

<p>
<img src="images/practic.JPG" width=90 height=72 border="0">
</p>


<A NAME="98"><H2>Practice: Installing the TCP/IP Protocol</H2></A>

<p>In this practice, you will install TCP/IP on your Local Area Network Connection in Network and Dial-Up Connections. You must be logged on as an administrator or a member of the Administrators group in order to complete this practice.</p>

<p>
<img src="images/cd.JPG" width=66 height=66 border="0">
</p>


<p>Before you continue with the lesson, run the Ch02.exe demonstration file located in the Media folder on the Supplemental Course Materials CD-ROM that accompanies this book. The file provides an overview of installing the TCP/IP protocol.</p>

<p><li><b>To install TCP/IP on your local area network connection</b></li></p>

<ol>
<p><li>Click Start, point to Settings, and then click Network And Dial-Up Connections.</li></p>


<p>The Network And Dial-Up Connections dialog box appears.</p>


<p><li>Right-click Local Area Connection and then click Properties.</li></p>


<p>The Local Area Connection Properties dialog box appears.</p>


<p><li>Click Install.</li></p>


<p>The Select Network Component Type dialog box appears.</p>


<p><li>Click Protocol and then click Add.</li></p>


<p>The Select Network Protocol dialog box appears.</p>


<p><li>Click Internet Protocol (TCP/IP) as illustrated in Figure 2.9, and then click OK.</li></p>


<p>The TCP/IP protocol is installed and added to the Components list in the 
Local Area Connection Properties dialog box.</p>


<p><li>Click Close.</li></p>



<p>
<A HREF="javascript:fullSize('02ntk09x.htm')"> <img src="images/02ntk09.JPG" width=404 height=295 border=0 ALT="Click to view at full size."> </A>
</p><p>
<!-- caption --><b>Figure 2.9</b> <i>Selecting the Internet Protocol (TCP/IP)</i><!-- /caption -->
</p>

</ol>

<A NAME="99"><H2>Configuring TCP/IP</H2></A>

<p>If you are implementing TCP/IP for the first time on your network, you should construct a detailed plan for IP addressing on your network. Your TCP/IP network addressing scheme can include either public or private addresses. You can use either public or private addresses if your network is not connected to the Internet. However, you will most likely implement some public IP addresses for Internet interconnectivity support. This is because devices connected directly to the Internet require a public IP address. InterNIC assigns public addresses to Internet service providers (ISPs). ISPs, in turn, assign IP addresses to organizations when network connectivity is purchased. IP addresses assigned this way are guaranteed to be unique and are programmed into Internet routers in order for traffic to reach the destination host.</p>

<p>Furthermore, you can implement a private addressing scheme to shield your 
internal addresses from the rest of the Internet by configuring private addresses on all the computers on your private network (or intranet). Private addresses are not reachable on the Internet because they are separate from public addresses, and they do not overlap.</p>

<p>You can assign IP addresses in Windows 2000 dynamically using Dynamic Host Configuration Protocol (DHCP), and you can address assignment using Automatic Private IP Addressing. You can also configure TCP/IP manually. You configure TCP/IP on a computer based on its function. For example, servers in a client/server relationship within an organization should be assigned an IP address manually. However, you can configure TCP/IP dynamically through a DHCP server for the majority of clients on a network.</p>

<A NAME="100"><H3>Dynamic Configuration</H3></A>

<p>Windows 2000 computers will attempt to obtain the TCP/IP configuration from a DHCP server on your network by default, as illustrated in Figure 2.10. If a static TCP/IP configuration is currently implemented on a computer, you can implement a dynamic TCP/IP configuration.</p>

<p><li><b>To implement a dynamic TCP/IP configuration</b></li></p>

<ol>
<p><li>Click Start, point to Settings, and then click Network And Dial-Up Connections.</li></p>

<p><li>Right-click the Local Area Connection, and then click Properties.</li></p>

<p><li>On the General tab, click Internet Protocol (TCP/IP), and then click Properties.</li></p>


<p>For other types of connections, click the Networking tab.</p>


<p><li>Click Obtain An IP Address Automatically, and then click OK.</li></p>


<p>
<img src="images/02ntk10.JPG" width=404 height=448 border="0">
</p><p>
<!-- caption --><b>Figure 2.10</b> <i>Configuring your computer to obtain TCP/IP settings automatically</i><!-- /caption -->
</p>

</ol>

<A NAME="101"><H3>Manual Configuration</H3></A>

<p>Some servers, such as DHCP, DNS, and WINS servers, should be assigned an IP address manually. If you do not have a DHCP server on your network, you must configure TCP/IP computers manually to use a static IP address.</p>

<p><li><b>To configure a TCP/IP computer to use static addressing</b></li></p>

<ol>
<p><li>Click Start, point to Settings, and then click Network And Dial-Up Connections.</li></p>

<p><li>Right-click Local Area Connection, and then click Properties.</li></p>

<p><li>On the General tab, click Internet Protocol (TCP/IP), and then click Properties.</li></p>

<p><li>Select Use The Following IP Address.</li></p>
</ol>

<p>You will then have to type in an IP, subnet mask, and default gateway address. If your network has a DNS server, you can set up your computer to use DNS.</p>

<p><li><b>To set up your computer to use DNS</b></li></p>

<ol>
<p><li>Select Use The Following DNS Server Addresses.</li></p>

<p><li>In Preferred DNS Server and Alternate DNS Server, type the primary and secondary DNS server addresses, as illustrated in Figure 2.11.</li></p>


<p>
<img src="images/02ntk11.JPG" width=404 height=448 border="0">
</p><p>
<!-- caption --><b>Figure 2.11</b> <i>Manually configuring TCP/IP settings on your computer</i><!-- /caption -->
</p>

</ol>
<p>You can also configure additional IP addresses and default gateways by 
performing the following procedure.</p>

<p><li><b>To configure additional IP addresses and default gateways</b></li></p>

<ol>
<p><li>In the Internet Protocol (TCP/IP) Properties dialog box, click Advanced.</li></p>

<p><li>On the IP Settings tab, in IP Addresses, click Add.</li></p>

<p><li>In IP Address And Subnet Mask, type an IP address and subnet mask, and then click Add.</li></p>

<p><li>Repeat steps 2 and 3 for each IP address you want to add, then click OK.</li></p>

<p><li>On the IP Settings tab, in Default Gateways, click Add.</li></p>

<p><li>In Gateway And Metric, type the IP address of the default gateway and the metric, and then click Add.</li></p>

<p>You can also type a metric value in Interface Metric to configure a custom metric for this connection.</p>


<p><li>Repeat steps 5 and 6 for each IP address you want to add, and then click OK.</li></p>
</ol>

<p><div class="note"><blockquote><b>NOTE</b><HR>You will learn how to configure a client to use a WINS server in <A HREF="ch09a.htm">Chapter 9</A>, &quot;Implementing Windows Internet Naming Service (WINS).&quot;</blockquote></div>
</p>

<A NAME="102"><H3>Automatic Private IP Address Assignment</H3></A>

<p>Another TCP/IP address configuration option is to use Automatic Private IP 
Addressing when DHCP is not available. In previous versions of Windows, IP address configuration could be performed either manually or dynamically through DHCP. If a client was not able to obtain an IP address from a DHCP server, 
network services for the client were unavailable. The Automatic Private IP 
Addressing feature of Windows 2000 automates the process of assigning an 
unused IP address in the event that DHCP is not available.</p>

<p>The Automatic Private IP Addressing address is selected from the Microsoft- 
reserved address block 169.254.0.0, with the subnet mask 255.255.0.0. When 
the Automatic Private IP Addressing feature of Windows 2000 is used, an 
address in the Microsoft-reserved IP addressing range from 169.254.0.1 through 169.254.255.254 is assigned to the client. The assigned IP address is used until 
a DHCP server is located. The subnet mask 255.255.0.0 is automatically used.</p>

<A NAME="103"><H2>Testing TCP/IP with Ipconfig and PING</H2></A>

<p>You should always verify and test your TCP/IP configuration to make sure your computer can connect to other TCP/IP hosts and networks. You can perform 
basic TCP/IP configuration testing using Ipconfig and PING utilities.</p>

<p>With Ipconfig, you verify the TCP/IP configuration parameters on a host, including the IP address, subnet mask, and default gateway, from a command prompt. This is useful in determining whether the configuration is initialized, or if a duplicate IP address is configured.</p>

<p><li><b>To use Ipconfig from a command prompt</b></li></p>

<ol>
<p><li>Open a command prompt.</li></p>

<p><li>When the command prompt is displayed, type <b>Ipconfig</b> and then press Enter.</li></p>


<p>TCP/IP configuration information is displayed, as illustrated in Figure 2.12.</p>

<p>
<A HREF="javascript:fullSize('02ntk12x.htm')"> <img src="images/02ntk12.JPG" width=404 height=205 border=0 ALT="Click to view at full size."> </A>
</p><p>
<!-- caption --><b>Figure 2.12</b> <i>Using Ipconfig to display TCP/IP configuration information</i><!-- /caption -->
</p>
</ol>


<p>After you verify the configuration with the Ipconfig utility, you can use the PING utility to test connectivity. The PING utility is a diagnostic tool that tests TCP/IP configurations and diagnoses connection failures. PING uses the Internet Control Message Protocol (ICMP) Echo Request and Echo Reply messages to determine whether a particular TCP/IP host is available and functional. Like the Ipconfig utility, the PING utility is executed at the command prompt. The command syntax is:</p>

<p><table cellpadding=5 width="95%"><tr><td>
<pre>Ping IP_Address</pre>
</td></tr></table>
</p>

<p>If PING is successful, a message similar to the illustration in Figure 2.13 appears.</p>


<p>
<A HREF="javascript:fullSize('02ntk13x.htm')"> <img src="images/02ntk13.JPG" width=404 height=205 border=0 ALT="Click to view at full size."> </A>
</p><p>
<!-- caption --><b>Figure 2.13</b> <i>Reply messages displayed by the PING utility</i><!-- /caption -->
</p>

<A NAME="104"><H2>Configuring Packet Filters</H2></A>

<p>You can use IP packet filtering to trigger security negotiations for a communication based on the source, destination, and type of IP traffic. This allows you to define which specific IP and IPX traffic triggers will be secured, blocked, or allowed to pass through unfiltered.</p>

<p>For example, you can limit the type of access allowed to and from the network to restrict traffic to desired systems. You should make sure that you do not configure packet filters that are too restrictive, impairing the functionality of useful protocols on the computer. For example, if a computer running Windows 2000 is also running Internet Information Services (IIS) as a Web server, and packet filters are defined so that only Web-based traffic is allowed, you cannot use PING (which uses ICMP Echo Requests and Echo Replies) to perform basic IP troubleshooting.</p>

<p>You can configure the TCP/IP protocol to filter IP packets based on:</p>

<ul>
<p><li>The TCP port number</li></p>

<p><li>The UDP port number</li></p>

<p><li>The IP protocol number</li></p>
</ul>

<p>
<img src="images/practic.JPG" width=90 height=72 border="0">
</p>


<A NAME="105"><H2>Practice: Implementing IP Packet Filters</H2></A>

<p>In this practice, you will implement TCP/IP packet filtering on a Windows 2000 Server computer for a LAN connection.</p>

<p><li><b>To implement TCP/IP packet filtering</b></li></p>

<ol>
<p><li>Click Start, point to Settings, and then click Network And Dial-Up Connections.</li></p>

<p><li>Right-click Local Area Connection and then click Properties.</li></p>

<p>The Local Area Connection Properties dialog box appears.</p>

<p><li>Select Internet Protocol (TCP/IP), then click Properties.</li></p>

<p>The Internet Protocol (TCP/IP) Properties dialog box appears.</p>

<p><li>Click Advanced.</li></p>

<p>The Advanced TCP/IP Settings dialog box appears.</p>

<p><li>Click the Options tab, select TCP/IP Filtering, and then click Properties.</li></p>

<p>The TCP/IP Filtering dialog box appears, as illustrated in Figure 2.14.</p>

<p><li>Click Enable TCP/IP Filtering (All Adapters).</li></p>


<p>You can now add TCP, UDP, and IP protocol filtering by clicking the Permit Only option and then clicking Add below the TCP, UDP, or IP Protocols list.</p>

<p>Some TCP/IP filtering implementations you can use include:</p>

<ul>
<p><li>Enabling only TCP port 23, which filters all traffic except Telnet traffic</li></p>

<p><li>Enabling only TCP port 80 on a dedicated Web server to process only Web-based TCP traffic</li></p>
</ul>

<p>
<A HREF="javascript:fullSize('02ntk14x.htm')"> <img src="images/02ntk14.JPG" width=404 height=315 border=0 ALT="Click to view at full size."> </A>
</p><p>
<!-- caption --><b>Figure 2.14</b> <i>Setting TCP/IP packet filters in the TCP/IP Filtering dialog box</i><!-- /caption -->
</p>

</ol>
<p><div class="caution"><blockquote><b>CAUTION</b><hr>By enabling only TCP port 80, all network communications outside of port 80 will be disabled.</blockquote></div>
</p>

<ol>
<p><li value="7">Click OK repeatedly to close all open dialog boxes.</li></p>
</ol>

<A NAME="106"><H2>Lesson Summary</H2></A>

<p>By default, Windows 2000 installs the TCP/IP protocol if Setup detects a network adapter. You can also manually install TCP/IP. After you install TCP/IP on a computer, you can either configure it to obtain an IP address automatically, or set configuration properties manually. You can also implement packet filters to limit the type of access allowed to and from the network to restrict traffic to 
desired systems.</p>

</BODY>
</HTML>





