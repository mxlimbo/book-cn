<HTML>
<HEAD>
<TITLE>Lesson 3: Planning a DNS Implementation</TITLE>
<link rel="STYLESHEET" type="text/css" href="mmnet.css">

<SCRIPT LANGUAGE="JavaScript"><!-- 
function fullSize(sURL){window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}
--></SCRIPT>
</HEAD>
<BODY BGCOLOR="#ffffff" TEXT="#000000">
<A HREF="ch07c.htm">[Previous]</A> <A HREF="ch07e.htm">[Next]</A><P>



<A NAME="304"><H1>Lesson 3: Planning a DNS Implementation</H1></A>

<p>The configuration of your DNS servers depends on factors such as the size of your organization, organization locations, and fault-tolerance requirements. This lesson gives you an idea of how to configure DNS for your site. It contains scenarios that measure your network planning knowledge prior to installing DNS.</p>

<p><div class="sidebar"><blockquote>
<b>After this lesson, you will be able to</b>

<ul>
<p><li>Register a DNS server with the parent domain</li></p>

<p><li>Estimate the number of DNS name servers, domains, and zones needed for a network</li></p>

</ul>



<p><b>Estimated lesson time: 40 minutes</b></p>
</blockquote></div></p>

<A NAME="305"><H2>DNS Considerations</H2></A>

<p>Although Windows 2000 and its name resolution require a DNS server, the DNS server itself does not have to reside on a server running Windows 2000. In addition, it does not even have to be on your local network. As long as Windows 2000 can be configured to reference a valid DNS server that supports the necessary record types, such as one hosted by your Internet service provider (ISP), you can provide the required name resolution capabilities to Windows 2000. However, with the increased functionality implemented in the version of DNS provided with 
Windows 2000, you may decide it is worthwhile to install and configure your own DNS server. For purposes of this lesson, it is assumed you have decided to implement your own Windows 2000 DNS server.</p>

<p>If your organization, regardless of size, wants to use a second-level domain, the Internet Network Information Center (InterNIC) must be informed of the domain name of your organization and the IP addresses of at least two DNS servers that service the domain. You can also set up additional DNS servers within your 
organization that are independent of the Internet.</p>

<p>For reliability and redundancy, Microsoft recommends that at least two DNS servers be configured per domain&#8212;a primary and a secondary name server. The primary name server maintains the database of information, which is replicated to the 
secondary name server. This replication allows name queries to be serviced even if one of the name servers is unavailable. The replication schedule can be configured depending on how often names change in the domain. Replication should be frequent enough so that changes are known to both servers. However, excessive replication can increase network traffic and increase load on the name server.</p>

<A NAME="306"><H2>Registering with the Parent Domain</H2></A>

<p>Once you have your DNS server or servers configured and installed, you need to register with the DNS server that is above you in the hierarchical naming structure of DNS. Figure 7.5 provides an example of registering your DNS server with the domain level above it. The parent system needs the names and addresses of your name servers and may require other information, such as the date that the domain becomes available and the names and mailing addresses of contact people.</p>


<p>
<A HREF="javascript:fullSize('07ntk05x.htm')"> <img src="images/07ntk05.JPG" width=404 height=172 border=0 ALT="Click to view at full size."> </A>
</p><p>
<!-- caption --><b>Figure 7.5</b> <i>Registering your DNS server with the domain level above it</i><!-- /caption -->
</p>

<p>If you are registering with a parent below the second-level domain, check with the administrator of that system to determine the information you need to supply.</p>



<p>
<img src="images/practic.JPG" width=90 height=72 border="0">
</p>

<A NAME="307"><H2>Practice: Implementing DNS</H2></A>

<p>In this practice, you work through three DNS implementation scenarios. In each scenario, you estimate the number of DNS name servers, domains, and zones needed for a network. Each scenario describes a company that is migrating to Windows 2000 and wants to implement directory services. You will answer some questions involved in drafting a DNS network design for each company using unique criteria. The purpose of these practices is to measure your network planning knowledge prior to installing DNS. This will serve as a baseline to measure how much you have learned at the completion of this course and will help you start thinking about DNS network design.</p>

<A NAME="308"><H3>Scenario 1: Designing DNS for a Small Network</H3></A>

<p>The Northwind Company is in the process of replacing its older mid-range 
computer with a computer running Windows 2000. Most employees access the mid-range system through terminal devices. Some users have 486 computers and a few have Pentium computers; these computers are not networked. The company has already purchased the hardware for the migration.</p>

<p>The network will be used for basic file and print sharing and will also have one Windows 2000-based server running Microsoft SQL Server 7. The majority of users will need access to the computer running SQL Server 7. Desktop applications will be installed on the local computers, but data files will be saved on the servers.</p>

<p>The Northwind Company would like to be connected to the Internet so employees can receive e-mail.</p>

<p>Draft a network design using the criteria shown in Table 7.3.</p>

<p><b>Table 7.3</b> <i>Network Design Criteria</i></p>

<p>
<table cellpadding=5 width="95%">
<tr> 
<th>Environmental Components  </th>
<th>Detail  </th></tr>
<tr>
<td valign="top">Users  </td>
<td valign="top">100  </td></tr>
<tr>
<td valign="top">Location(s)  </td>
<td valign="top">Single office  </td></tr>
<tr>
<td valign="top">Administration  </td>
<td valign="top">One full-time administrator  </td></tr>
<tr>
<td valign="top">Servers  </td>
<td valign="top">3 computers: 2 Pentium 120s with 32 MB RAM, 3.2 GB hard disk; 1 Pentium 150 with 128 MB RAM dedicated to Exchange Server  </td></tr>
<tr>
<td valign="top">Clients  </td>
<td valign="top">All Pentium and 486 computers, running Windows 2000 Professional  </td></tr>
<tr>
<td valign="top">Microsoft BackOffice applications  </td>
<td valign="top">Exchange Server and DNS  </td></tr>
<tr>
<td valign="top">Server usage  </td>
<td valign="top">Basic file and print  </td></tr>
</table></p>


<p>The design will take into account</p>

<ul>
<p><li>Number of users</li></p>

<p><li>Number of administrative units</li></p>

<p><li>Number of sites</li></p>
</ul>



<p>Based on these design objectives, answer the following questions:</p>

<ol>
<p><li>How many DNS domains will you need to configure?</li></p>

<p><li>How many subdomains will you need to configure?</li></p>

<p><li>How many zones will you need to configure?</li></p>

<p><li>How many primary name servers will you need to configure?</li></p>

<p><li>How many secondary name servers will you need to configure?</li></p>

<p><li>How many DNS cache-only servers will you need to configure?</li></p>
</ol>
<p><a href="chaaa.htm#658">Answers</a></p>

<A NAME="309"><H3>Scenario 2: Designing DNS for a Medium-Size Network</H3></A>

<p>You are consulting for the Northwind Company, which has 8,795 users. There are 8,000 users located in four primary sites, with the remaining employees located in 10 branch offices in major U.S. cities. The company has decided to upgrade its existing LANs to Windows 2000 Server. The organization has also decided to centralize all user accounts in a single location at the corporate headquarters.</p>

<p>As illustrated in Figure 7.6, the four primary sites are connected by T1 lines. The branch offices are connected to the nearest primary site by 56 Kilobit per second (Kbps) lines.</p>


<p>
<A HREF="javascript:fullSize('07ntk06x.htm')"> <img src="images/07ntk06.JPG" width=404 height=267 border=0 ALT="Click to view at full size."> </A>
</p><p>
<!-- caption --><b>Figure 7.6</b> <i>Connection of headquarters</i><!-- /caption -->
</p>

<p>Three of the four primary sites are independent business units and operate independently of the others. The fourth is corporate headquarters. Branch offices have between 25 and 250 users needing access to all four of the primary sites but seldom needing access to the other branch offices.</p>

<p>In addition to the 10 branch offices, you have discovered that the company has a temporary research location employing 10 people. The site has one server that connects to Boston using dial-on-demand routers. This site is expected to be shut down within six months. It is a stand-alone operation requiring connectivity for messaging only.</p>

<p>Primary sites will continue to maintain their own equipment and the equipment of the branch offices connected to them. Currently, bandwidth utilization is at 60 percent during peak times. Future network growth is expected to be minimal for the next 12 to 18 months.</p>

<p>Draft a network design using the criteria shown in Table 7.4.</p>

<p><b>Table 7.4</b> <i>Network Design Criteria</i></p>

<p>
<table cellpadding=5 width="95%">
<tr> 
<th>Environmental Components  </th>
<th>Detail  </th></tr>
<tr>
<td valign="top">Users  </td>
<td valign="top">8,795  </td></tr>
<tr>
<td valign="top">Location(s)  </td>
<td valign="top">Four primary sites, with 10 branch sites in major cities in the U.S. No plans for opening any international locations.  </td></tr>
<tr>
<td valign="top">Administration  </td>
<td valign="top">Full-time administrators at each of the four primary sites. Some of the smaller sites have part-time administrators.  </td></tr>
<tr>
<td valign="top">Number of name servers  </td>
<td valign="top"> To be determined. </td></tr>
<tr>
<td valign="top">Number of cache servers  </td>
<td valign="top">DNS cache servers are needed in each of the remote locations for the same zone.  </td></tr>
<tr>
<td valign="top">Clients  </td>
<td valign="top">386, 486, and Pentium computers running 
Windows