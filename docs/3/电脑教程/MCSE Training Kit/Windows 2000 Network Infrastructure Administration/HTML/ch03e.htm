<HTML>
<HEAD>
<TITLE>Lesson 4: Installing and Configuring NWLink</TITLE>
<link rel="STYLESHEET" type="text/css" href="mmnet.css">

<SCRIPT LANGUAGE="JavaScript"><!-- 
function fullSize(sURL){window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}
--></SCRIPT>
</HEAD>
<BODY BGCOLOR="#ffffff" TEXT="#000000">
<A HREF="ch03d.htm">[Previous]</A> <A HREF="ch03f.htm">[Next]</A><P>



<A NAME="150"><H1>Lesson 4: Installing and Configuring NWLink</H1></A>

<p>In this lesson, you will learn how to install NWLink, which is included in all 
varieties of Windows 2000 to support connectivity to computers running NetWare and other compatible systems.</p>

<p><blockquote><div class="sidebar"><b>
After this lesson, you will be able to</b>

<ul>
<p><li>Install the NWLink protocol in Windows 2000</li></p>

<p><li>Configure the NWLink protocol in Windows 2000</li></p>

<p><li>Identify the purpose of a frame type and network number</li></p>
</ul>



<p><b>Estimated lesson time: 30 minutes</b></p>
</div></blockquote></p>

<A NAME="151"><H2>Windows 2000 Professional and NetWare Connectivity</H2></A>

<p>Windows 2000 Professional uses Client Service for NetWare and NWLink protocol to provide connectivity between Windows 2000 Professional and servers running Novell NDS or NetWare bindery-based servers. NWLink is the Windows component that includes the IPX/SPX protocol.</p>

<p>With Windows 2000 Professional, you can leave the Novell Client 32 on the operating system while upgrading from Windows 95, Windows 98, or Windows NT 4.0 Workstation. Windows 2000 Professional upgrades computers running versions of Novell Client 32 earlier than 4.7. During the upgrade to Windows 2000 Professional, Novell Client 32 version 4.51 is installed. This process allows for a seamless upgrade of Novell Client 32 with no loss in functionality. To obtain a full version of Novell Client for Windows 2000, you can contact Novell directly.</p>

<A NAME="152"><H3>Configuring Client Service for NetWare</H3></A>

<p>When you install Client Service for NetWare on Windows 2000 Professional, 
the NWLink IPX/SPX/NetBIOS Compatible Transport Protocol is automatically 
installed.</p>

<p><li><b>To install Client Service for NetWare</b></li></p>

<ol>
<p><li>Open the Network and Dial-Up Connections Control Panel applet.</li></p>

<p><li>Right-click the local area connection for which you want to install Client Service for NetWare, then click Properties.</li></p>

<p><li>In the General tab, click Install.</li></p>

<p><li>In the Select Network Component Type dialog box, click Client, then click Add.</li></p>

<p><li>In the Select Network Client dialog box, click Client Service For NetWare, then click OK.</li></p>
</ol>

<p><div class="note"><blockquote><b>NOTE</b><HR>To install Client Service for NetWare, you need Administrator rights to the computer running Windows 2000 Professional.</blockquote></div></p>

<A NAME="153"><H3>Installing NWLink IPX/SPX/NetBIOS Compatible Transport Protocol</H3></A>

<p>The NWLink protocol is not installed by default during Windows 2000 Setup, as is TCP/IP. However, you have the option of installing NWLink during Setup, along with other protocols, or you can install it later.</p>

<p><li><b>To install NWLink</b></li></p>

<ol>
<p><li>Open the Network and Dial-Up Connections Control Panel applet.</li></p>

<p><li>Right-click a local area connection, then click Properties.</li></p>

<p><li>In the General tab, click Install.</li></p>

<p><li>In the Select Network Component Type dialog box, click Protocol, then click Add.</li></p>

<p><li>In the Select Network Protocol dialog box, click NWLink IPX/SPX/NetBIOS Compatible Transport Protocol, then click OK.</li></p>

<p>To confirm that NWLink is working properly, at a command prompt, type <b>ipxroute config</b>. You will see a table with information about the bindings for which NWLink is configured, as illustrated in Figure 3.5.</p>

<p>
<A HREF="javascript:fullSize('03ntk05x.htm')"> <img src="images/03ntk05.JPG" width=404 height=205 border=0 ALT="Click to view at full size."> </A>
</p><p>
<!-- caption --><b>Figure 3.5</b> <i>NWLink binding information</i><!-- /caption -->
</p>

</ol>

<A NAME="154"><H2>Internal Network Number</H2></A>

<p>The internal network number is used for internal routing purposes when the 
computer running Windows 2000 is also hosting IPX services. When calculating the best possible route for transmitting packets to a specified computer, multiple routes with the same route metrics can present ambiguity to computer hosts. When you specify a unique internal network number, you create a virtual network inside the computer. This allows for a singular optimum path from the network to the services running on the computer.</p>

<p><li><b>To change the internal network number</b></li></p>

<ol>
<p><li>In Control Panel, double-click Network And Dial-Up Connections.</li></p>

<p><li>Right-click a local area connection, then click Properties.</li></p>

<p><li>In the General tab, click NWLink IPX/SPX/NetBIOS Compatible Transport Protocol, then click Properties.</li></p>

<p><li>Type a value in the Internal Network Number box, illustrated in Figure 3.6, then click OK.</li></p>
</ol>

<p><div class="note"><blockquote><b>NOTE</b><HR>Generally, you do not need to change the internal network number.</blockquote></div></p>

<p>
<A HREF="javascript:fullSize('03ntk06x.htm')"> <img src="images/03ntk06.JPG" width=404 height=442 border=0 ALT="Click to view at full size."> </A>
</p><p>
<!-- caption --><b>Figure 3.6</b> <i>NWLink IPX/SPX/NetBIOS Compatible Transport Protocol dialog box</i><!-- /caption -->
</p>

<A NAME="155"><H2>Frame Type and Network Number</H2></A>

<p>The frame type defines the way in which the network adapter, in a computer 
running Windows 2000, formats data to be sent over a network. To communicate between a computer running Windows 2000 and NetWare servers, you need 
to configure the NWLink IPX/SPX/NetBIOS Compatible Transport Protocol (NWLink) on the computer running Windows 2000 with the same frame type as the one used by the NetWare servers. Table 3.2 lists the topologies and frame types supported by NWLink.</p>

<p><b>Table 3.2</b> <i>NWLink Frame Types</i></p>

<p><table cellpadding=5 width="95%"><tr>
<th>Network Type</th> <th>Supported Frame Types</th>
</tr><tr>
<td valign="top">Ethernet</td> <td valign="top">Ethernet II, 802.2, 802.3, 802.2 Subnetwork Access Protocol (SNAP)</td>
</tr><tr>
<td valign="top">Token Ring</td> <td valign="top">802.5 and 802.5 SNAP</td>
</tr><tr>
<td valign="top">Fiber Distributed Data Interface</td> <td valign="top">802.2 and SNAP</td>
</tr></table></p>

<p><i>Frame types</i> define frame header and footer formats used by the different data-link layer protocols.</p>

<p>During the Auto Detect process, NWLink tries each available frame type in the list for the associated medium access type. For example, on an Ethernet network, Ethernet 802.2, Ethernet 802.3, Ethernet II, and Ethernet Subnetwork Access Protocol (SNAP) are tested to see which frame types NWLink can communicate with. When NWLink receives a response from a NetWare server with one of the frame types, it also receives the network number associated with the frame type for the network segment where the client resides. NWLink then rebinds using the frame type(s) from which it received responses.</p>

<p>The external network number is a unique number that represents a specific network segment and associated frame type. All computers on the same network segment that use a given frame type must have the same external network number, which must be unique for each network segment.</p>

<p>The IPX frame type and network number are set during the initial NetWare server configuration. The Windows 2000 NWLink Auto Detect feature then detects the frame type and network number that were configured on the NetWare server(s). NWLink Auto Detect is the recommended option for configuring both the 
network number and the frame type.</p>

<p>Occasionally, Auto Detect selects an inappropriate network number and frame type combination for the adapter. Because Auto Detect uses the responses it 
receives from computers on the same network segment, Auto Detect might select an incorrect frame type and network number if computers responded with incorrect values. This is usually caused by an incorrect manual setting on another computer in the network. If the Auto Detect feature selects an inappropriate frame type and network number for a particular adapter, you can manually reset an NWLink frame type or network number for that given adapter. The frame type and network 
number on Windows 2000 Professional need to match the frame type and network number configured on the NetWare server. You can specify a frame type and 
network number of 00000000 to have the network number of the network segment automatically detected.</p>

<p><li><b>To change the network number and frame type</b></li></p>

<ol>
<p><li>Open the Network and Dial-Up Connections Control Panel applet.</li></p>

<p><li>Right-click a local area connection, and click Properties.</li></p>

<p><li>In the General tab, click NWLink IPX/SPX/NetBIOS Compatible Transport Protocol, then click Properties.</li></p>

<p><li>In the Frame Type drop-down list box, select a frame type.</li></p>

<p><li>In the Network Number text box, type a network number, then click OK.</li></p>
</ol>

<p><div class="caution"><blockquote><b>CAUTION</b><HR>In most cases, you should not need to change the network number and frame type, because Auto Detect should correctly detect the frame type and 
network number. If you choose an incorrect setting, the client cannot connect to NetWare servers.</blockquote></div></p>

<A NAME="156"><H2>Configuring NWLink</H2></A>

<p>To configure NWLink, you must first install the NWLink IPX/SPX/NetBIOS Compatible Transport Protocol and be a member of the Administrators group. You can use the following procedure if you want to bind NWLink to a different network adapter or to manually change the frame type.</p>

<p><LI><B>To configure NWLink</B></LI></p>

<ol>
<p><li>Open the Network and Dial-Up Connections Control Panel applet.</li></p>

<p><li>Right-click a local area connection, then click Properties.</li></p>

<p><li>In the General tab, click NWLink IPX/SPX/NetBIOS Compatible Transport Protocol, then click Properties.</li></p>

<p><li>In the General tab, type a value for Internal Network Number or leave this setting at the default value of 00000000.</li></p>

<p><li>If you want Windows 2000 to automatically select the frame type, click Auto Frame Type Detection, and then click OK. Skip Steps 6 through 10.</li></p>

<p>By default, NWLink automatically detects the frame type used by the network adapter to which it is bound. If NWLink detects no network traffic or if multiple frame types are detected in addition to the 802.2 frame type, NWLink sets the frame type to 802.2.</p>

<p><li>To manually set the frame type, click Manual Frame Type Detection.</li></p>

<p><li>Click Add.</li></p>

<p><li>In the Manual Frame Detection dialog box, in Frame Type, click a frame type.</li></p>

<p>You can determine which external network number, frame type, and internal network number your routers are using by typing <b>ipxroute config</b> at a 
command prompt.</p>

<p><li>In Network Number, type a network number, then click Add.</li></p>

<p><li>Repeat these steps for each frame type you want to include, then click OK.</li></p>
</ol>

<p>
<img src="images/practic.JPG" width=90 height=72 border="0">
</p>

<A NAME="157"><H2>Practice: Installing and Configuring NWLink</H2></A>



<p>In this practice, you will install and configure the NWLink IPX/SPX/NetBIOS Compatible Transport Protocol. You will also change the binding order of the NWLink protocol.</p>

<p><li><b>To install and configure NWLink</b></li></p>

<ol>
<p><li>Open the Network and Dial-Up Connections Control Panel applet.</li></p>

<p><li>Right-click a local area connection, then click Properties.</li></p>

<p>The Local Area Connection Properties dialog box appears.</p>

<p><li>Click Add.</li></p>

<p>The Select Network Component Type dialog box appears.</p>

<p><li>Click Protocol, then click Add.</li></p>

<p><li>Select NWLink IPX/SPX/NetBIOS Compatible Transport Protocol, then click OK.</li></p>

<p>The Local Area Connection Properties dialog box appears.</p>

<p><li>Select NWLink IPX/SPX/NetBIOS Compatible Transport Protocol, then click Properties. At this point, you can select either auto or manual frame detection.</li></p>
</ol>

<p><li><b>To modify the NWLink protocol bindings order</b></li></p>

<ol>
<p><li>Open the Network and Dial-Up Connections Control Panel applet.</li></p>

<p><li>Click the connection you want to modify and, on the Advanced menu, click Advanced Settings.</li></p>

<p><li>In the Adapters And Bindings tab, in Bindings For Adapter Name, click the NWLink protocol and move it down in the list by clicking the Down button, as illustrated in Figure 3.7.</li></p>

<p>
<img src="images/03ntk07.JPG" width=404 height=448 border="0">
</p><p>
<!-- caption --><b>Figure 3.7</b> <i>The Advanced Settings dialog box</i><!-- /caption -->
</p>

</ol>

<A NAME="158"><H2>Lesson Summary</H2></A>

<p>IPX/SPX is a protocol stack that is used in Novell networks. The NWLink IPX/SPX/NetBIOS Compatible Transport Protocol allows Windows 2000-based computers to communicate with Novell networks. When you install Client Service for NetWare on Windows 2000, the NWLink IPX/SPX/NetBIOS Compatible Transport Protocol is automatically installed.</p>

<p>To configure NWLink, you must first install the NWLink IPX/SPX/NetBIOS Compatible Transport Protocol and be a member of the Administrators group. The internal network number is used for internal routing purposes when the computer running Windows 2000 is also hosting IPX services. The frame type defines the way in which the network adapter, in a computer running Windows 2000, formats data to be sent over a network. The external network number is a unique number that represents a specific network segment and associated frame type. All computers on the same network segment that use a given frame type must have the same external network number, which must be unique for each network segment.</p>

</BODY>
</HTML>





