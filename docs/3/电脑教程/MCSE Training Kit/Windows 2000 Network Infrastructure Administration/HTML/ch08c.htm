<HTML>
<HEAD>
<TITLE>Lesson 2: Working with Servers</TITLE>
<link rel="STYLESHEET" type="text/css" href="mmnet.css">

<SCRIPT LANGUAGE="JavaScript"><!-- 
function fullSize(sURL){window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}
--></SCRIPT>
</HEAD>
<BODY BGCOLOR="#ffffff" TEXT="#000000">
<A HREF="ch08b.htm">[Previous]</A> <A HREF="ch08d.htm">[Next]</A><P>



<A NAME="339"><H1>Lesson 2: Working with Servers</H1></A>

<p>Because DNS servers are of critical importance in most environments, it is important to continually monitor them. In this lesson, you will learn how to manage 
and monitor your DNS servers. In addition, you will learn how to implement a caching-only server.</p>

<p><div class="sidebar"><blockquote>
<b>After this lesson, you will be able to</b>

<ul>
<p><li>Configure a caching-only server</li></p>

<p><li>Manage and monitor DNS servers</li></p>
</ul>



<p><b>Estimated lesson time: 15 minutes</b></p>
</blockquote></div></p>

<A NAME="340"><H2>Overview of DNS Servers and Caching</H2></A>

<p>As DNS servers process client queries using recursion or iteration, they discover and acquire a significant store of information about the DNS name space. The server then caches this information. Caching provides a way to speed the performance of DNS resolution for subsequent queries of popular names while substantially reducing DNS-related query traffic on the network.</p>

<p>As DNS servers make recursive queries on behalf of clients, they temporarily cache resource records. Cached resource records contain information obtained from DNS servers that are authoritative for DNS domain names learned while making iterative queries to search and fully answer a recursive query performed on behalf of a client. Later, when other clients place new queries that request 
resource record information matching cached resource records, the DNS server can use the cached resource record information to answer them.</p>

<p>When information is cached, a Time to Live (TTL) value applies to all cached resource records. As long as the TTL for a cached resource record does not 
expire, a DNS server can continue to cache and use the resource record again when answering queries by its clients that match these resource records. Caching TTL values used by resource records in most zone configurations are assigned the minimum (default) TTL, which is set in the zone's SOA resource record. By default, the minimum TTL is 3600 seconds (1 hour), but can be adjusted or, if needed, individual caching TTLs can be set at each resource record.</p>

<A NAME="341"><H2>Implementing a Caching-Only Server</H2></A>

<p>Although all DNS name servers cache queries that they have resolved, caching-only servers are DNS name servers that only perform queries, cache the answers, and return the results. They are not authoritative for any domains and the information that they contain is limited to what has been cached while resolving queries. The benefit provided by caching-only servers is that they do not generate zone transfer network traffic because they do not contain any zones. However, there is one disadvantage: When the server is initially started, it has no cached information and must build up this information over time as it services requests.</p>

<p><li><b>To install a caching-only DNS server</b></li></p>

<ol>
<p><li>Install the DNS Server service on the computer.</li></p>


<p>It is strongly recommended that, when operating the computer as a DNS server, you manually configure TCP/IP and use a static IP address.</p>


<p><li>Do not configure the DNS server to load any zones.</li></p>


<p>A caching-only DNS server can be valuable at a site where DNS functionality is needed locally but it is not administratively desirable to create a separate domain or zone for that location. Caching-only DNS servers do not host any zones and are not authoritative for a particular domain. They are DNS servers that build a local server cache of names learned while performing recursive queries on behalf of their clients. This information is then available from its cache when answering subsequent client queries.</p>


<p><li>Verify that server root hints are configured or updated correctly.</li></p>
</ol>

<p>When a DNS server starts, it needs a list of root server &quot;hints.&quot; These hints 
are name server (NS) and address (A) records for the root servers, which have 
historically been called the cache file.</p>

<p>You can configure root hints by clicking the Root Hints tab in the Properties 
dialog box for the DNS server in the DNS administrative console. The Root Hints tab is illustrated in Figure 8.4.</p>


<p>
<img src="images/08ntk04.JPG" width=404 height=448 border="0">
</p><p>
<!-- caption --><b>Figure 8.4</b> <i>Root Hints tab on the DNS server's Properties dialog box</i><!-- /caption -->
</p>

<A NAME="342"><H2>Monitoring DNS Server Performance</H2></A>

<p>Because DNS servers are of critical importance in most environments, monitoring their performance can provide a useful benchmark for predicting, estimating, and optimizing DNS server performance. In addition, you can quickly identify 
degraded server performance either over time or during periods of peak activity. Windows 2000 Server provides a set of DNS server performance counters that can be used with System Monitor to measure and monitor various aspects of server activity.</p>

<p>
<img src="images/practic.JPG" width=90 height=72 border="0">
</p>

<A NAME="343"><H2>Practice: Testing a Simple Query on a DNS Server</H2></A>

<p>In this practice, you will use the DNS administrative console to test a query on your DNS server.</p>

<p><li><b>To test a query on your DNS server</b></li></p>

<ol>
<p><li>Click Start, point to Programs, point to Administrative Tools, then click DNS.</li></p>

<p><li>In the console tree, right-click the DNS server, then click Properties.</li></p>

<p><li>Click the Monitoring tab, illustrated in Figure 8.5.</li></p>

<p><li>Select the A Simple Query Against This DNS Server check box.</li></p>

<p><li>Click Test Now.</li></p>


<p>Results of the query test appear in Test Results.</p>

<p><li>Click OK to close the DNS server's Properties dialog box.</li></p>



<p>
<img src="images/08ntk05.JPG" width=404 height=448 border="0">
</p><p>
<!-- caption --><b>Figure 8.5</b> <i>The Monitoring tab in the DNS server's Properties dialog box</i><!-- /caption -->
</p>

</ol>

<A NAME="344"><H3>DNS Server Performance Counters</H3></A>

<p>Windows 2000 Server provides a set of DNS server performance counters that can be used to measure and monitor various aspects of server activity, such as 
the following:</p>

<ul>
<p><li>Overall DNS server performance statistics, such as the number of overall queries and responses processed by a DNS server</li></p>

<p><li>User Datagram Protocol (UDP) or Transmission Control Protocol (TCP) counters, for measuring DNS queries and responses that are processed using either of these transport protocols, respectively</li></p>

<p><li>Dynamic update and secure dynamic update counters, for measuring registration and update activity generated by dynamic clients</li></p>

<p><li>Memory usage counters, for measuring system memory usage and memory allocation patterns created by operating the server computer as a Windows 2000 DNS server</li></p>

<p><li>Recursive lookup counters, for measuring queries and responses when the DNS Server service uses recursion to look up and fully resolve DNS names on behalf of requesting clients</li></p>

<p><li>Windows Internet Name Service (WINS) lookup counters, for measuring queries and responses made to WINS servers when the WINS lookup integration features of the DNS Server service are used</li></p>

<p><li>Zone transfer counters, including specific counters for measuring all-zone transfer (AXFR), incremental zone transfer (IXFR), and DNS zone update notification activity.</li></p>
</ul>



<A NAME="345"><H3>Managing DNS Servers Remotely</H3></A>

<p>DNS is an Internet and TCP/IP standard name service that enables a server running the DNS service to enable client computers on your network to register and resolve DNS domain names. These names can be used to find and access resources offered by other computers on the Internet. With Windows 2000 Administration Tools, included on the Windows 2000 Server and Windows 2000 Advanced Server compact disc sets, you can manage a server remotely from any computer that is running Windows 2000.</p>

<p>Windows 2000 Administration Tools contains Microsoft Management Console (MMC) snap-ins and other administrative tools that are used to manage computers running Windows 2000 Server and that are not provided with Windows 2000 Professional. Once Windows 2000 Administration Tools is installed on a computer, an administrator can open the server administrative tools and begin managing a remote server from that computer.</p>

<A NAME="346"><H2>Lesson Summary</H2></A>

<p>Although all DNS name servers cache queries that they have resolved, caching-only servers are DNS name servers that only perform queries, cache the answers, and return the results. The benefit provided by caching-only servers is that they do not generate zone transfer network traffic because they do not contain any zones. Windows 2000 Server provides a set of DNS server performance counters that can be used with System Monitor to measure and monitor various aspects of server activity. You can use the Monitoring tab in the DNS server's Properties 
dialog box in the DNS administrative console to perform tests on the DNS server. You can also use the Windows 2000 Administration Tools to manage a server 
remotely from any computer that is running Windows 2000.</p>

</BODY>
</HTML>





