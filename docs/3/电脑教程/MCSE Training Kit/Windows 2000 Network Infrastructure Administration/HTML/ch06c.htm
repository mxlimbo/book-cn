<HTML>
<HEAD>
<TITLE>Lesson 2: Host Names</TITLE>
<link rel="STYLESHEET" type="text/css" href="mmnet.css">

<SCRIPT LANGUAGE="JavaScript"><!-- 
function fullSize(sURL){window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}
--></SCRIPT>
</HEAD>
<BODY BGCOLOR="#ffffff" TEXT="#000000">
<A HREF="ch06b.htm">[Previous]</A> <A HREF="ch06d.htm">[Next]</A><P>



<A NAME="253"><H1>Lesson 2: Host Names</H1></A>

<p>A host name simplifies the way a host is referenced because names are easier 
for people to remember than IP addresses. Host names are used in virtually all TCP/IP environments. This lesson describes how host name resolution works.</p>

<p><div class="sidebar"><blockquote>
<b>After this lesson, you will be able to</b>

<ul>
<p><li>Explain how the HOSTS file resolves a host name to an IP address</li></p>

<p><li>Explain how a host name is resolved to an IP address using a DNS server and Microsoft-supported methods</li></p>
</ul>

<p><b>Estimated lesson time: 20 minutes</b></p>
</blockquote></div></p>

<A NAME="254"><H2>Understanding Host Names</H2></A>

<p>A host name is an alias assigned to an IP node to identify it as a TCP/IP host. The host name can be up to 255 characters long and can contain alphabetic and numeric characters and the &quot;-&quot; and &quot;.&quot; characters. Multiple host names can be assigned to the same host. For computers running Windows 2000, the host name does not have to match the Windows 2000 computer name.</p>

<p>Windows Sockets (WinSock) applications, such as Microsoft Internet Explorer and the File Transfer Protocol (FTP) utility, can use one of two values for the destination to be connected: the IP address or a host name. When the IP address is specified, name resolution is not needed. When a host name is specified, the host name must be resolved to an IP address before IP-based communication with the desired resource can begin.</p>

<p>Host names can take various forms. The two most common forms are a nickname and a domain name. A nickname is an alias to an IP address that individual people can assign and use. A domain name is a structured name that follows Internet conventions.</p>

<A NAME="255"><H2>Purpose of Host Names</H2></A>

<p>A host name is an alias assigned to a computer by an administrator to identify 
a TCP/IP host. The host name does not have to match the NetBIOS computer name, and can be a 255-character alphanumeric value. Multiple host names can be assigned to the same host.</p>

<p>A host name simplifies the way a user references other TCP/IP hosts. Host names are easier to remember than IP addresses. In fact, a host name can be used in place of an IP address when using PING or other TCP/IP applications.</p>

<p>A host name always corresponds to an IP address that is stored in a HOSTS file or in a database on a DNS server. Windows clients can translate between host names and NetBIOS names in many cases, allowing a WINS server or the LMHOSTS file to perform resolution for a host name.</p>

<p>The hostname utility will display the host name assigned to your system. By default, the host name is the computer name of your computer running Windows 2000.</p>

<A NAME="256"><H2>Host Name Resolution</H2></A>

<p>Host name resolution is the process of mapping a host name to an IP address. 
Before the IP address can be resolved to a hardware address, the host name must be resolved to an IP address.</p>

<p>Windows 2000 can resolve host names using several methods including:</p>

<ul>
<p><li><b>NetBIOS name resolution.</b> NetBIOS defines a session-level interface and a session management/data transport protocol. NetBIOS uses name registration, name release, and name discovery for interacting with NetBIOS hosts. NetBIOS name resolution is the process of mapping a computer's NetBIOS name to an IP address. There are several methods available for resolving NetBIOS names, each depending on your network configuration. The methods are NetBIOS name cache, NetBIOS name server, local broadcast, LMHOSTS file, HOSTS file, and DNS.</li></p>

<p><li><b>Resolving names with a HOSTS file.</b> The HOSTS file is a text file stored locally on a system that contains host names and associated IP addresses. The HOSTS file is discussed in more detail in the next lesson.</li></p>

<p><li><b>Resolving names with a DNS server.</b> A DNS server is a centralized online database that is used in IP networks to resolve fully qualified domain names (FQDNs) and other host names to IP addresses. Windows 2000 can use a DNS server and provides DNS server service. DNS is explained in <A HREF="ch07a.htm">Chapter 7</A>, &quot;Implementing Domain Name System (DNS).&quot;</li></p>
</ul>



<p>Microsoft TCP/IP can use any of the methods shown in Tables 6.1 and 6.2 to 
resolve host names. The methods that Windows 2000 can use to resolve a host name are configurable.</p>

<p><b>Table 6.1</b> <i>Standard Host Name Resolution Methods</i></p>

<p><table cellpadding=5 width="95%"><tr>
<th>Standard Methods of Resolution</th> <th>Description</th>
</tr><tr>
<td valign="top">Local host name</td> <td valign="top">The configured host name for the computer. This name is compared to the destination host name.</td>
</tr><tr>
<td valign="top">HOSTS file</td> <td valign="top">A local text file in the same format as the 4.3 Berkeley Software Distribution UNIX\Etc\HOSTS file. This file maps host names to IP addresses. This file is typically used to resolve host names for TCP/IP applications.</td>
</tr><tr>
<td valign="top">DNS server</td> <td valign="top">A server that maintains a database of IP address/computer name (host name) mappings.</td>
</tr></table></p>

<p><B>Table 6.2</B> <I>Microsoft Host Name Resolution Methods</i></p>

<p><table cellpadding=5 width="95%"><tr>
<th>Microsoft Methods of Resolution</th> <th>Description</th>
</tr><tr>
<td valign="top">NetBIOS Name Server</td> <td valign="top">A server implemented under Requests for 
Comment (RFCs) 1001 and 1002 to provide name resolution of NetBIOS computer names. The Microsoft implementation of this is WINS.</td>
</tr><tr>
<td valign="top">Local broadcast</td> <td valign="top">A broadcast on the local network for the IP 
address of the destination NetBIOS name.</td>
</tr><tr>
<td valign="top">LMHOSTS file</td> <td valign="top">A local text file that maps IP addresses to the NetBIOS computer names of Windows hosts.</td>
</tr></table></p>

<A NAME="257"><H3>NetBIOS Name Resolution</H3></A>

<p>A NetBIOS name is a unique, 16-byte address used to identify a NetBIOS resource on the network. The NetBIOS name resolution process converts a NetBIOS name to an IP address. An example of a process that uses a NetBIOS name is the File and Printer Sharing for Microsoft Networks service on a computer running 
Windows 2000. When your computer starts, File and Printer Sharing for Microsoft Networks registers a unique NetBIOS name based on the name of your computer. Computers running Microsoft TCP/IP can use local broadcast name resolution, which is a NetBIOS-over-TCP/IP mode of operation. This method relies on a computer making IP-level broadcasts to register its name by announcing it on the network. Each computer in the broadcast area is responsible for challenging 
attempts to register a duplicate name and for responding to name queries for its registered name.</p>

<A NAME="258"><H3>Resolving Names with a Hosts File</H3></A>

<p>As shown in Figure 6.1, the process of resolving a host name using the HOSTS file is as follows:</p>

<ol>
<p><li>Name resolution begins when a user calls a WinSock-based application referencing a host name rather than an IP address.</li></p>

<p><li>Windows 2000 checks to see if the host name is the same as the local host name. If the two names are different, the HOSTS file is parsed. If the host name is found in the HOSTS file, it is resolved to an IP address.</li></p>

<p>If the host name cannot be resolved and no other resolution methods&#8212;such as DNS, a NetBIOS name server, or the LMHOSTS file&#8212;are configured, the 
process stops and the user receives an error message.</p>

<p><li>After the host name is resolved to an IP address, an attempt is made to resolve the destination host's IP address to its hardware address.</li></p>

<p>If the destination host is on the local network, ARP obtains its hardware 
address by consulting the ARP cache or by broadcasting the destination host's IP address. </p>

<p>If the destination host is on a remote network, ARP obtains the hardware 
address of a router and the request is routed to the destination host.</p>
</ol>


<p>
<A HREF="javascript:fullSize('06ntk01x.htm')"> <img src="images/06ntk01.JPG" width=404 height=167 border=0 ALT="Click to view at full size."> </A>
</p><p>
<!-- caption --><b>Figure 6.1</b> <i>Resolving a destination host's IP address to its hardware address</i><!-- /caption -->
</p>

<A NAME="259"><H3>Resolving Names with a DNS Server</H3></A>

<p>A DNS server is a centralized online database that is used in IP networks to 
resolve host names to IP addresses. Windows 2000 can act as a DNS client and the Windows 2000 Server family provides DNS server services. Resolving a 
domain name using a DNS server is very similar to using a HOSTS file.</p>

<p>If Windows 2000 is configured to resolve host names using a DNS server, it uses two steps to resolve a host name, as shown in the following process and illustrated in Figure 6.2:</p>

<ol>
<p><li>When a user types a command using an FQDN or a host name, the process for resolving the name using the HOSTS file is followed first. If the IP address cannot be resolved using the HOSTS file, a request is sent to the DNS server to look up the name in its database and resolve it to an IP address.</li></p>

<p>If the DNS server does not respond to the request, additional attempts are made at intervals of 1, 2, 2, and 4 seconds. If the DNS server does not 
respond to these five attempts, and there are no other resolution methods 
configured such as a NetBIOS name server or LMHOSTS, the process stops and an error is reported.</p>

<p><li>After the host name is resolved, ARP obtains the hardware address. If the destination host is on the local network, ARP obtains its hardware address by consulting the ARP cache or by broadcasting the IP address. If the destination host is on a remote network, ARP obtains the hardware address of a router that can deliver the request.</li></p>

<p>If the DNS server is on a remote network, ARP must obtain the hardware 
address of a router before the name can be resolved.</p>
</ol>
<p>
<A HREF="javascript:fullSize('06ntk02x.htm')"> <img src="images/06ntk02.JPG" width=404 height=190 border=0 ALT="Click to view at full size."> </A>
</p><p>
<!-- caption --><b>Figure 6.2</b> <i>Resolving a host name with a DNS server</i><!-- /caption -->
</p>

<A NAME="260"><H3>Microsoft Methods of Resolving Host Names</H3></A>

<p>Windows 2000 can be configured to resolve host names using a NetBIOS name server, broadcast, and LMHOSTS in addition to the HOSTS file and DNS server. If one of these methods fails, the other methods provide a backup, as shown in the following example and illustrated in Figure 6.3. If WINS and LMHOSTS are configured, the order of resolution is as follows:</p>

<ol>
<p><li>When a user types a command referencing a host name, Windows 2000 checks to see if the host name is the same as the local host name. If they are the same, the name is resolved and the command is carried out without generating network activity.</li></p>

<p><li>If the host name and local host name are not the same, the HOSTS file is parsed. If the host name is found in the HOSTS file, it is resolved to an IP address and address resolution occurs.</li></p>

<p><li>If the host name cannot be resolved using the HOSTS file, the source host sends a request to its configured domain name servers. If the host name is found by a DNS server, it is resolved to an IP address and address resolution occurs.</li></p>
<p>If the DNS server does not respond to the request, additional attempts are made at intervals of 1, 2, 2, and 4 seconds.</p>

<p><li>If the DNS server cannot resolve the host name, the source host checks its local NetBIOS name cache before it makes three attempts to contact its configured NetBIOS name servers. If the host name is found in the NetBIOS name cache or by a NetBIOS name server, it is resolved to an IP address and address resolution occurs.</li></p>

<p><li>If the host name is not resolved by the NetBIOS name server, the source host generates three broadcast messages on the local network. If the host name is found on the local network, it is resolved to an IP address and address resolution occurs.</li></p>

<p><li>If the host name is not resolved using broadcasts, the local LMHOSTS file is parsed. If the host name is found in the LMHOSTS file, it is resolved to an IP address and address resolution occurs.</li></p>
<p>If none of these methods resolves the host name, the only way to communicate with the other host is to specify the IP address.</p>
</ol>


<p>
<A HREF="javascript:fullSize('06ntk03x.htm')"> <img src="images/06ntk03.JPG" width=404 height=251 border=0 ALT="Click to view at full size."> </A>
</p><p>
<!-- caption --><b>Figure 6.3</b> <i>Backup methods for resolving host names</i><!-- /caption -->
</p>

<A NAME="261"><H2>Lesson Summary</H2></A>

<p>A host name is used to identify a TCP/IP host or default gateway. Host name resolution is the process of mapping a host name to an IP address. This is 
necessary before ARP can resolve the IP address to a hardware address.</p>

</BODY>
</HTML>





