<HTML>
<HEAD>
<TITLE>Lesson 1: TCP/IP Overview</TITLE>
<link rel="STYLESHEET" type="text/css" href="mmnet.css">

<SCRIPT LANGUAGE="JavaScript"><!-- 
function fullSize(sURL){window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}
--></SCRIPT>
</HEAD>
<BODY BGCOLOR="#ffffff" TEXT="#000000">
<A HREF="ch02a.htm">[Previous]</A> <A HREF="ch02c.htm">[Next]</A><P>



<A NAME="72"><H1>Lesson 1: TCP/IP Overview</H1></A>

<p>Transmission Control Protocol/Internet Protocol (TCP/IP) is an industry-standard suite of protocols designed for wide area networks (WANs). Microsoft 
Windows 2000 has extensive support for TCP/IP both as a protocol suite and a set of services for connectivity and management of IP networks. This lesson 
includes an overview of TCP/IP concepts, terminology, and how the Internet standards are created. You will also learn how Windows 2000 integrates with TCP/IP.</p>

<p><div class="sidebar"><blockquote><b>After this lesson, you will be able to</b>

<ul>
<p><li>Define TCP/IP and describe its advantages on Windows 2000</li></p>

<p><li>Describe how the TCP/IP protocol suite maps to a four-layer model</li></p>

<p><li>Describe how Transmission Control Protocol (TCP) and User Datagram Protocol (UDP) transmit data</li></p>
</ul>



<p><b>Estimated lesson time: 45 minutes</b></p>
</blockquote></div>
</p>

<A NAME="73"><H2>Benefits of TCP/IP</H2></A>

<p>All modern operating systems offer TCP/IP support, and most large networks rely on TCP/IP for much of their network traffic. TCP/IP is also the protocol standard for the Internet. In addition, many standard connectivity utilities are available to access and transfer data between dissimilar systems. Several of these standard utilities, such as File Transfer Protocol (FTP) and Telnet, are included with Windows 2000 Server. TCP/IP networks can be easily integrated with the Internet. Because of its popularity, TCP/IP is well developed and offers many utilities that improve usability, performance, and security. Networks that are based on other transport protocols, such as ATM or AppleTalk, can interface with TCP/IP networks through a device known as a gateway. Adding TCP/IP to a Windows 2000 configuration offers the following advantages:</p>

<ul>
<p><li>It offers a technology for connecting dissimilar systems. TCP/IP is routable and can be connected to different networks through gateways.</li></p>

<p><li>It allows for a robust, scalable, cross-platform client/server framework. Microsoft TCP/IP offers the WinSock interface, which is ideal for developing client/server applications that can run on WinSock-compliant stacks from other vendors.</li></p>

<p><li>It provides a method of gaining access to the Internet. By connecting to the Internet, a virtual private network (VPN) or extranet can be established, allowing for inexpensive remote access.</li></p>

</ul>



<p>In addition, Macintosh clients can now use the TCP/IP protocol to access shares on a Windows 2000 server that is running File Services for Macintosh (AFP [AppleShare File Server] over IP), making it easier to network with Macintosh computers.</p>

<A NAME="74"><H3>Windows 2000 TCP/IP Communication Protocols</H3></A>

<p>A significant feature of Windows 2000 is the ability to connect to the Internet and to dissimilar systems. Windows 2000 also includes advanced security 
features that can be implemented when connecting to a system across a network. In order to support all of these features, Windows 2000 TCP/IP has new and 
enhanced capabilities. These include:</p>

<ul>
<p><li><b>IP Security.</b> IP Security (IPSec) is a technology used to encrypt TCP/IP network traffic. IPSec enables secure data transfer between remote clients and private enterprise servers through a virtual private network (VPN).</li></p>

<p><li><b>Point-to-Point Tunneling Protocol.</b> The Point-to-Point Tunneling Protocol (PPTP) provides VPN functionality similar to that which IPSec provides. PPTP also supports multiple network protocols such as IP, Internetwork Packet Exchange (IPX), and NetBIOS Enhanced User Interface (NetBEUI).</li></p>

<p><li><b>Layer Two Tunneling Protocol.</b> The Layer Two Tunneling Protocol (L2TP) is a combination of Point-to-Point Tunneling Protocol (PPTP) and Layer 2 Forwarding (L2F). L2F is a transmission protocol that allows dial-up access servers to frame dial-up traffic in Point to Point Protocol (PPP) and transmit it over WAN links to an L2F server (a router).</li></p>
</ul>



<p>Finally, Microsoft continues to support legacy systems and protocols to preserve the past investments of its customers and reduce the risk, pressure, and financial burden of managing heterogeneous environments. For this reason Windows 2000 supports</p>

<ul>
<p><li>AppleTalk</li></p>

<p><li>Internetwork Packet Exchange/Sequenced Packet Exchange (IPX/SPX)</li></p>

<p><li>NetBEUI</li></p>
</ul>



<p>These protocols assist in the maintenance of heterogeneous environments and facilitate the migration to a richer, more flexible Windows 2000-based TCP/IP transport protocol platform.</p>

<A NAME="75"><H3>TCP/IP Stack Enhancements</H3></A>

<p>Windows 2000 includes several TCP/IP stack enhancements, including:</p>

<ul>
<p><li>Large window support that improves performance when many packets are in transit for long periods of time.</li></p>

<p><li>Selective acknowledgments that allow a system to recover from congestion quickly. The sender needs to retransmit only the packets that were not received.</li></p>

<p><li>The ability to better estimate round-trip time.</li></p>

<p><li>The ability to better prioritize traffic for demanding applications.</li></p>
</ul>



<A NAME="76"><H3>TCP/IP Utilities</H3></A>

<p>TCP/IP utilities in Windows 2000 include:</p>

<ul>
<p><li><b>Data transfer utilities.</b> Windows 2000 provides support for several different IP-based data transfer protocols. These include File Transfer Protocol (FTP), HyperText Transfer Protocol (HTTP), and the Common Internet File System (CIFS).</li></p>

<p><li><b>Telnet.</b> UNIX hosts have traditionally been managed using Telnet&#8212;a text interface similar to a command prompt that can be accessed across an IP network. Windows 2000 provides both a Telnet client and server.</li></p>


<p><li><b>Printing utilities.</b> Windows 2000 can print directly to IP-based printers. Additionally, two TCP/IP utilities provide the ability to print and obtain print status on a TCP/IP printer. Line Printer Remote (LPR) prints a file to a host running the Line Printing Daemon (LPD) service. Line Printer Queue (LPQ) obtains the status of a print queue on a host running the LPD service.</li></p>

<p><li><b>Diagnostics utilities.</b> Windows 2000 provides several utilities for diagnosing TCP/IP-related problems including PING, Ipconfig, Nslookup, and Tracert.</li></p>
</ul>



<A NAME="77"><H2>Architectural Overview of the TCP/IP Protocol Suite</H2></A>

<p>TCP/IP protocols provide networking support to connect all hosts and sites, and follow a set of standards for how computers communicate and how networks are interconnected. TCP/IP protocols follow a four-layer conceptual model known as the Department of Defense (DOD) model: Application, Transport, Internet, and Network Interface, as illustrated in Figure 2.1.</p>

<p>
<A HREF="javascript:fullSize('02ntk01x.htm')"> <img src="images/02ntk01.JPG" width=404 height=288 border=0 ALT="Click to view at full size."> </A>
</p><p>
<!-- caption --><b>Figure 2.1</b> <i>Four-layer conceptual model</i><!-- /caption -->
</p>

<A NAME="78"><H3>Application Layer</H3></A>

<p>The Application layer is at the top of the four-layer conceptual TCP/IP model, and is where software programs gain access to the network. This layer corresponds roughly to the Session, Presentation, and Application Layers of the OSI model. Some TCP/IP utilities and services run at the Application Layer. These utilities and services include:</p>

<ul>
<p><li><b>HyperText Transfer Protocol (HTTP).</b> HTTP is the protocol used for the majority of World Wide Web communications. Windows 2000 includes Internet Explorer as an HTTP client, and Internet Information Server (IIS) as an HTTP server.</li></p>

<p><li><b>File Transfer Protocol (FTP).</b> FTP is an Internet service that transfers files from one computer to another. Internet Explorer and the command-line utility FTP both act as FTP clients. IIS includes an FTP server.</li></p>

<p><li><b>Simple Mail Transfer Protocol (SMTP).</b> SMTP is a protocol that mail servers use to transfer e-mail. IIS can send messages using the SMTP protocol.</li></p>

<p><li><b>Telnet.</b> Telnet is a terminal emulation protocol that can be used to log on to remote network hosts. Telnet offers users the capability of running programs remotely and facilitates remote administration. Telnet is available for practically all operating systems and eases integration in heterogeneous networking environments. Windows 2000 includes both a Telnet client and server.</li></p>

<p><li><b>Domain Name System (DNS).</b> DNS is a set of protocols and services on a TCP/IP network that allows users of the network to utilize hierarchical user-friendly names when locating hosts instead of having to remember and use their IP addresses. DNS is used extensively on the Internet and in many private enterprises today. When you use a Web browser, Telnet application, FTP utility, or other similar TCP/IP utilities on the Internet, then you are probably using a DNS server. Windows 2000 also includes a DNS server.</li></p>

<p><li><b>Simple Network Management Protocol (SNMP).</b> SNMP allows you to manage network nodes such as servers, workstations, routers, bridges, and hubs from a central host. SNMP can also be used to configure remote devices, monitor network performance, detect network faults or inappropriate access, and audit network usage.</li></p>
</ul>



<p><b>Network Application APIs</b></p>

<p>Microsoft TCP/IP provides two interfaces for network applications to use the 
services of the TCP/IP protocol stack:</p>

<ul>
<p><li><b>WinSock.</b> The Windows 2000 implementation of the widely used Sockets application programming interface (API). The Sockets API is the standard mechanism for accessing datagram and session services over TCP/IP.</li></p>

<p><li><b>NetBIOS.</b> A standard API used as an inter-process communication (IPC) mechanism in the Windows environment. Although NetBIOS can be used to provide a standard connection to protocols that support the NetBIOS naming and messaging services, such as TCP/IP and NetBEUI, it is included with Windows 2000 mainly to support legacy applications.</li></p>
</ul>



<A NAME="79"><H3>Transport Layer</H3></A>

<p>Transport protocols provide communication sessions between computers and 
define the type of transport service as either connection-oriented (TCP) or connectionless datagram-oriented (UDP). TCP provides connection-oriented, 
reliable communications for applications that typically transfer large amounts of data at one time. It is also used for applications that require an acknowledgment for data received. UDP, however, provides connectionless communications and does not guarantee to deliver packets. Applications that use UDP typically transfer small amounts of data at one time. Reliable delivery of data is the responsibility of the application. The Transport Layer in the DOD model corresponds roughly to the Transport Layer in the OSI model.</p>

<A NAME="80"><H3>Internet Layer</H3></A>

<p>Internet protocols encapsulate packets into Internet datagrams and run all of 
the necessary routing algorithms. The routing functions that the Internet layer performs is necessary to allow hosts to interoperate with other networks. The Internet Layer corresponds roughly to the Network Layer in the OSI model. Five protocols are implemented at this layer:</p>

<ul>
<p><li>Address Resolution Protocol (ARP), which determines the hardware address of the hosts.</li></p>

<p><li>Reverse Address Resolution Protocol (RARP), which provides reverse address resolution at the receiving host. (Although Microsoft does not implement the RARP protocol, it is found on other vendors' systems, and is mentioned here for completeness.)</li></p>

<p><li>Internet Control Message Protocol (ICMP), which sends error messages to IP when problems crop up.</li></p>

<p><li>Internet Group Management Protocol (IGMP), which informs routers of the availability of members of multicast groups.</li></p>

<p><li>Internet Protocol (IP), which addresses and routes packets.</li></p>
</ul>



<A NAME="81"><H3>Network Interface Layer</H3></A>

<p>At the base of the model is the Network Interface Layer. Each of the local area network (LAN), metropolitan area network (MAN), WAN, and dial-up types, such as Ethernet, Token Ring, Fiber Distributed Data Interface (FDDI), and ARCnet, have different requirements for cables, signaling, and data encoding. The Network Interface Layer specifies the requirements equivalent to the Data Link and Physical Layers of the OSI model. The Network Interface Layer is 
responsible for sending and receiving frames, which are packets of information transmitted on a network as a single unit. The Network Interface Layer puts frames on the network, and pulls frames off the network.</p>

<A NAME="82"><H3>TCP/IP WAN Technologies</H3></A>

<p>There are two major categories of WAN technologies supported by TCP/IP:</p>

<ol>
<p><li>Serial lines, which include dial-up analog, digital lines, and leased lines.</li></p>


<p>TCP/IP is typically transported across a serial line using either the Serial Line Internet Protocol (SLIP) or the Point-to-Point Protocol (PPP). Windows 2000 Server supports both protocols with the Routing and Remote Access Service. Because PPP provides greater security, configuration handling, and error 
detection than SLIP, it is the recommended protocol for serial line communication.</p>


<p><li>Packet-switched networks, which include X.25, frame relay, and asynchronous transfer mode (ATM).</li></p>
</ol>

<p><div class="note"><blockquote><b>NOTE</b><HR>Windows 2000 supports only SLIP client functionality, not SLIP server functionality. The Windows 2000 Routing and Remote Access Service does not accept SLIP client connections.</blockquote></div>
</p>

<A NAME="83"><H2>Transmission Control Protocol</H2></A>

<p>Transmission Control Protocol (TCP) is a reliable, connection-oriented delivery service. TCP data is transmitted in segments, and a session must be established before hosts can exchange data. TCP uses byte-stream communications, which means that the data is treated as a sequence of bytes.</p>

<p>TCP achieves reliability by assigning a sequence number to each segment transmitted. If a segment is broken into smaller pieces, the receiving host knows whether all pieces have been received. An acknowledgment verifies that the other host received the data. For each segment sent, the receiving host must return an acknowledgment (ACK) within a specified period. If the sender does not receive an ACK, then the data is retransmitted. If the segment is received damaged, the receiving host discards it. Because in this case an ACK is not sent, the sender 
retransmits the segment.</p>

<A NAME="84"><H2>Internet Protocol (IP)</H2></A>

<p>Although TCP separates data into discrete packets and is responsible for guaranteeing their delivery, IP does the actual delivery. At the IP Layer, each incoming or outgoing packet is referred to as a datagram. The IP datagram fields in the 
following table are added to the header when a packet is passed up from the 
Network Interface Layer.</p>

<p>
<table cellpadding=5 width="95%">
<tr> 
<th>Field  </th>
<th>Function  </th></tr>
<tr>
<td valign="top">Source IP Address  </td>
<td valign="top">Identifies the sender of the datagram by the IP address.  </td></tr>
<tr>
<td valign="top">Destination IP Address  </td>
<td valign="top">Identifies the destination of the datagram by the IP address.  </td></tr>
<tr>
<td valign="top">Protocol  </td>
<td valign="top">Informs IP at the destination host whether to pass the packet up to TCP or UDP.  </td></tr>
<tr>
<td valign="top">Checksum  </td>
<td valign="top">A simple mathematical computation that is used to verify that the packet arrived intact.  </td></tr>
<tr>
<td valign="top">Time to Live (TTL)  </td>
<td valign="top">Designates the number of seconds a datagram is allowed to spend in transport before it's discarded. This prevents packets from endlessly looping around an internetwork. Each router that forwards the packet decrements the TTL by one. The default TTL in Windows 2000 is 128 seconds.  </td></tr>
</table></p>



<A NAME="85"><H2>User Datagram Protocol</H2></A>

<p>UDP offers a connectionless datagram service that guarantees neither delivery nor correct sequencing of delivered packets. UDP data checksums are optional, providing a way to exchange data over highly reliable networks without unnecessarily consuming network resources or processing time. UDP is used by applications that do not require an acknowledgment of data receipt. These applications typically transmit small amounts of data at one time. Broadcast packets must use UDP. 
Examples of services and applications that use UDP are DNS, RIP, and SNMP.</p>

<A NAME="86"><H2>Lesson Summary</H2></A>

<p>TCP/IP is an industry-standard suite of protocols designed for WANs. Adding TCP/IP to a Windows 2000 configuration offers several advantages, including high interoperability, reliability, scalability, and security. Windows 2000 supplies a number of utilities that can help you connect to other TCP/IP-based hosts or help you troubleshoot TCP/IP connection problems.</p>

<p>TCP/IP protocols use a four-layer conceptual model: Application, Transport, Internet, and Network Interface. IP works at the Internet level and supports virtually all LAN and WAN interface technologies, such as Ethernet, Token Ring, Frame Relay, and ATM. IP is a connectionless protocol that addresses and routes packets between hosts. IP is unreliable because delivery is not guaranteed.</p>

<p>At the Transport Layer, TCP provides IP with reliable, connection-oriented 
delivery. Once a session is established, TCP delivers data through unique port numbers to applications. UDP, an alternative transport protocol to TCP, is a connectionless datagram service that does not guarantee delivery of packets. It is used by applications that do not require an acknowledgment of data receipt.</p>

</BODY>
</HTML>





