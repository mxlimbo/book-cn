<HTML>
<HEAD>
<TITLE>Lesson 2: Administering User Accounts</TITLE>
<link rel="STYLESHEET" type="text/css" href="mmserver.css">

<SCRIPT LANGUAGE="JavaScript"><!-- 
function fullSize(sURL){window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}
--></SCRIPT>
</HEAD>
<SCRIPT LANGUAGE="JavaScript">
<!--

function fullSize(sURL){
	window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}

function LibraryHeaderNav(sBackward, sForward, sImgLeftOff, sImgLeftOn, sImgRightOff, sImgRightOn, iH, iW, sImgLeftStyle, sImgRightStyle, sImgRuleStyle, sRuleColor, sRuleSize){
	var tableStr;
	//validate questionable args for defs
	tableStr = "<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 border=0 width=100%>";
	tableStr += "<TR VALIGN=top ALIGN=right>";

	tableStr += "<TD align=right class=" + sImgRuleStyle + ">&nbsp;</TD>";	
	
	tableStr += "<TD width=34 align=right class=" + sImgLeftStyle + ">";
	tableStr += "<A href='" + sBackward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgLeftOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgLeftOff + '\'\"';
	tableStr += " SRC='" + sImgLeftOff + "' vspace=0 hspace=0></a></TD>";
	
	tableStr += "<TD width=34 align=left class=" + sImgRightStyle + ">";
	tableStr += "<A href='" + sForward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgRightOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgRightOff + '\'\"';
	tableStr += " SRC='" + sImgRightOff + "' vspace=0 hspace=0></a></TD></TR>";

	tableStr += "<TR VALIGN=top>";
	tableStr += "<TD height=3 align=center colspan=3 class=" + sImgRuleStyle + ">";
	tableStr += "<HR color=" + sRuleColor + " size=" + sRuleSize + "></TD></TR></TABLE>";
	//alert(tableStr);
	document.write(tableStr);
}

 																						     //purple is: #aa22aa   orange is: #ff9900
LibraryHeaderNav("ch07b.htm", "ch07d.htm", "images/unit_p_a1.gif", "images/unit_p_a2.gif", "images/unit_p_b1.gif", "images/unit_p_b2.gif", 18, 34, "unit01", "unit02", "headerrule", "#aa22aa", "2");
//--></SCRIPT><P>
<A NAME="302"><h1>Lesson 2: Administering User Accounts</h1></A>
<p>User accounts must be created to give users the ability to log on to a domain to access network resources or to log on to a computer to access resources on that computer. A <i>user account</i> is a user's unique credentials. It is a record that defines a user to Windows 2000. This includes the user name and password, if required, for the user to log on, the groups the user account has membership in, and the rights and permissions the user has for using the computer and network and for accessing resources. Each person who regularly uses the network is assigned a user account.</p>

<p>
<div class="sidebar"><blockquote>
<b>After this lesson, you will be able to</b> 

<ul>
<p><li>Describe the role and purpose of user accounts</li></p>

<p><li>Plan and create user accounts</li></p>

<p><li>Administer user accounts, including setting account properties</li></p>
</ul>

<b>Estimated lesson time: 60 minutes</b> 
</blockquote></div>
</p>

<A NAME="303"><h2>Windows 2000 User Accounts</h2></A>
<p>A user account provides a user with the ability to log on to the domain to gain access to network resources or to log on to a computer to gain access to resources on that computer. Each person who regularly uses the network should have a user account.</p>

<p>Windows 2000 supports two types of user accounts: domain and local. With a domain user account, a user can log on to the domain to gain access to network resources. With a local user account, a user can log on to a specific computer to gain access to resources on that computer.</p>

<p>Windows 2000 also provides built-in user accounts, which are used to perform administrative tasks or to gain access to network resources.</p>

<A NAME="304"><h3>Domain User Accounts</h3></A>
<p>Domain user accounts allow users to log on to the domain and gain access to resources anywhere on the network. The user provides his or her password and user name during the logon process. By using this information, Windows 2000 authenticates the user and then builds an access token that contains information about the user and security settings. The access token identifies the user to computers running Windows 2000 on which the user tries to gain access to resources. Windows 2000 provides the access token for the duration of the logon session.</p>

<p>You create a domain user account in an organizational unit (OU) in a replica of the Active Directory store (called the directory) on a domain controller. The domain controller replicates the new user account information to all domain controllers in the domain.</p>

<p>After Windows 2000 replicates the new user account information, all the domain controllers in the domain tree can authenticate the user during the logon process.</p>

<p>
<div class="note"><blockquote><b>NOTE</b> <hr>
It can take a few minutes to replicate the domain user account information to all the domain controllers. This delay might prevent a user from immediately logging on by using the newly created domain user account. Replication of Active Directory information within a site (intrasite replication) occurs automatically every five minutes.</blockquote></div>
</p>

<A NAME="305"><h3>Local User Accounts</h3></A>
<p>Local user accounts allow users to log on to and gain access to resources on only the computer where you create the local user account. When you create a local user account, Windows 2000 creates the account in that computer's security database only. Windows 2000 does not replicate local user account information to domain controllers. After the local user account is created, the computer uses its local security database to authenticate the local user account, which allows the user to log on to that computer.</p>

<A NAME="306"><h3>Built-In User Accounts</h3></A>
<p>Windows 2000 automatically creates accounts called built-in accounts. Two commonly used built-in accounts are Administrator and Guest. The operating system will not allow built-in accounts to be deleted or the built-in Administrator account to be disabled. However, built-in accounts can be renamed.</p>

<p><b>Administrator</b></p>

<p>Use the built-in Administrator account to manage the overall computer and domain configuration, such as creating and modifying user accounts and groups, managing security policies, creating printers, and assigning permissions and rights to user accounts to gain access to resources.</p>

<p>If you are the administrator, you should create a user account that you use to perform nonadministrative tasks. Use the Administrator account only when you perform administrative tasks. For convenience, use the run as command to run in the context of a more privileged account while logged on with a lesser privileged account. For example, to run MMC as an administrator while logged on with standard user rights, run the following command:</p>

<p><table cellpadding=5 width="95%"><tr><td>
<pre>runas user:&lt;domain_name&gt;\&lt;administrator_account&gt; mmc</pre>
</td></tr></table>
</p>

<p>If the Administrator account in the microsoft.com domain is named Administrator, the following command can be used to start the MMC as Administrator:</p>

<p><table cellpadding=5 width="95%"><tr><td>
<pre>runas /user:microsoft\administrator mmc</pre>
</td></tr></table>
</p>

<p>
<div class="tip"><blockquote><b>TIP</b><hr>
Rename the built-in Administrator account to provide a greater degree of security. Use a name that does not identify it as the Administrator account. This makes it difficult for unauthorized users to break into the Administrator account because they do not know which user account it is. For additional security, after you rename the built-in Administrator account, create another account named Administrator that has no rights to the system. This will frustrate a hacker's attempt to use the Administrator account to access the system.</blockquote></div>
</p>

<p><b>Guest</b></p>

<p>Use the built-in Guest account to give occasional users the ability to log on and gain access to resources. For example, an employee who needs access to resources for a short time can use the Guest account.</p>

<p>
<div class="note"><blockquote><b>NOTE</b> <hr>
The Guest account is disabled by default. Enable the Guest account only in low-security networks and always assign it a password.</blockquote></div>
</p>

<A NAME="307"><h2>Planning New User Accounts</h2></A>
<p>You can streamline the process of creating user accounts by planning and organizing the information for the user accounts. You should plan the following three areas:</p>

<ul>
<p><li>Naming conventions for user accounts</li></p>

<p><li>Requirements for passwords</li></p>

<p><li>Account options, such as logon hours, the computers from which users can log on, and account expiration</li></p>
</ul>

<A NAME="308"><h3>Naming Conventions</h3></A>
<p>The naming convention establishes how users are identified in the domain. A consistent naming convention will help you and your users remember user logon names and locate them in lists.</p>

<p>The following table summarizes several points to consider in determining a naming convention for your organization:</p>

<p>
<table cellpadding=5 width="95%">
<tr> 
<th>Consideration  </th>
<th>Explanation  </th></tr>
<tr>
<td valign="top">Unique user logon names </td>
<td valign="top">User logon names for domain user accounts must be unique  to the Directory. Domain user account names must be unique within the OU where you create the domain user account. Local user account names must be unique on the computer where you create the local user account.  </td></tr>
<tr>
<td valign="top">20 characters maximum </td>
<td valign="top">User logon names can contain up to 20 uppercase or  lowercase characters; the field accepts more than 20 characters, but Windows 2000 recognizes only the first 20.  </td></tr>
<tr>
<td valign="top">Invalid characters  </td>
<td valign="top">The following characters are invalid: &quot; / \ [ ] : ; | = , + * ? &lt; &gt;  </td></tr>
<tr>
<td valign="top">User logon names are not case sensitive</td>
<td valign="top">You can use a combination of special and alphanumeric  characters to help uniquely identify user accounts. User  logon names are not case sensitive, but Windows 2000 preserves the case.  </td></tr>
<tr>
<td valign="top">Employees with duplicate names </td>
<td valign="top">If two users are named John Doe, you can use the first name  and the last initial and then add letters from the last name to differentiate the duplicate names. In this example, one user account logon name could be Johnd and the other Johndo. Another possibility would be to number each useR logon name, for example, Johnd1 and Johnd2.  </td></tr>
<tr>
<td valign="top">Type of employee </td>
<td valign="top">In some organizations, it is useful to identify temporary employees by their user account. For example, to identify temporary employees, you can use a T and a dash in front of the user's logon name: T-Johnd. Or you might use a parenthetical phrase, such as John Doe (Temp).  </td></tr>
<tr>
<td valign="top">Service account naming conventions </td>
<td valign="top">Many background services require user accounts in order to  operate. Consider appending the name of the user account with  an abbreviated generic name such as svc for service or a service type name such as exc for a background account used by Microsoft Exchange services.  </td></tr>
</table></p>

<A NAME="309"><h3>Password Requirements</h3></A>
<p>To protect access to the domain or a computer, every user account should have a password. Consider the following guidelines for passwords:</p>

<ul>
<p><li>Always assign a password for the Administrator account to prevent unauthorized access to the account.</li></p>

<p><li>Determine whether the administrator or the users will control passwords. You can assign unique passwords for the user accounts and prevent users from changing them, or you can allow users to enter their own passwords the first time they log on. In most cases, users should control their passwords.</li></p>

<p><li>Use passwords that are hard to guess. For example, avoid using passwords with an obvious association, such as a family member's name.</li></p>

<p><li>Passwords can be up to 128 characters; a minimum length of eight characters is recommended.</li></p>

<p><li>Use both uppercase and lowercase letters, numerals, and valid nonalphanumeric characters. The table above lists the invalid nonalphanumeric characters.</li></p>
</ul>

<A NAME="310"><h3>Account Options</h3></A>
<p>You should assess the hours when a user can log on to the network and the computers from which a user can log on, and you should determine if temporary user accounts need to expire. To determine account options, consider the following information.</p>

<p><b>Logon Hours</b></p>

<p>Set logon hours to control when a user can log on to the domain. Restricting logon hours limits the hours that users can explore the network. By default, Windows 2000 permits access for all hours on all days. You might want to allow users to log on only during working hours. Setting logon hours reduces the amount of time that the account is open to unauthorized access.</p>

<p><b>Computers from Which Users Can Log On</b></p>

<p>Determine the computers that users can log on from. By default, users can log on to the domain by using any computer in the domain. For security, require users to log on to the domain only from their own computers. This prevents users from gaining access to sensitive information stored on other computers.</p>

<p>
<div class="note"><blockquote><b>NOTE</b> <hr>
If you have disabled NetBIOS over Transmission Control Protocol/Internet Protocol (TCP/IP), Windows 2000 is unable to determine which computer you are logging on from, and therefore you cannot restrict users to specific computers. This is because this feature restricts access by computer name rather than Message Authentication Code address.</blockquote></div>
</p>

<p><b>Account Expiration</b></p>

<p>Determine whether a user account should expire. If so, set an expiration date on the user account to ensure that the account is disabled when the user should no longer have access to the network. As a good security practice, you should set user accounts for temporary employees to expire when their contract ends.</p>

<A NAME="311"><h2>Creating User Accounts</h2></A>
<p>You can create two types of user accounts: domain and local.</p>

<A NAME="312"><h3>Creating Domain User Accounts</h3></A>
<p>Use the Active Directory Users And Computers snap-in to create a new domain user account. When you create a domain user account, it is always created on the first available domain controller contacted by MMC, and then the account is replicated to all domain controllers.</p>

<p>
<div class="tip"><blockquote><b>TIP</b><hr>
You can rapidly create many user accounts by creating and running scripts through the Windows Script Host (WSH). For information on WSH, open Windows 2000 Server Help and locate the book titled <i>Automating Administrative Tasks</i> and the chapter titled &quot;Windows Script Host.&quot;</blockquote></div>
</p>

<p><b>Active Directory Users And Computers Snap-In</b></p>

<p>The Active Directory Users And Computers snap-in allows you to create domain user accounts (Figure 7.4).</p>

<p>
<A HREF="javascript:fullSize('f07xx04x.htm')"> <img src="images/f07xx04.jpg" border=0 ALT = "Click to view at full size."> </A>
</p><p>
<!--caption--><b>Figure 7.4</b> <i>The Active Directory Users And Computers snap-in showing how to navigate to the New Object - User dialog box</i><!--/caption-->
</p>

<p>You must select the OU to create the new account in. You can create the domain user account in the default Users OU or in an OU or in OUs that you create to hold domain user accounts.</p>

<p>To create a domain user account, open the Active Directory Users And Computers snap-in and select the Users OU. In the Action menu, point to New and then point to Users (Figure 7.4). Enter the user information in the New Object - User dialog box.</p>

<p>When you create the domain user account, User Logon Name defaults to the domain in which you are creating the domain user account, as shown in Figure 7.4. However, you can select any domain in which you have permissions to create domain user accounts.</p>

<p>The following table describes the domain user account options:</p>

<p>
<table cellpadding=5 width="95%">
<tr> 
<th>Option  </th>
<th>Description  </th></tr>
<tr>
<td valign="top">First Name  </td>
<td valign="top">The user's first name. This or Last Name is required.  </td></tr>
<tr>
<td valign="top">Last Name  </td>
<td valign="top">The user's last name. This or First Name is required.  </td></tr>
<tr>
<td valign="top">Full Name  </td>
<td valign="top">The user's full name. Windows 2000 completes this option if you enter information in First Name or Last Name. Windows 2000 displays this name in the OU where the user account is located in the Directory.  </td></tr>
<tr>
<td valign="top">User Logon Name  </td>
<td valign="top">The user's unique logon name, based on your naming conventions. This is required and must be unique within the directory.  </td></tr>
<tr>
<td valign="top">User Logon Name (pre-Windows 2000)  </td>
<td valign="top">The user's unique logon name used to log on from down-level clients, such as Windows NT 4.0 or Windows NT 3.51. This is required and must be unique within the domain.  </td></tr>
</table></p>


<p><b>Setting Password Requirements</b></p>

<p>When you are adding a new user account, you can enter a password for the user. In the New Object - User dialog box, click Next to open a second New Object - User dialog box. This screen contains password settings. In this dialog box, you set the password requirements for the domain user account. You do not have to enter a password for the user. If you don't enter a password, the user will be able to log on to the domain without a password.</p>

<p>The following table describes the password options:</p>

<p>
<table cellpadding=5 width="95%">
<tr> 
<th>Option  </th>
<th>Description  </th></tr>
<tr>
<td valign="top">Password  </td>
<td valign="top">The password used to authenticate the user. For greater security, you should always assign a password. Notice that you do not see the password. It is represented as asterisks when you type it.  </td></tr>
<tr>
<td valign="top">Confirm Password   </td>
<td valign="top">Confirm the password by typing it a second time to make sure you typed it correctly. This is required if you assign a password.  </td></tr>
<tr>
<td valign="top">User Must Change Password At Next Logon</td>
<td valign="top">Select this check box if you want the user to change his or  her password the first time he or she logs on. This ensures  that the user is the only person who knows the password.  </td></tr>
<tr>
<td valign="top">User Cannot Change Password </td>
<td valign="top">Select this check box if you have more than one person using  the same domain user account (such as Guest) or to maintain control over user account passwords. This feature is commonly used for background service account password control.  </td></tr>
<tr>
<td valign="top">Password Never Expires  </td>
<td valign="top">Select this check box if the password should never change, for example, for a domain user account that will be used by a program or a Windows 2000 service. The Password Never Expires setting overrides the User Must Change Password At Next Logon setting. If both check boxes are selected, Windows 2000 will automatically clear the User Must Change Password At Next Logon check box.  </td></tr>
<tr>
<td valign="top">Account Is Disabled  </td>
<td valign="top">Select this check box to prevent use of this user account, for example, for a new employee who has not yet started.  </td></tr>
</table></p>


<p>
<div class="note"><blockquote><b>NOTE</b> <hr>
Always require new users to change their passwords the first time they log on. This will force users to use passwords that only they know. For added security on networks, create random initial passwords for all new user accounts by combining letters and numbers. Creating a random initial password will help keep the user account secure.</blockquote></div>
</p>

<p>
<img src="images/practic.JPG" border="0">
</p>

<A NAME="313"><h3>Exercise 2: Modifying Domain User Account Properties</h3></A>
<p>In Exercise 5, Procedure 1 of the <a href="ch06a.htm">previous chapter</a>, you created three user accounts. In this exercise, you use the Active Directory Users And Computers snap-in to manipulate the properties of the Jane_Doe, John_Smith, and Bob_Train user accounts. Complete all the procedures in the exercise from Server01.</p>

<p><li> <b>Procedure 1: Manipulating user accounts</b></li></p>

<p>In this procedure, you modify user account properties. You configure the Logon Hours, Account Expiration, and password restriction settings for several of the user accounts that you created in the <a href="ch06a.htm">previous chapter</a>. You add these user accounts to the Print Operators group so that the accounts can log on locally to the domain controller. You then test the Logon Hours restrictions, the password restrictions, and the Account Expiration Settings.</p>

<ol>
<p><li>Log on to Server01 as Administrator with a password of &quot;password.&quot;</li></p>

<p><li>Click Start, point to programs, point to Administrative Tools, and then click Active Directory Users And Computers.</li></p>

<p>The Active Directory Users And Computers snap-in appears.</p>

<p><li>Expand the microsoft.com node in the left pane.</li></p>

<p>The console tree appears.</p>

<p><li>Select the Users folder.</li></p>

<p><li>In the details pane, double-click the Bob Train user.</li></p>


<p>The Bob Train Properties dialog box appears with the General tab active.</p>

<p>Notice that on the General tab, you specify a number of user account properties in addition to first and last name. Text box values like Office and Telephone Number are especially useful for locating users.</p>


<p><li>Click the Account tab, and then click Logon Hours.</li></p>


<p>The Logon Hours For Bob Train dialog box appears.</p>

<p>Notice that Bob is permitted to logon at any time.</p>


<p><li>To restrict Bob's logon hours, click the start time of the first period during which you want to prevent the user from logging on and then drag the pointer to the end time for the period. For this procedure, locate the current day and hour of the day and deny logon for the next three hours.</li></p>
</ol>

<p>
<div class="warning"><blockquote><b>IMPORTANT</b><hr>
You must complete this entire exercise in the next three hours for this account restriction to work properly. Otherwise, extend the account restriction to the time when you plan to complete the exercise.</blockquote></div>
</p>

<ol>
<p>A frame outlines the blocks for all the selected hours, and the time restriction appears in the bottom left of the Logon Hours For Bob Train dialog box.</p>


<p><li value="8">Click the Logon Denied radio button.</li></p>


<p>The outlined area is now a white block, indicating that the user will not be permitted to log on during those hours.</p>
</ol>

<p>
<div class="tip"><blockquote><b>TIP</b><hr>
To select the same block of time for all days in the week, in the row labeled All click the gray block that represents the start time, and then drag the pointer to the end time. To select an entire day, click the gray block that is labeled with the name of day.</blockquote></div>
</p>

<ol>
<p><li value="9">Click OK to close the Logon Hours For Bob Train dialog box.</li></p>

<p><li>In the Bob Train Properties dialog box, click OK to apply your settings.</li></p>

<p><li>In the details pane, double-click John Smith.</li></p>

<p>The John Smith Properties dialog box appears with the General tab active.</p>

<p><li>Click the Account tab.</li></p>

<p><li>When will the account expire?</li></p>
<p><a href="chaaa.htm#874">Answer</a></p>
<p><li>In the Account expires section, click the End Of radio button and then set the date to today's date.</li></p>

<p><li>Click OK to apply your changes.</li></p>

<p><li>Click the Sales folder in the console tree.</li></p>

<p>The Jane Doe account appears in the details pane.</p>

<p><li>Double click the Jane Doe account.</li></p>

<p>The Jane Doe Properties dialog box appears with the General tab active.</p>

<p><li>Click the Account tab.</li></p>

<p><li>In the Account options box, click the User Must Change Password At Next Logon check box.</li></p>

<p><li>Click OK to close the Jane Doe Properties dialog box.</li></p>

<p><li>Close the Active Directory Users And Computers snap-in.</li></p>

<p><li>Click Start and then click Shut Down.</li></p>

<p>The Shut Down Windows dialog box appears.</p>

<p><li>Select Log Off Administrator from the drop-down list box, and click OK.</li></p>

<p>Windows 2000 logs off the Administrator account and displays the Welcome To Windows message box.</p>

<p><li>Press Ctrl+Alt+Delete, and continue to Procedure 2.</li></p>
</ol>

<p><li> <b>Procedure 2: Attempting to log on to Server01 with a user account</b></li></p>

<p>In this procedure, you attempt to use the Jane Doe (Jane_Doe) user account to log on to Server01.</p>

<ol>
<p><li>In the User Name text box, log on as Jane_Doe with no password.</li></p>

<p>The Logon Message message box appears, indicating that your password has expired and must be changed.</p>

<p><li>Click OK.</li></p>

<p>The Change Password dialog box appears, and the cursor is in the Old Password text box.</p>

<p><li>Press the tab key since the Jane_Doe account was not assigned a password.</li></p>

<p><li>In the New Password text box and the Confirm New Password text box, type <b>student</b> and then click OK.</li></p>

<p>The Change Password message box appears, indicating that your password was changed.</p>

<p><li>Click OK to close the Change Password message box.</li></p>

<p>Were you able to log on successfully? Why or why not?</p>
<p><a href="chaaa.htm#874">Answer</a></p>
<p><li>Click OK to close the message box.</li></p>
</ol>

<p><li> <b>Procedure 3: Granting local logon access to user accounts</b></li></p>

<p>There are several ways to allow regular users to log on locally at a domain controller. In this procedure, you add the three users you created in the <a href="ch06a.htm">previous chapter</a> to the Print Operators group, because this group has the right to log on to a domain controller.</p>

<p>
<div class="note"><blockquote><b>NOTE</b> <hr>
A group is a collection of user accounts. Groups simplify administration by allowing you to assign permissions to a group of users rather than having to assign permissions to each individual user account. You will learn more about groups later in this chapter.</blockquote></div>
</p>

<ol>
<p><li>Log on as Administrator with a password of &quot;password.&quot;</li></p>

<p><li>Open Active Directory Users And Computers, and in the console tree, expand the Sales OU.</li></p>

<p><li>In the details pane, double-click the Jane Doe user account.</li></p>

<p>The Jane Doe Properties dialog box appears with the General tab active.</p>

<p><li>Click the Member Of tab.</li></p>

<p><li>Click Add.</li></p>

<p>The Select Groups dialog box appears.</p>

<p><li>Scroll down in the top box to locate and click Print Operators.</li></p>

<p><li>Click Add, and then click OK to close the Select Groups dialog box.</li></p>

<p><li>Click OK to close the Jane Doe Properties dialog box.</li></p>

<p>In the next steps, you will use a simpler method to add both the Bob Train and John Smith accounts to the Print Operators group.</p>

<p><li>In the console tree, click the Users folder.</li></p>

<p><li>In the details pane, click once on Bob Train, press and hold down the Ctrl key, and click once on John Smith.</li></p>

<p><li>Click the Action menu, and then click Add Members To Group.</li></p>

<p>The Select Group dialog box appears.</p>

<p><li>Scroll down to locate and double-click Print Operators.</li></p>

<p>An Active Directory message box appears stating that the Add To Group operation completed successfully.</p>

<p><li>Click OK.</li></p>

<p><li>Close Active Directory Users And Computers and log off.</li></p>

<p><li>Attempt to log on as Jane_Doe with a password of &quot;student.&quot;</li></p>

<p>Notice that you are now able to log on locally with the Jane_Doe user account.</p>

<p><li>Attempt to log on as Bob_Train with no password.</li></p>

<p>Notice that you were not able to log on because of an account restriction. In Procedure 1 you restricted Bob's logon hours.</p>

<p><li>Attempt to log on as John_Smith with no password.</li></p>

<p>Notice that you are allowed to logon as the John_Smith user account. In Procedure 1 you set John's account expiration to the end of the day. If you try to log on as John Smith tomorrow, logon will fail because of an account restriction.</p>

<p><li>Log off of Server01.</li></p>
</ol>

<A NAME="314"><h3>Creating Local User Accounts</h3></A>
<p>A local user account allows a user to log on and access resources only on the computer for which you create the account. Use the Local Users And Groups snap-in to create local user accounts (Figure 7.5).</p>

<p>
<A HREF="javascript:fullSize('f07xx05x.htm')"> <img src="images/f07xx05.jpg" border=0 ALT = "Click to view at full size."> </A>
</p><p>
<!--caption--><b>Figure 7.5</b> <i>The Local Users And Groups snap-in and the New User dialog box</i><!--/caption-->
</p>

<p>You can create local user accounts only on computers running Windows 2000 Professional and on stand-alone servers or member servers running Windows 2000 Server. Local user accounts are not stored in the directory for the domain; they are stored in the security database of the computer where you create them.</p>

<A NAME="315"><h2>Modifying Properties for User Accounts</h2></A>
<p>A set of default properties is associated with each domain user account and local user account created. Domain user accounts contain more properties than local user accounts. Local user account properties represent a subset of domain user account properties.</p>

<p>Properties that are defined for a domain user account can be used to search for users in the Active Directory store. For this reason, detailed property definitions for domain user accounts should be used. For example, a user knows a person's first name and telephone number and wants to find the person's last name. The user can use the telephone number to search for the last name.</p>

<p>The following properties should be configured for each domain user account based on the business requirements of each user:</p>

<ul>
<p><li>Personal properties, including General, Address, Telephones, and organization properties</li></p>

<p><li>Account properties</li></p>

<p><li>Logon Hours properties</li></p>

<p><li>Log On To properties</li></p>
</ul>

<p>One way to modify a domain user account is to open the Active Directory Users And Computers snap-in and double-click the user object whose properties you want to modify.</p>

<p>One way to modify a local user account is to open the Computer Management snap-in and select Local Users And Groups. Double-click the user object whose properties you want to modify.</p>

<A NAME="316"><h3>The Properties Dialog Box</h3></A>
<p>The Properties dialog box for each user account contains a set of tabs that allows users to configure various properties for a specific user. All the tabs described below apply to domain user accounts. Only the General, Dial-In, Member Of, and Profile tabs apply to local user accounts.</p>

<p><b>Personal Properties Tabs</b></p>

<p>The personal properties tabs include the General, Address, Telephones, and Organization tabs. Completing the attributes on each of these tabs enables users and administrators to locate other users in Active Directory services.</p>

<p>The following table describes the personal properties tabs:</p>

<p>
<table cellpadding=5 width="95%">
<tr> 
<th>Tab  </th>
<th>Description  </th></tr>
<tr>
<td valign="top">General  </td>
<td valign="top">Use this tab to document the user's name, description, office location, telephone, e-mail name, and home page information.  </td></tr>
<tr>
<td valign="top">Address  </td>
<td valign="top">Use this tab to document the user's street address, post office box, city, state or province, zip code, and country.  </td></tr>
<tr>
<td valign="top">Telephones  </td>
<td valign="top">Use this tab to document the user's home, pager, mobile, fax, and IP telephone numbers, and to add comments.  </td></tr>
<tr>
<td valign="top">Organization  </td>
<td valign="top">Use this tab to document the user's title, department, company manager, and direct reports.  </td></tr>
</table></p>


<p><b>Account Tab</b></p>

<p>The Account tab allows you to define a user's logon name and set other account options for the user account. Some of these options were set as default when the user object was created in the Active Directory store. You can modify these properties as well as configure the additional properties.</p>

<p><b>Profile Tab</b></p>

<p>User profiles automatically create and maintain the desktop settings for each user's work environment on the local computer. The Profile tab allows you to set a path to the network share where the user profiles are to be stored. In addition, you can assign a logon script and home folder for the user account.</p>

<p><b>Published Certificates Tab</b></p>

<p>A <i>certificate</i> is a collection of data used for authentication and secure exchange of information on nonsecured networks, such as the Internet. A certificate securely binds a public encryption key to the entity that holds the corresponding private encryption key. The Published Certificates tab allows you to create a list of X.509 certificates for the user account.</p>

<p><b>Member Of Tab</b></p>

<p>Groups are used to consolidate administrative tasks. For example, assign NTFS permissions to a group and then add users to the group. Each group member is affected by the rights assignment. The Member Of tab allows you to document the groups the user belongs to.</p>

<p><b>Dial-In Tab</b></p>

<p>The Dial-In tab allows you to control how a user can make a dial-in connection to the network from a remote location. To gain access to the network, the user dials in to a computer running the Windows 2000 Remote Access Service (RAS).</p>

<p>
<div class="note"><blockquote><b>NOTE</b> <hr>
In addition to configuring dial-in settings and having RAS on the server the user is dialing in to, you must also set up a dial-up connection for the server on the client computer. Set up a dial-up connection by using the Network Connection wizard, which you can access from Network Connections in My Computer.</blockquote></div>
</p>

<p>The following table describes the required options for setting up security for a dial-up connection:</p>

<p>
<table cellpadding=5 width="95%">
<tr> 
<th>Option  </th>
<th>Description  </th></tr>
<tr>
<td valign="top">Allow Access   </td>
<td valign="top">Specifies whether to enable dial-in settings.  </td></tr>
<tr>
<td valign="top">Deny Access  </td>
<td valign="top">Specifies whether to disable dial-in settings.  </td></tr>
<tr>
<td valign="top">Verify Caller-ID  </td>
<td valign="top">The telephone number that the user must dial in to.  </td></tr>
<tr>
<td valign="top">No Callback  </td>
<td valign="top">Specifies that the RAS server will not call the user back. This allows a user to call from any phone number. This is the default and is designed for a low-security environment or where other dial-in security methods are implemented.  </td></tr>
<tr>
<td valign="top">Set By Caller (Routing and Remote Access Service only)</td>
<td valign="top">Specifies that the user provide the telephone number for  the RAS server to call back. This allows a user to call from  any phone number, and the RAS server calls the user back. This calling information can be logged. Use this feature for a medium-security environment.  </td></tr>
<tr>
<td valign="top">Always Callback To  </td>
<td valign="top">Specifies that the RAS server calls back the user. The RAS server uses the specified telephone number. The user must be at the specified telephone number to make a connection to the server. This reduces the risk of an unauthorized person dialing in because the number is preconfigured. Use this option in a high-security environment.  </td></tr>
</table></p>


<p><b>Object Tab</b></p>

<p>The Object tab provides the fully qualified domain name of the object. It also provides additional information, such as the object class, the create and modified dates, the original Unique Sequence Number (USN), and the current USN. The USNs are used to track changes to objects in the Active Directory store.</p>

<p><b>Security Tab</b></p>

<p>The Security tab is used to set permissions on the user object in the Active Directory store. You can allow or deny specific permissions to groups or users within the domain. You can also configure advanced permissions, and you can allow or prevent the inheritance of permissions from the parent object to the user object in the Active Directory tree.</p>

<p><b>Terminal Services Tabs</b></p>

<p>The Terminal Services tabs contain information about the user that is specific to Terminal Services. Terminal Services allows a user to log on from a computer terminal and run a Windows 2000 session on the terminal. The information on the Terminal Services tabs includes when users can log on, under what conditions, and how specific desktop settings are stored. The Terminal Services tabs are the Environment, Sessions, Remote Control, and Terminal Services Profile tabs.</p>

<p><b>Environment Tab</b></p>

<p>The Environment tab contains settings for creating the client working environment. If a starting program is specified, it opens automatically whenever the user connects to a Terminal server. It is the only application that can be used by the user. When the application is closed, the connection to the Terminal server closes.</p>

<p>You can also set the user account so that Terminal Services can automatically connect local client drives and printers at logon. When the client logs on to the server, the local drives and printers are detected and the appropriate printer driver is installed on the Terminal server. If multiple printers are connected, you can also default all print jobs to the main client printer.</p>

<p><b>Sessions Tab</b></p>

<p>The Sessions tab of the Terminal Services extension provides settings for limiting the length of sessions based on their current state (active, idle, or disconnected). You can also specify what action to take when a session has reached a time limit.</p>

<p>The following table describes several options on the Sessions tab:</p>

<p>
<table cellpadding=5 width="95%">
<tr> 
<th>Time-out setting  </th>
<th>Description  </th></tr>
<tr>
<td valign="top">End A Disconnected Session  </td>
<td valign="top">Specifies the maximum duration that a disconnected session is retained. The session will be reset and can no longer be reconnected once the time limit has expired.  </td></tr>
<tr>
<td valign="top">Active Session Limit  </td>
<td valign="top">Specifies the maximum connection duration. When the time limit is reached, the session will be either disconnected, leaving the session active on the server, or reset.  </td></tr>
<tr>
<td valign="top">Idle Session Limit  </td>
<td valign="top">Specifies the maximum idle time (time without connection activity) allowed before the session is disconnected or reset. The session is disconnected or reset when the interval elapses without any activity at the connection.  </td></tr>
</table></p>


<p><b>Remote Control Tab</b></p>

<p>The Remote Control tab allows you to configure Terminal Services' remote control settings. You can monitor the actions of a client logged on to a Terminal server by using remote control from another session. Remote control allows you to either observe or actively control a client session. If you choose to actively control a client session, you will be able to input keyboard and mouse actions to the session. You can warn a client that you want to remotely control the session by choosing to display a message on the client that asks permission to view or take part in the session. You can use either Local Users And Groups (for local users) or Active Directory Users And Computers (for domain users) to enable remote control for a user account.</p>

<p>
<div class="note"><blockquote><b>NOTE</b> <hr>
This feature does not allow you to run remote control for non-terminal connections. Tools like Systems Management Server (SMS) provide a remote control facility to access network connected computers running Windows.</blockquote></div>
</p>

<p><b>Terminal Services Profile Tab</b></p>

<p>The Terminal Services Profile tab allows you to assign a profile to a user to apply to Terminal sessions. Administrators can then create user profiles tailored to the Terminal Services environment. The Terminal Services profile can be used to restrict access to applications by removing them from the user's Start menu. Administrators can also create and store network connections to printers and other resources for use during user sessions.</p>

<p>You can specify a path to a home directory to be used for Terminal sessions. This directory can be either a local directory or a network share. You can also specify whether a user has access to Terminal Services. If the Allow Logon To Terminal Server option is left disabled, the user is not allowed to log on to any Terminal servers.</p>

<A NAME="317"><h2>Administering User Accounts</h2></A>
<p>Administering user accounts goes beyond creating user accounts for new users. It involves modifying user accounts as well as setting up user profiles and home directories. This section explains how to perform each of these tasks.</p>

<A NAME="318"><h3>Managing User Profiles</h3></A>
<p>A user profile is a collection of folders and data that stores your current desktop environment and application settings as well as personal data. A user profile also contains all the network connections that are established when logging on to a computer, such as Start menu items and mapped drives to network servers. User profiles maintain consistency in your desktop environment by providing the same desktop environment you had the last time you logged on to the computer.</p>

<p>Windows 2000 creates a local user profile the first time you log on at a computer. After logging on for the first time, Windows 2000 stores the user profile on that computer.</p>

<p>User profiles operate in the following manner:</p>

<ul>
<p><li>When you log on to a client computer running Windows 2000, you always receive your individual desktop settings and connections, regardless of how many users share your computer.</li></p>

<p><li>The first time you log on to a client computer running Windows 2000, Windows 2000 copies the local Default User folder profile to the %systemdrive%\Documents and Settings\&lt;<i>user_logon_name</i>&gt; folder (typically C:\Documents and Settings\&lt;<i>user_logon_name</i>&gt;), where <i>user_logon_name</i> is your Windows 2000 user account name.</li></p>

<p><li>If the computer where you are logging on was updated from Windows 95 or Windows 98 with profiles enabled or from Windows NT to Windows 2000 Professional, the profile folder remains in %systemroot%\profiles rather than being created in the Documents And Settings folder.</li></p>

<p><li>A user profile folder contains many files and folders for storing user information. For example, the My Documents folder provides a place to store personal files. My Documents is the default location for the File Open and Save As application commands. By default, Windows 2000 creates a My Documents icon on the desktop. This makes it easier to locate your personal documents.</li></p>
</ul>

<p>
<div class="note"><blockquote><b>NOTE</b> <hr>
You can change the target directory for My Documents by accessing the properties of the My Documents icon on the desktop.</blockquote></div>
</p>

<ul>
<p><li>The simplest way to modify your user profile is by changing desktop settings, for example, when you establish a new network connection or add a file to My Documents. Then when you log off, Windows 2000 incorporates the changes into your profile. The next time you log on, the new network connection and the file are present.</li></p>
</ul>

<p>
<div class="note"><blockquote><b>NOTE</b> <hr>
You should have users store their documents in My Documents rather than in home directories. Windows 2000 automatically sets up My Documents, and it is the default location for storing data for Microsoft applications. Using folder redirection and offline folders, which you will learn about later, My Documents can be set to a network location and made available to users whether or not they are connected to the network.</blockquote></div>
</p>

<p><b>Roaming User Profiles</b></p>

<p>To support users who work at multiple computers, you can set up roaming user profiles (RUPs). A <i>roaming user profile</i> is one that you set up on a network server so that the profile is available to you no matter where you log on in the domain. When a user logs on, Windows 2000 copies the roaming user profile from the network server to the client computer running Windows 2000 at which the user logs on. Consequently, the user always receives his or her individual desktop settings and connections. This is in contrast to a local user profile, which resides on one client computer only.</p>

<p>When a user logs on, Windows 2000 applies the roaming user profile settings to that computer. The first time that a user logs on at a computer, Windows 2000 copies all documents to the local computer. Thereafter, when the user logs on to the computer, Windows 2000 compares the locally stored user profile files and the RUP files. It copies only the files that have changed since the last time the user logged on at the computer. Since Windows 2000 only copies the files that have changed, the logon process is shorter.</p>

<p>When a user logs off, Windows 2000 copies changes that were made to the local copy of the RUP back to the server where it is stored.</p>

<p><b>Creating Customized Roaming User Profiles</b></p>

<p>You can also customize and assign a preconfigured RUP that you assign to all user accounts, as well as make roaming user profiles read-only. You can create a customized RUP by configuring the desktop environment for the user and then copying the customized profile to the user's RUP location.</p>

<p>You use customized RUPs for the following reasons:</p>

<ul>
<p><li>To provide users with the work environment they need to perform their jobs and to remove connections and applications that the user does not require.</li></p>


<p><li>To provide a standard desktop environment for multiple users with similar job responsibilities. These users require the same network resources.</li></p>

<p><li>To simplify troubleshooting. Technical support would know the exact baseline setup of the desktops and could easily find a deviation or a problem.</li></p>
</ul>

<p>
<div class="note"><blockquote><b>NOTE</b> <hr>
You can customize local user profiles, but this is not recommended. Customizing local user profiles is inefficient because they reside only on the client computer the user logs on to. Therefore, you would have to customize the user profile at each client computer a user logs on to.</blockquote></div>
</p>

<p><b>Using Mandatory Profiles</b></p>

<p>A mandatory profile is a read-only RUP. When the user logs off, Windows 2000 does not save any changes the user made during the session. The next time the user logs on, the profile is the same as the last time he or she logged on.</p>

<p>You can assign one mandatory profile to multiple users who require the same desktop settings, such as bank tellers. This means that by changing one profile, you change the desktop environment for several users.</p>

<p>A hidden file in the profile called Ntuser.dat contains that section of the Windows 2000 system settings that applies to the individual user account and contains the user environment settings, such as desktop appearance. This is the file you make read-only by changing its name to Ntuser.man.</p>

<p><b>Setting Up a Roaming User Profile</b></p>

<p>When you set up an RUP on a server, the next time that the user logs on to a computer in the domain, Windows 2000 copies the local user profile to the RUP path on the server. When the user logs on thereafter, the RUP copies the profile from the server to the computer.</p>

<p>You should set up RUPs on a file server that you frequently back up so that you have copies of the RUPs. To improve logon performance for a busy network, place the RUP folders on a member server rather than on a domain controller. Copying RUPs between the server and client computers can use a lot of system resources, such as bandwidth and computer processing. If the profiles are on the domain controller, this can delay the authentication of users by the domain controller.</p>

<p>
<div class="tip"><blockquote><b>TIP</b><hr>
To further improve performance and profile availability, consider configuring a Domain Dfs root for user profiles and configuring FRS so that the profiles are replicated to multiple available locations on the network.</blockquote></div>
</p>

<p>To set up an RUP, you must create a shared folder on a server and use a path with the following format: \\&lt;<i>server</i>&gt;\&lt;<i>share</i>&gt;. Use an intuitive name for the shared folder, such as Profiles. On the Profile tab in the Properties dialog box for the user account, provide the path to the shared folder in the Profile Path box (\\&lt;<i>server</i>&gt;\&lt;<i>share</i>&gt;\&lt;<i>logon_name</i>&gt;).</p>

<p>You can type the variable %username% instead of the user's logon name. When you use this variable, Windows 2000 automatically replaces the variable with the user account name for the RUP.</p>

<p><b>Assigning a Customized Roaming User Profile</b></p>

<p>You can customize an RUP and assign it to multiple users, who will then have the same settings and connections when they log on. Before you can customize and assign an RUP, you must first create a user profile template, which contains the customized desktop settings that you want the users to have. A template is created by configuring a desktop exactly as you want it to appear for the users who will be assigned this profile. No special tools are required to create this template.</p>

<p>After you have created your user profile template, log on as Administrator and copy the user profile template to an RUP folder on the server. This folder must be accessible to all users who will be assigned this profile. The Control Panel System application can be used to copy the profile template to a shared network location, as shown in Figure 7.6. Notice that the profile is assigned to the built-in Users group in the domain.</p>

<p>
<A HREF="javascript:fullSize('f07xx06x.htm')"> <img src="images/f07xx06.jpg" border=0 ALT = "Click to view at full size."> </A>
</p><p>
<!--caption--><b>Figure 7.6</b> <i>Copying the Jane_Doe profile template to a subfolder (shared) of the \\server01\profiles share</i><!--/caption-->
</p>

<p>To complete the process, assign the profile to the appropriate users by using the Active Directory Users And Computers snap-in. After opening the snap-in, access the Profile tab in the Properties Of A User Account, and assign a path to the profile in the Profile path text box.</p>

<p>Since changes to the template profile affect all users who are assigned the profile, you should make the profile mandatory. To make the profile a mandatory (read-only) user profile, change the extension on the Ntuser file in the profile folder on the server from .dat to .man.</p>

<p>
<div class="note"><blockquote><b>NOTE</b> <hr>
The Ntuser.dat file is a hidden file. You must either use the attrib command line utility to remove the hidden attribute or enable viewing of hidden files through Windows 2000 Explorer.</blockquote></div>
</p>

<A NAME="319"><h3>Modifying User Accounts</h3></A>
<p>Company needs and changes might require you to modify user accounts.
For example, you might need to rename an existing user account for a new employee so that this employee can have the same permissions and network access as his or her predecessor. Other modifications are based on personnel changes or personal information, such as disabling, enabling, and deleting
a user account. You might also need to reset a user's password or unlock a user account.</p>

<p>
<div class="note"><blockquote><b>NOTE</b> <hr>
You can modify a user account by changing the user account object in the Active Directory store. To complete the tasks for modifying user accounts successfully, creating roaming user profiles and assigning home directories, you must have permission to administer the OU in which the user accounts reside.</blockquote></div>
</p>

<A NAME="320"><h3>Disabling, Enabling, Renaming, and Deleting User Accounts</h3></A>
<p>Following are modifications you make to user accounts that affect the accounts' functionality:</p>

<ul>
<p><li><b>Disabling and enabling a user account</b> You disable a user account when a user does not need an account for an extended period but will need it again. For example, if John took a two-month leave of absence, you would disable his user account when he left. When he returned, you would enable his user account so that he could log on to the network again.</li></p>

<p><li><b>Renaming a user account</b> You rename a user account when you want to retain all rights, permissions, group memberships, and most properties for the user account and reassign it to a different user. For example, if there is a new company accountant, rename the account by changing the first, last, and user logon names to those of the new accountant.</li></p>

<p><li><b>Deleting a user account</b> Delete a user account when an employee leaves the company and you are not going to rename the user account. By deleting these user accounts, you do not have unused accounts in Active Directory services.</li></p>
</ul>

<p>The procedures for disabling, enabling, renaming, and deleting user accounts are similar for domain and local accounts. For domain user accounts, use the Active Directory Users And Computers snap-in. Select the user account, and click on action in the Action menu. For local user accounts, use the Local Users And Groups extension from the console tree in the Computer Management snap-in.</p>

<p>
<div class="note"><blockquote><b>NOTE</b> <hr>
If a user account is enabled, the Action menu displays the Disable Account command. If a user account is disabled, the Action menu displays the Enable Account command.</blockquote></div>
</p>

<A NAME="321"><h3>Resetting Passwords and Unlocking User Accounts</h3></A>
<p>If a user cannot log on to the domain or to a local computer, you might need to reset the user's password or unlock the user's account. To perform these tasks, you must have administrative privileges for the OU in which the user account resides.</p>

<p><b>Resetting Passwords</b></p>

<p>If a user's password expires before she or he can change it, or if a user forgets her or his password, you need to reset the password.</p>

<p>
<div class="note"><blockquote><b>NOTE</b> <hr>
You do not need to know the old password to reset a password.</blockquote></div>
</p>

<p>To reset a user's password, open the Active Directory Users And Computers snap-in and select the user object. On the Action menu, click Reset Password. In the Reset Password dialog box, enter a password and select User Must Change Password At Next Logon to force the user to change his or her password the next time that the user logs on.</p>

<p><b>Unlocking User Accounts</b></p>

<p>A Windows 2000 group policy locks out a user account when the user violates the policy, for example, the user exceeding the limit that a group policy allows for bad logon attempts. When a user account is locked out, Windows 2000 displays an error message.</p>

<p>To unlock a user's account, open the Active Directory Users And Computers snap-in and right-click the user object. Click Properties and select the Account tab. Clear The Account Is Locked Out check box.</p>

<A NAME="322"><h3>Creating Home Folders</h3></A>
<p>In addition to the My Documents folder, Windows 2000 provides you with the means to create a home folder for the user. A home folder is an additional one that you can provide for users to store personal documents, and for older applications, it is sometimes the default folder for saving documents. You can store a home folder on a client computer or in a shared folder on a file server. Because a home folder is not part of an RUP, its size does not affect network traffic during logon. You can locate all users' home folders in a central location on a network server.</p>

<p>Storing all home folders on a file server provides the following advantages:</p>

<ul>
<p><li>Users can gain access to their home folders from any client computer on the network.</li></p>

<p><li>Backing up and administering user documents is centralized.</li></p>

<p><li>Home folders are accessible from a client computer running any Microsoft operating system (including MS-DOS, Windows 95, Windows 98, and Windows 2000).</li></p>
</ul>

<p>
<div class="note"><blockquote><b>NOTE</b> <hr>
You should store home folders on an NT file system (NTFS) volume so that you can use NTFS permissions to secure user documents. If you store home folders on a file allocation table (FAT) volume, you can restrict home folder access only by using shared folder permissions.</blockquote></div>
</p>

<p>To create a home folder on a network file server, you must perform the following three tasks:</p>

<ul>
<p><li><b>Creating and sharing a folder</b> Create and share a folder in which to store all home folders on a network server. The home folder for each user will reside below the shared folder.</li></p>

<p><li><b>Changing the Full Control permission</b> For the shared folder, remove the default permission Full Control from the Everyone group and assign Full Control to the Users group. This ensures that only users with domain user accounts can gain access to the shared folder.</li></p>

<p><li><b>Providing the home folder path</b> Provide the path to the user's home folder in the Home folder section on the Profile tab of the Properties dialog box for the user account (Figure 7.7). Since the home folder is on a network server, click Connect and specify a drive letter to use to connect. As a result, when the user logs on to the network, the driver letter you assign will appear in My Computer. In the To text box, a UNC name appears in the form of \\&lt;<i>server</i>&gt;\&lt;<i>share</i>&gt;\&lt;<i>user_logon_name</i>&gt;. You can use the %username% variable as the user's logon name to automatically name and create each user's home folder the same as the user logon name.</li></p>
</ul>

<p>
<img src="images/f07xx07x.jpg" border="0">
</p><p>
<!--caption--><b>Figure 7.7</b> <i>The Profile tab appearing in the properties of a user account. Both a profile path and a network accessible home folder path are specified</i><!--/caption-->
</p>

<p>
<div class="note"><blockquote><b>NOTE</b> <hr>
If you use %username% to name a folder on an NTFS volume, the user and the built-in local Administrators group is assigned the NTFS Full Control permission. All other permissions are removed for the folder, including those for the Everyone Special group.</blockquote></div>
</p>

<p>You can further enhance the home folder feature by redirecting the user's My Documents pointer to the location of her or his home directory.</p>

<p>
<img src="images/practic.JPG" border="0">
</p>

<A NAME="323"><h3>Exercise 3: Creating a Roaming Profile and Assigning a Home Folder</h3></A>
<p>In this exercise, you use the Jane_Doe user accounts to create a profile. You then log on as Jane Doe to create a local profile for the account. Then you log on as Administrator and use the System application in Control Panel to verify that the profile for Jane Doe was created. In Procedure 2, you use the Jane_Doe profile to create and test an RUP from a second computer. In Procedure 3, you create and test a home folder for Jane_Doe.</p>

<p><li><b>Procedure 1: Creating a user profile template</b></li></p>


<p>In this procedure, you define and test a local user profile. You will use Server01 to create the user profile template. Typically, a computer running Windows 2000 Professional would be used to create a user profile template. However, this kit assumes that you are running Windows 2000 Server only to complete these procedures.</p>

<ol>
<p><li>If you are logged on as Administrator on Server01, log off.</li></p>

<p><li>Log on to the microsoft.com domain as Jane_Doe with a password of &quot;student.&quot;</li></p>

<p>If this was the first time that you logged on using the Jane_Doe account, a local user profile is created for her with default settings. This local profile will be customized and then assigned to other users.</p>

<p><li>Double-click the My Computer icon on the desktop.</li></p>

<p>The My Computer window appears.</p>

<p><li>Click and drag the Local Disk (C:) icon to the desktop.</li></p>

<p>A Shortcut message box appears stating that this item cannot be copied or moved but a shortcut can be created.</p>

<p><li>Click Yes to create a shortcut to the C: drive.</li></p>

<p><li>Close the My Computer window.</li></p>

<p><li>Click Start, point to Settings, click Control Panel, and then double-click Display.</li></p>

<p>The Display Properties dialog box appears.</p>

<p><li>Click the Appearance tab.</li></p>

<p>Notice the current color scheme.</p>

<p><li>In the Scheme box, select a different color scheme and then click OK.</li></p>

<p>The desktop changes to the new color scheme.</p>

<p><li>Close Control Panel.</li></p>

<p><li>Log off as Jane_Doe, and then log on as Administrator with a password of &quot;password.&quot;</li></p>

<p><li>Click Start, point to Settings, click Control Panel, and then double-click System.</li></p>

<p><li>Click the User Profiles tab.</li></p>

<p>Notice that there are multiple user profiles stored on Server01. These profiles represent all user accounts that have logged on to Server01.</p>

<p><li>Do not close the System application since you will need it to complete the next procedure.</li></p>
</ol>

<p><li><b>Procedure 2: Defining and assigning a mandatory roaming profile</b></li></p>


<p>In this procedure, you create a roaming profile from the Jane_Doe user profile and assign it to the John Smith user account. For simplicity, you will complete all steps in this procedure from Server01. If you are running Server02, you can optionally log on from this computer to test the RUP.</p>

<p>
<div class="note"><blockquote><b>NOTE</b> <hr>
This procedure assumes knowledge of how to create and share a folder. If you are not sure how to do this, revisit <a href="ch05a.htm">Chapter 5</a>, Exercise 1.</blockquote></div>
</p>

<ol>
<p><li>On the C:\ drive, create a folder named Profiles.</li></p>

<p><li>Share the C:\Profiles folder as Profiles.</li></p>

<p><li>Open the Profiles folder, and create a subfolder named Shared.</li></p>

<p>Close the Profiles window.</p>

<p><li>Locate the System Properties dialog box. The System application was opened in the previous procedure.</li></p>

<p><li>Click the User Profiles tab.</li></p>

<p><li>Under Profiles Stored On This Computer, select MICROSOFT\Jane_Doe.</li></p>

<p><li>Click Copy To.</li></p>

<p>The Copy To dialog box appears.</p>

<p><li>In the Copy Profile to text box, type <b>\\server01\profiles\shared</b> .</li></p>

<p><li>Under Permitted to use, click Change.</li></p>

<p>The Select User Or Group dialog box appears.</p>

<p><li>In the Name column, click Users and then click OK.</li></p>

<p>BUILTIN\Users appears in the Permitted To Use section.</p>

<p><li>Click OK to return to the System Properties dialog box.</li></p>

<p>A Confirm Copy message box appears, stating that the \\server01\profiles\shared folder already exists and that the current contents will be deleted. This appears because you already created the folder for the profile.</p>

<p><li>Click Yes.</li></p>

<p><li>Click OK to return to Control Panel.</li></p>

<p><li>Open the Active Directory Users And Computers snap-in.</li></p>

<p><li>Expand microsoft.com, and then click the Users folder.</li></p>

<p><li>In the details pane, double-click the John Smith user account.</li></p>

<p>The John Smith Properties dialog box appears.</p>

<p><li>In an earlier exercise, you set an account expiration for the John Smith account. To remove this expiration, click the Account tab and select Never In The Account Expires section.</li></p>

<p><li>Click the Profile tab.</li></p>

<p><li>In the Profile path box, type <b>\\server01\profiles\shared</b> and click OK.</li></p>


<p>Close Active Directory Users And Computers snap-in.</p>

<p>Because you are using a centralized profile that could be assigned to other users, the next step is to configure the profile as mandatory.</p>


<p><li>Double-click My Computer on the desktop.</li></p>

<p><li>Double-click Local Disk (C:).</li></p>

<p><li>Double-click Profiles.</li></p>

<p><li>Double-click Shared.</li></p>

<p>Notice that User Profile folders appear.</p>

<p><li>Click the Tools menu, and then click Folder Options.</li></p>

<p>The Folder Options dialog box appears.</p>

<p><li>Click the View tab.</li></p>

<p><li>Select the Show Hidden Files And Folders radio button, and clear the Hide File Extensions For Known File Types check box.</li></p>

<p><li>Click OK.</li></p>

<p>The Shared window appears, showing hidden files and folders. Notice that Ntuser.dat appears.</p>

<p><li>Select Ntuser.dat.</li></p>

<p><li>Click the File menu and then click Rename.</li></p>

<p>The Ntuser.dat file name box is highlighted and can be edited.</p>

<p><li>Change the extension so that the file name is ntuser.man, and then press enter.</li></p>


<p><li>Close the Shared window and close Control Panel.</li></p>

<p><li>Log off as Administrator and log on as John_Smith with no password.</li></p>

<p>The John_Smith desktop appears. Notice that the John_Smith user is using the color scheme you assigned to the user profile template and that the shortcut to Local Disk (C:) appears on the desktop.</p>

<p><li>To test the mandatory profile, delete the Connect To The Internet shortcut on the desktop.</li></p>

<p><li>Log off and log on again as John_Smith with no password.</li></p> 

<p>Notice that the Connect to the Internet shortcut appears on the desktop. This happens because you assigned a mandatory profile to the John_Smith user account.</p>

</ol>

<p><li><b>Procedure 3: Assigning a Home folder to a user</b></li></p>


<p>In this procedure you will assign John_Smith a home folder.</p>

<ol>
<p><li>Log off as John_Smith and log on as Administrator with a password of &quot;password.&quot;</li></p>

<p><li>Create a folder on the C: drive named HomeDirs.</li></p>

<p><li>Share this folder as HomeDirs.</li></p>

<p><li>Open the Active Directory User And Computers snap-in.</li></p>

<p><li>Access the properties of the John Smith user account, and click the Profile tab.</li></p>

<p><li>In the Home Folder section, click the Connect radio button.</li></p>

<p><li>Verify that Z: appears in the drop-down list box to the right of Connect.</li></p>

<p><li>In the To text box, type <b>\\server01\HomeDirs\%username%</b> and then click OK.</li></p>

<p><li>Close the Active Directory Users And Computers snap-in.</li></p>

<p><li>Find and click the HomeDirs folder in Windows Explorer.</li></p>

<p><li>Click the File menu and then click Properties.</li></p>

<p>The HomeDirs Properties dialog box appears.</p>

<p><li>Click the Security tab.</li></p>

<p>Notice that the Everyone group is granted Full Control of this directory.</p>

<p><li>Click Add.</li></p>

<p>The Select Users, Computers, Or Groups dialog box appears.</p>

<p><li>Select Users and then click Add.</li></p>

<p><li>Click OK.</li></p>

<p>The HomeDirs Properties dialog box appears showing both the Everyone Special group and the MICROSOFT\Users group. Notice that the Users group is assigned Read &amp; Execute, List Folder Contents, and Read permissions.</p>

<p><li>Clear the Allow Inheritable Permissions From Parent To Propagate To This Object check box.</li></p>

<p>A Security message box appears.</p>

<p><li>Read this message box, and then click Remove.</li></p>

<p>Notice that the Everyone Special group no longer has rights to the HomeDirs folder.</p>

<p><li>Click Add.</li></p>

<p>The Select Users, Computers, Or Groups dialog box appears.</p>

<p><li>Select Administrators and then click Add.</li></p>

<p><li>Click OK.</li></p>

<p>The HomeDirs Properties dialog box appears showing both the MICROSOFT\Users group and the MICROSOFT\Administrators group.</p>

<p><li>Verify that the Administrators (MICROSOFT\Administrators) group is highlighted.</li></p>

<p><li>In the Permissions box, click the Allow check box in the Full Control row.</li></p>

<p>All check boxes are selected.</p>

<p><li>Click OK.</li></p>

<p><li>Double-click the HomeDirs folder.</li></p>

<p><li>Click John_Smith.</li></p>

<p><li>Click the File menu and then click Properties.</li></p>

<p>The John_Smith Properties dialog box appears.</p>

<p><li>Click the Security tab.</li></p>

<p>Notice that Administrators and John Smith are granted full control of this directory. These assignments were automatically granted when you stipulated that the John_Smith user account use the \\server01\HomeDirs\%username% folder as a home folder.</p>

<p><li>Click OK, and then close Windows Explorer.</li></p>

<p><li>Log off as administrator and log on as John_Smith with no password.</li></p>

<p><li>Double-click My Computer.</li></p>

<p>Notice that a new network drive icon appears that is pointing to the John_Smith folder on \\server01\HomeDirs with a drive assignment of Z:.</p>

<p><li>Close the My Computer window, and log off.</li></p>
</ol>

<A NAME="324"><h2>Lesson Summary</h2></A>
<p>A user account provides a user with the ability to log on to the domain to gain access to network resources or to log on to a computer to gain access to resources on that computer. Windows 2000 provides different types of user accounts: domain user accounts and local user accounts. Windows 2000 also provides built-in user accounts, which you use to perform administrative tasks or to gain access to network resources. Before you begin creating user accounts, you should plan the naming convention for those accounts, the password requirements, and account options, such as logon hours. Use the Active
Directory Users And Computers snap-in to create a new domain user account. Use the Local Users And Groups snap-in to create local user accounts. A set
of default properties is associated with each domain user account and local
user account created. You can modify those properties by using the Properties dialog box for the individual user account. Administering user accounts
involves modifying user accounts, as well as managing user profiles and home directories. A user profile is a collection of folders and data that stores the user's current desktop environment and application settings as well as personal data.
A home folder is a folder that you can provide for users to store personal documents, and for older applications, it is sometimes the default folder for saving documents.</p>

</BODY>
</HTML>


