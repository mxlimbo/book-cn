<HTML>
<HEAD>
<TITLE>Lesson 1: Introduction to the Routing and Remote Access Service</TITLE>
<link rel="STYLESHEET" type="text/css" href="mmserver.css">

<SCRIPT LANGUAGE="JavaScript"><!-- 
function fullSize(sURL){window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}
--></SCRIPT>
</HEAD>
<SCRIPT LANGUAGE="JavaScript">
<!--

function fullSize(sURL){
	window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}

function LibraryHeaderNav(sBackward, sForward, sImgLeftOff, sImgLeftOn, sImgRightOff, sImgRightOn, iH, iW, sImgLeftStyle, sImgRightStyle, sImgRuleStyle, sRuleColor, sRuleSize){
	var tableStr;
	//validate questionable args for defs
	tableStr = "<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 border=0 width=100%>";
	tableStr += "<TR VALIGN=top ALIGN=right>";

	tableStr += "<TD align=right class=" + sImgRuleStyle + ">&nbsp;</TD>";	
	
	tableStr += "<TD width=34 align=right class=" + sImgLeftStyle + ">";
	tableStr += "<A href='" + sBackward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgLeftOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgLeftOff + '\'\"';
	tableStr += " SRC='" + sImgLeftOff + "' vspace=0 hspace=0></a></TD>";
	
	tableStr += "<TD width=34 align=left class=" + sImgRightStyle + ">";
	tableStr += "<A href='" + sForward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgRightOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgRightOff + '\'\"';
	tableStr += " SRC='" + sImgRightOff + "' vspace=0 hspace=0></a></TD></TR>";

	tableStr += "<TR VALIGN=top>";
	tableStr += "<TD height=3 align=center colspan=3 class=" + sImgRuleStyle + ">";
	tableStr += "<HR color=" + sRuleColor + " size=" + sRuleSize + "></TD></TR></TABLE>";
	//alert(tableStr);
	document.write(tableStr);
}

 																						     //purple is: #aa22aa   orange is: #ff9900
LibraryHeaderNav("ch10a.htm", "ch10c.htm", "images/unit_p_a1.gif", "images/unit_p_a2.gif", "images/unit_p_b1.gif", "images/unit_p_b2.gif", 18, 34, "unit01", "unit02", "headerrule", "#aa22aa", "2");
//--></SCRIPT><P>

<A NAME="512"><h1>Lesson 1: Introduction to the Routing and Remote Access Service</h1></A>
<p>Multiprotocol routing support for the Windows燦T family of operating systems began with Windows燦T 3.51 Service Pack 2, which included components for the Routing Information Protocol (RIP) for IP, RIP for IPX, and the Service Advertising Protocol (SAP) for IPX. Windows燦T 4.0 also includes these components. In June 1996, Microsoft released RRAS for Windows燦T 4.0, a component that replaced the Windows燦T 4.0 remote access service, RIP for IP, RIP for IPX, and SAP for IPX services with a single integrated service providing both remote access and multiprotocol routing. This lesson focuses on how RRAS is implemented in Windows 2000. It discusses installation and configuration, as well authentication and authorization.</p>

<p>
<div class="sidebar"><blockquote>
<b>After this lesson, you will be able to</b> 

<ul>
<p><li>Describe RRAS in Windows 2000</li></p>

<p><li>Use the Routing And Remote Access snap-in to configure and enable RRAS</li></p>
</ul>

<b>Estimated lesson time: 30 minutes</b> 
</blockquote></div>
</p>

<A NAME="513"><h2>Windows 2000 Routing and Remote Access Service</h2></A>
<p>RRAS for Windows 2000 Server continues the evolution of multiprotocol routing and remote access services for the Microsoft Windows platform. When RRAS was implemented in Windows燦T 4.0, it added support for the following features:</p>

<ul>
<p><li>RIP version 2 for IP (RIP for IP version 1 is still supported).</li></p>

<p><li>Open Shortest Path First (OSPF) routing protocol for IP</li></p>

<p><li>Demand-dial routing (routing over persistent or on-demand WAN links such as analog phone lines)</li></p>

<p><li>Internet Control Message Protocol (ICMP) router discovery</li></p>

<p><li>Remote Authentication Dial-In User Service (RADIUS) client to benefit from the services provided by a RADIUS server</li></p>

<p><li>RADIUS server for providing centralized authentication, authorization, accounting, and remote access policy to dial-up and VPN remote access clients (included with the Windows燦T 4.0 Option Pack)</li></p>

<p><li>IP and IPX packet filtering for protocol-level security</li></p>

<p><li>A graphical user interface (GUI) administrative program called Routing and RAS Admin and a command-line utility called Routemon</li></p>
</ul>

<p>Windows 2000 builds on RRAS in Windows燦T 4.0 and adds the following features:</p>
<ul>
<p><li>Internet Group Management Protocol (IGMP) and support for multicast boundaries</li></p>

<p><li>Network address translation with addressing and name resolution components that simplify the connection of a small office/home office (SOHO) network to the Internet</li></p>

<p><li>Integrated AppleTalk routing</li></p>

<p><li>Layer 2 Tunneling Protocol (L2TP) over IP Security (IPSec) support for VPN connections</li></p>

<p><li>Improved administration and management tools. (The graphical user interface program is the Routing And Remote Access snap-in. The command-line utility is netsh (Net Shell).)</li></p>

<p><li>Improved IAS</li></p>
</ul>

<p>RRAS is fully integrated with the Windows 2000 Server operating system. RRAS works with a wide variety of hardware platforms and hundreds of network adapters; the result is a lower cost solution than many midrange dedicated router or remote access server products.</p>

<p>RRAS is extensible with application programming interfaces (APIs) that third-party developers can use to create custom networking solutions and that vendors can use to participate in the growing business of open internetworking.</p>

<p>The combined features of Windows 2000 RRAS allow a Windows 2000 Server computer to function as a multiprotocol router, a demand-dial router, and a remote access server.</p>

<p><b>Multiprotocol Router</b></p>

<p>The computer running RRAS can route IP, IPX, and AppleTalk simultaneously. All routable protocols and routing protocols are configured from the same administrative utility.</p>

<p><b>Demand-Dial Router</b></p>

<p>A computer running RRAS can route IP and IPX over on-demand or persistent WAN links, such as analog telephone lines or Integrated Services Digital Network (ISDN), or over VPN connections by using either PPTP or L2TP over IPSec.</p>

<p><b>Remote Access Server</b></p>

<p>A computer running RRAS can act as a remote access server providing remote access connectivity to dial-up or VPN remote access clients that use IP, IPX, AppleTalk, or NetBEUI. The combination of routing and remote access services on the same computer creates a Windows 2000 remote access router.</p>

<A NAME="514"><h3>Combining Routing and Remote Access</h3></A>
<p>Before RRAS was implemented in Windows燦T, the routing services and remote access services worked separately. However, the two services have been combined because of the Point-to-Point Protocol (PPP), which is the protocol suite that is commonly used to negotiate point-to-point connections for remote access clients. PPP provides link parameter negotiation, the exchange of authentication credentials, and network layer protocol negotiation. For example, when you dial an Internet service provider (ISP) via PPP, you agree to the size of the packets you are sending and how they are framed (link negotiation), you log on by using a user name and password (authentication), and you obtain an IP address (network layer negotiation).</p>

<p>Demand-dial routing connections also use PPP to provide the same kinds of services as remote access connections (link negotiation, authentication, and network layer negotiation). Therefore, the integration of routing (which includes demand-dial routing) and remote access is done to leverage the PPP client/server infrastructure available for the remote access components.</p>

<p>The PPP infrastructure of Windows 2000 Server includes support for the following types of access:</p>

<ul>
<p><li>Dial-up remote access (over dial-up equipment such as analog telephone lines, and ISDN) as either the client or server</li></p>

<p><li>VPN remote access as either the client or server</li></p>

<p><li>On-demand or persistent dial-up demand-dial routing (over dial-up equipment such as analog telephone lines, and ISDN) as either the calling router or the answering router</li></p>

<p><li>On-demand or persistent VPN demand-dial routing as either the calling router or the answering router</li></p>
</ul>

<A NAME="515"><h3>LAN and WAN Support</h3></A>
<p>RRAS can run over any of the LAN and WAN network adapters supported by Windows 2000 Server, including cards from Eicon, Cisco, SysKonnect, Allied, and US Robotics. For more information about supported network adapter cards, see the Windows 2000 Hardware Compatibility List at
<i><a href="http://www.microsoft.com" target="_window2">http://www.microsoft.com</a></i>.</p>

<A NAME="516"><h3>Installation and Configuration</h3></A>
<p>Unlike RRAS for Windows燦T 4.0 and most network services of Windows 2000, you do not elect to install or uninstall RRAS through Add/Remove Programs in Control Panel. Windows 2000 RRAS is automatically installed in a disabled state.</p>

<p>You can use the Routing And Remote Access snap-in to enable and configure RRAS. By default, a local Windows 2000 Server is listed as a RRAS server as shown in Figure 10.1.</p>

<p>
<A HREF="javascript:fullSize('f10xx01x.htm')"> <img src="images/f10xx01.jpg" border=0 ALT = "Click to view at full size."> </A>
</p><p>
<!--caption--><b>Figure 10.1</b> <i>Routing And Remote Access snap-in showing the local server, SERVER01, as a RRAS server in a disabled state</i><!--/caption-->
</p>

<p>You can add additional computers by selecting either the root of the console tree or the Server Status node (Figure 10.1) and then selecting Add Server from the Action menu. Once the server is added in the console tree, select the server that you want to enable and then select Configure And Enable Routing And Remote Access from the Action menu. Follow the instructions in the Routing And Remote Access Server Setup wizard.</p>

<p>Once the wizard has finished, the remote access router is enabled and configured based on your selections in the wizard. To do further configuration, use the Routing And Remote Access snap-in or the netsh command-line utility.</p>

<p>
<div class="note"><blockquote><b>NOTE</b> <hr>
If you type <b>?</b> after entering the netsh command mode, the help
information may scroll beyond the window size. If it does, you can scroll the
command-prompt window, maximize the window, or run in full-screen mode.</blockquote></div>
</p>

<p>Note that each computer on the intranet served by the RRAS server should use a private IP address in one of the following blocks of addresses:</p>

<p>
<table cellpadding=5 width="95%">
<tr> 
<th>Network address blocks  </th>
<th>Address class  </th></tr>
<tr>
<td valign="top">10.0.0.0 - 10.255.255.255  </td>
<td valign="top" align="center">A  </td></tr>
<tr>
<td valign="top">172.16.0.0 - 172.31.255.255  </td>
<td valign="top" align="center">B  </td></tr>
<tr>
<td valign="top">192.168.0.0 - 192.168.255.255  </td>
<td valign="top" align="center">C  </td></tr>
</table></p>

<p>The Internet Assigned Numbers Authority (IANA) has specifically reserved these addresses for private network use. See RFC 1918 for more information.</p>

<p>
<img src="images/practic.JPG" border="0">
</p>

<A NAME="517"><h3>Exercise 1: Enabling RRAS and Examining a Basic Configuration</h3></A>
<p>RRAS is in a disabled state on Server01. In this exercise you will enable RRAS and then examine the default configuration of RRAS. In later exercises, you will reconfigure RRAS to meet a more complex set of routing and remote access requirements. Complete this exercise on Server01.</p>

<p><li><b>Procedure 1: Enabling RRAS</b></li></p>


<p>Completing this procedure enables RRAS on Server01. Before starting this procedure, verify that a modem is installed in Server01 and that it is recognized by the operating system. You can verify this by using the Add/Remove Hardware application in Control Panel.</p>

<ol>
<p><li>Log on to Server01 as administrator with a password of &quot;password.&quot;</li></p>

<p><li>Click Start, point to Programs, point to Administrative Tools and then click Routing And Remote Access.</li></p>

<p>The Routing And Remote Access snap-in appears and Server01(local) is highlighted.</p>

<p><li>Maximize the Routing And Remote Access snap-in and read the message appearing in the details pane.</li></p>

<p><li>Click the Action menu and then click Configure And Enable Routing And Remote Access.</li></p>

<p>The Routing And Remote Access Server Setup wizard appears.</p>

<p><li>Click Next.</li></p>

<p>The Common Configurations screen appears. Notice that there are five paths that you can follow in configuring an RRAS server. In the next step, you will examine these various options before configuring the RRAS server to act as a RAS server.</p>

<p><li>Verify that the Internet Connection Server radio button is selected and click Next.</li></p>

<p>The Internet Connection Server Setup screen appears. Notice that the RRAS server is configured in one of two ways in order to provide all computers on the network with access to the Internet. The first method, Internet Connection Sharing (ICS), instructs you to use the Network and Dial-Up Connections folder in order to configure this option. The properties of each dial-up connection contain a Sharing tab where this feature is configured. The second method, Network Address Translation (NAT), is configured from this wizard. NAT allows you to configure the server to send and receive packets from the Internet on behalf of other client computers on the intranet. Only the hardware on the RRAS server that connects to the Internet requires an IP address that is valid and legal on the Internet.</p>

<p><li>Click Back.</li></p>


<p>The Common Configurations screen appears. Read but do not complete the navigation procedures in this paragraph. Select the Remote Access Server radio button to configure the RRAS server for RAS dial-in access. Select the Virtual Private Network (VPN) server radio button to configure the server for VPN (PPTP and L2TP) access. VPN allows remote access clients to connect to a public network like the Internet, and then establishes a secure remote access connection to the RRAS server. Select the Network Router radio button to configure the RRAS server so that packets can be transmitted between networks. Select the Manually Configured Server radio button to use the Routing And Remote Access snap-in to configure the RRAS server.</p>
</ol>

<p>
<div class="note"><blockquote><b>NOTE</b> <hr>
An RRAS server can be configured for a combination of options appearing on the Common Configurations screen. The purpose of this screen is to help you get started with RRAS. Further configuration is completed using the Routing And Remote Access snap-in or the Net
Shell utility.</blockquote></div>
</p>

<ol>
<p><li value="8">Select the Manually Configured Server radio button and then click Next.</li></p>

<p>The Completing The Routing And Remote Access Server Setup Wizard screen appears.</p>

<p><li>Click Finish.</li></p>

<p>A Routing And Remote Access message box appears stating that the Routing and Remote Access Service has been installed. You are asked whether the service should be started.</p>

<p><li>Click Yes. 
<p>The starting routing and remote access and completing initialization message boxes appear.</p></li></p>

</ol>

<p><li><b>Procedure 2: Examining a default RRAS configuration</b></li></p>


<p>In this procedure, you examine default remote access and router settings. This procedure is completed in the Routing And Remote Access snap-in. The purpose of this procedure is to introduce you to the features appearing in the Routing And Remote Access snap-in before you learn more about these features by studying the remaining lessons in this chapter.</p>

<p>
<div class="caution"><blockquote><b>CAUTION</b><hr>
Do not change any settings while examining the default configuration.</blockquote></div>
</p>

<ol>
<p><li>In the console tree, expand Server01 (local).</li></p>

<p>Notice that a green up arrow appears to the left Server01 (local). This means that RRAS is configured and enabled on the computer.</p>

<p><li>Click the Action menu.</li></p>

<p>Notice that Disable Routing And Remote Access is now available because the RRAS server is enabled and configured.</p>

<p><li>Click Properties.</li></p>


<p>The Server01 (Local) Properties dialog box appears.</p>

<p>Notice that the default settings appearing on the General tab show that the server has been configured as both a LAN and demand-dial routing router and as a remote access server.</p>


<p><li>Click the Security tab.</li></p>

<p>Notice that the Authentication Provider and the Accounting Provider uses Windows 2000 for both functions.</p>

<p><li>Click the Authentication Methods button.</li></p>

<p>Notice that MS-CHAP and MS-CHAP version 2 are selected. For troubleshooting authentication problems, you can check the Allow Remote Systems To Connect Without Authentication check box. Other authentication methods are selected based on the needs of the dial-up client and your security requirements.</p>

<p><li>Click Cancel and then click the IP tab.</li></p>

<p>Notice that the Enable IP Routing check box and the Allow IP-Based Remote Access And Demand-Dial Connections check box are selected. IP routing allows dial-up clients to access the entire network. If you want dial-up clients to access resources on the RRAS server only, clear this check box. The Allow IP-Based Remote Access And Demand-Dial Connections option allows RRAS to send IPCP to negotiate the use of IP over the remote access or demand-dial interface. Notice also that the IP tab is used to configure either IP address allocation via DHCP or a static pool configured on the RRAS server.</p>

<p><li>Click the PPP tab.</li></p>

<p>From this tab you configure global PPP support settings for remote access clients. 
These options will be discussed in Lesson 3, &quot;<A HREF="ch10d.htm">Remote Access</A>.&quot;</p>

<p><li>Click the Event Logging tab.</li></p>

<p>From here, you configure the amount of information you want to collect about RRAS events occurring on the server. For troubleshooting, click the Log The Maximum Amount Of Information radio button and select the Enable Point-To-Point Protocol (PPP) Logging check box. To optimize the server's performance, click the Disable Event Logging radio button.</p>

<p><li>Click Cancel.</li></p>

<p><li>In the console tree, click Routing Interfaces.</li></p>

<p>The list of router interfaces appears in the details pane. The Loopback interface is the local protocol stack on the RRAS server. Local Area Connection is the network interface card in the RRAS server connected to your network. Internal is the routing function in RRAS. If routing is disabled, then Internal has an Operational Status of Non-operational.</p>

<p><li>In the console tree, click Ports.</li></p>

<p>Notice that your modem or WAN device is listed in the details pane. Also notice that the default settings for VPN is 5 PPTP miniports and 5 L2TP miniports. The Parallel Device(s) appearing in the details pane is available to support direct cable connections between two computers. If you have a single lpt port designated as LPT1, then the name of this connection is Direct Parallel (LPT1). If a remote client has connected to a port but performance is poor or you are troubleshooting the connection, select the port in which the client is connected, and from the Action menu, click Status. This shows you network registration, statistics, and error information about the connection.</p>

<p><li>Verify that Ports is selected in the console tree, click the Action menu, and then click Properties.</li></p>

<p>The Ports Properties dialog box appears. From this dialog box, you configure the number of ports allowed for each port type (only applicable to VPN connections), and decide if connections on this port type are inbound only or inbound and outbound. You also configure the telephone number for the device. This feature is used if the Called-Station-ID is configured for remote access policy, the dial-up hardware and driver software do not support caller ID, or if you use multi-link with the bandwidth allocation protocol (BAP) enabled. If you are configuring a VPN port, enter the IP address of the port rather than a telephone number.</p>

<p><li>Click Cancel.</li></p>

<p><li>In the console tree, click Remote Access Clients.</li></p>

<p>If a remote client is connected to the RRAS server, the details pane shows the connected user, call duration, and number of ports allocated to the call (multilink).</p>

<p><li>In the console tree, expand IP Routing and then click General.</li></p>

<p>Notice that the information appearing in the details pane looks similar to the information appearing in the details pane of Routing Interfaces.</p>

<p><li>Click the Action menu and then click New Routing Protocol.</li></p>


<p>The New Routing Protocol dialog box appears.</p>

<p>Notice that there are three protocols appearing by default: NAT, OSPF, and RIP version 2. 
These protocols will be discussed in Lesson 2, &quot;<A HREF="ch10c.htm">Features of the Routing and Remote Access Service</a><comments>.&quot;</p>


<p><li>Click Cancel.</li></p>

<p><li>Click Internal in the details pane and then click the Action menu.</li></p>


<p>Notice that many options for monitoring the interface are available under the Action menu. The Properties option is used to configure general router settings in the RRAS server.</p>

<p>Examine the properties of the Internal interface and the Local Area Connection interface and then return to the Routing And Remote Access snap-in console.</p>

<p>The Static Routes node in the console tree is used to view and configure additional routes to other networks. This tool is the graphical equivalent of the Route command-line utility.</p>

<p>The DHCP Relay Agent node allows DHCP request and response messages to be sent from one network to another. This feature allows a single server running the DHCP service to provide IP address configuration information to DHCP (modified BOOTP) and BOOTP-enabled clients on other networks accessible by the router.</p>

<p>The IGMP node allows you to configure Internet Group Messaging Protocol settings.</p>


<p><li>In the console tree, click Remote Access Logging.</li></p>
</ol>

<p>
<div class="note"><blockquote><b>NOTE</b> <hr>
If you are using a RADIUS server for authentication and logging, the Remote Access Logging folder does not appear in RRAS.</blockquote></div>
</p>

<ol>
<p>Local File appears in the details pane and the description column shows the path to the LogFiles folder.</p>


<p><li value="20">Double-click Local File in the details pane.</li></p>


<p>The Local File Properties dialog box appears.</p>

<p>The Settings tab and the Local File tab are used to configure logging. Use the information under the Settings tab to configure the amount of information you want to log about remote access authentication, administration, and status.</p>

<p><li>Click the Local File tab.</li></p>

<p>Use the information under the Local File tab to configure the log file format, when new logs are generated, and where the logs are stored. Moving the log file directory (folder) to another partition other than the boot partition is advised.</p>

<p><li>Click Cancel.</li></p>

<p><li>In the console tree, click Remote Access Policies.</li></p>

<p>The default remote access policy, Allow Access If Dial-In Permission Is Enabled, appears in the details pane.</p>

<p><li>Double-click Allow Access If Dial-In Permission Is Enabled.</li></p>

<p>The Allow Access If Dial-In Permission Is Enabled Properties dialog
box appears.</p>


<p><li>Click the Edit button.</li></p>


<p>The Time Of Day Constraints dialog box appears.</p>

<p>Notice that Dial-In permission is allowed around the clock.</p>


<p><li>Click Cancel.</li></p>

<p>Notice that the Deny Remote Access Permission radio button is selected. This means that unless this profile is overridden on a per-user basis, users depending on access based on a profile will always be denied access.</p>

<p><li>Click the Add button.</li></p>


<p>The Select Attribute dialog box appears.</p>

<p>This dialog box lists the various connection attributes that can be associated with this profile. Users who meet the conditions specified in the profile are either allowed or denied access.</p>


<p><li>Click Cancel.</li></p>

<p><li>Click Edit Profile and explore the various tabs and settings available for editing the profile. Notice that many of the settings configured for the profile can also be set separately from the profile in the Routing And Remote Access snap-in.</li></p>

<p><li>Click Cancel.</li></p>

<p><li>Click Cancel again to close the Allow Access If Dial-In Permission Is Enabled Properties box.</li></p>

<p><li>Minimize the Routing And Remote Access snap-in; you will be using it in the next exercise.</li></p>


<p>This procedure provided an exploration of the Routing And Remote Access snap-in. The rest of the chapter explores RRAS features.</p>
</ol>

<p>
<div class="note"><blockquote><b>NOTE</b> <hr>
RRAS can also be configured from the command prompt by using the netsh utility (Net Shell) rather than using the Routing And Remote Access snap-in.</blockquote></div>
</p>

<A NAME="518"><h3>Disabling RRAS</h3></A>
<p>Although the Windows 2000 interface is not designed to allow you to easily remove RRAS, you can disable it by using the Routing And Remote Access snap-in. In the console tree, select the computer that you want to disable and then select Disable Routing And Remote Access from the Action menu. Disabling the service removes all Routing and Remote Access registry settings.</p>

<p>You can also refresh the configuration of RRAS by first disabling the server and then enabling it.</p>

<p>
<div class="note"><blockquote><b>NOTE</b> <hr>
If you disable RRAS, all current configurations for the service, including routing protocol configuration and demand-dial interfaces, are removed and all currently connected clients are disconnected.</blockquote></div>
</p>

<A NAME="519"><h2>Authentication and Authorization</h2></A>
<p>The distinction between authentication and authorization is important for understanding how connection attempts are either accepted or denied:</p>

<ul>
<p><li><b>Authentication</b> Authentication is the verification of the credentials of the connection attempt. This process consists of sending the credentials from the remote access client to the remote access server in either a clear text or encrypted form that uses an authentication protocol.</li></p>

<p><li><b>Authorization</b> Authorization is the verification that the connection attempt is allowed. Authorization occurs after successful authentication.</li></p>
</ul>

<p>For a connection attempt to be accepted, the connection must be both authenticated and authorized. It is possible for the connection attempt to be authenticated through the use of valid credentials, but not authorized. In this case, the connection attempt is denied.</p>

<p>If the remote access server is configured for Windows authentication, Windows 2000 security verifies the credentials for authentication and the dial-up properties of the user account, and locally stored remote access policies authorize the connection. If the connection attempt is both authenticated and authorized, the connection attempt is accepted.</p>

<p>If the remote access server is configured for Remote Authentication Dial-In User Service (RADIUS) authentication, the credentials of the connection attempt are passed to the RADIUS server for authentication and authorization. If the connection attempt is both authenticated and authorized, the RADIUS server sends an accept message back to the remote access server and the connection attempt is accepted. If the connection attempt is either not authenticated or not authorized, the RADIUS server sends a reject message back to the RAS server and the connection process is denied.</p>

<p>If the RADIUS server is a Windows 2000-based computer running the Internet Authentication Service (IAS), the IAS server performs authentication through Windows 2000 security and authorization through the dial-up properties of the user account and the remote access policies stored on the IAS server.</p>

<p>The configuration of the RRAS authentication provider is done from the Security tab from the properties of a remote access router in the Routing And Remote Access snap-in (Figure 10.2) or by using the netsh command-line utility.</p>

<p>
<A HREF="javascript:fullSize('f10xx02x.htm')"> <img src="images/f10xx02.jpg" border=0 ALT = "Click to view at full size."> </A>
</p><p>
<!--caption--><b>Figure 10.2</b> <i>Properties of RRAS server Server02 with the RADIUS authentication provider selected</i><!--/caption-->
</p>

<A NAME="520"><h2>Lesson Summary</h2></A>
<p>RRAS for Windows 2000 Server continues the evolution of multiprotocol routing and remote access services for the Microsoft Windows platform. RRAS is integrated with the Windows 2000 Server operating system and works with a wide variety of hardware platforms and hundreds of network adapters. The combined features of Windows 2000 RRAS allows a Windows 2000 Server computer to function as a multiprotocol router, a demand-dial router, and a remote access server. RRAS uses PPP to negotiate point-to-point connections for remote access clients. PPP provides link parameter negotiation, the exchange of authentication credentials, and network layer protocol negotiation. You can use the Routing And Remote Access snap-in to enable and configure RRAS or to disable the service. For a connection attempt to be accepted, the connection must be both authenticated and authorized.</p>

</BODY>
</HTML>



