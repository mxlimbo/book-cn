<HTML>
<HEAD>
<TITLE>Lesson 4: Security Configuration Tools</TITLE>
<link rel="STYLESHEET" type="text/css" href="mmserver.css">

<SCRIPT LANGUAGE="JavaScript"><!-- 
function fullSize(sURL){window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}
--></SCRIPT>
</HEAD>
<SCRIPT LANGUAGE="JavaScript">
<!--

function fullSize(sURL){
	window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}

function LibraryHeaderNav(sBackward, sForward, sImgLeftOff, sImgLeftOn, sImgRightOff, sImgRightOn, iH, iW, sImgLeftStyle, sImgRightStyle, sImgRuleStyle, sRuleColor, sRuleSize){
	var tableStr;
	//validate questionable args for defs
	tableStr = "<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 border=0 width=100%>";
	tableStr += "<TR VALIGN=top ALIGN=right>";

	tableStr += "<TD align=right class=" + sImgRuleStyle + ">&nbsp;</TD>";	
	
	tableStr += "<TD width=34 align=right class=" + sImgLeftStyle + ">";
	tableStr += "<A href='" + sBackward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgLeftOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgLeftOff + '\'\"';
	tableStr += " SRC='" + sImgLeftOff + "' vspace=0 hspace=0></a></TD>";
	
	tableStr += "<TD width=34 align=left class=" + sImgRightStyle + ">";
	tableStr += "<A href='" + sForward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgRightOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgRightOff + '\'\"';
	tableStr += " SRC='" + sImgRightOff + "' vspace=0 hspace=0></a></TD></TR>";

	tableStr += "<TR VALIGN=top>";
	tableStr += "<TD height=3 align=center colspan=3 class=" + sImgRuleStyle + ">";
	tableStr += "<HR color=" + sRuleColor + " size=" + sRuleSize + "></TD></TR></TABLE>";
	//alert(tableStr);
	document.write(tableStr);
}

 																						     //purple is: #aa22aa   orange is: #ff9900
LibraryHeaderNav("ch11d.htm", "ch11f.htm", "images/unit_p_a1.gif", "images/unit_p_a2.gif", "images/unit_p_b1.gif", "images/unit_p_b2.gif", 18, 34, "unit01", "unit02", "headerrule", "#aa22aa", "2");
//--></SCRIPT><P>

<A NAME="642"><h1>Lesson 4: Security Configuration Tools</h1></A>
<p>Windows 2000 provides a set of security configuration tools that are designed to reduce the costs associated with security configuration and analysis of Windows 2000 networks. These tools are MMC snap-ins that allow you to configure Windows 2000 security settings and perform periodic analyses of the system to ensure that the configuration remains intact or to make necessary changes over time. Security settings include security policies (account and local policies), access control (services, files, and the registry), event logs, group membership (restricted groups), IPSec security policies, and public key policies. The security configuration tools include three snap-ins: the Security Configuration And Analysis snap-in, the Security Templates snap-in, and the Group Policy snap-in.</p>

<p>
<div class="sidebar"><blockquote>
<b>After this lesson, you will be able to</b> 

<ul>
<p><li>Understand how the security configuration tools are used to configure security settings and analyze system security in your Windows 2000 network</li></p>
</ul>

<b>Estimated lesson time: 30 minutes</b> 
</blockquote></div>
</p>

<A NAME="643"><h2>Security Configuration And Analysis Snap-In</h2></A>
<p>The Security Configuration And Analysis snap-in allows you to configure and analyze local system security.</p>

<A NAME="644"><h3>Security Configuration</h3></A>
<p>The Security Configuration And Analysis snap-in can also be used to directly configure local system security. You can import security templates created with the Security Templates snap-in, and apply these templates to the group policy object (GPO) for the local computer. This immediately configures the system security with the levels specified in the template.</p>

<A NAME="645"><h3>Security Analysis</h3></A>
<p>The state of the operating system and applications on a computer is dynamic. For example, security levels may be required to change temporarily to enable immediate resolution of an administration or network issue; this change can often go unreversed. This means that a computer may no longer meet the requirements for enterprise security.</p>

<p>Regular analysis enables an administrator to track and ensure an adequate level of security on each computer as part of an enterprise risk management program. Analysis is highly specified; information about all system aspects related to security is provided in the results. This enables an administrator to tune the security levels and, most importantly, detect any security flaws that may occur in the system over time.</p>

<p>The Security Configuration And Analysis snap-in enables quick review of security analysis results. Recommendations are presented along with current system settings, and icons or remarks are used to highlight any areas where current settings do not match the proposed level of security. The Security Configuration And Analysis snap-in also allows you to resolve any discrepancies revealed by analysis.</p>

<p>If frequent analysis of a large number of computers is required, as in a domain-based infrastructure, the Secedit command-line tool may be used as a method of batch analysis. However, analysis results still must be viewed by using the Security Configuration And Analysis snap-in. For more information about the Secedit utility, see Windows 2000 Help.</p>

<A NAME="646"><h3>Using the Security Configuration And Analysis Snap-In</h3></A>
<p>The Security Configuration And Analysis snap-in (Figure 11.16) reviews and analyzes your system security settings and recommends modifications to the current system settings. Administrators can use the snap-in to adjust the security policy and detect security flaws that arise in the system.</p>

<p>
<A HREF="javascript:fullSize('f11xx16x.htm')"> <img src="images/f11xx16.jpg" border=0 ALT = "Click to view at full size."> </A>
</p><p>
<!--caption--><b>Figure 11.16</b> <i>Security Configuration And Analysis snap-in</i><!--/caption-->
</p>

<p>The Security Configuration And Analysis snap-in allows you to perform a variety of tasks:</p>

<ul>
<p><li>Set a working database</li></p>

<p><li>Import a security template</li></p>

<p><li>Analyze system security</li></p>

<p><li>Review security analysis results</li></p>

<p><li>Configure system security</li></p>

<p><li>Edit the base security configuration</li></p>

<p><li>Export a security template</li></p>
</ul>

<p>For details about how to perform each of these tasks, see Windows 2000 Help.</p>

<A NAME="647"><h2>Security Templates Snap-In</h2></A>
<p>A security template is a physical representation of a security configuration; it is a file where a group of security settings may be stored. Windows 2000 includes a set of security templates, each based on the role of a computer. The templates range from security settings for low security domain clients to highly secure domain controllers. They can be used as provided, modified, or serve as a basis for creating custom security templates.</p>

<A NAME="648"><h3>Using the Security Templates Snap-In</h3></A>
<p>The Security Templates snap-in (Figure 11.17) is a tool for creating and assigning security templates for one or more computers.</p>

<p>
<A HREF="javascript:fullSize('f11xx17x.htm')"> <img src="images/f11xx17.jpg" border=0 ALT = "Click to view at full size."> </A>
</p><p>
<!--caption--><b>Figure 11.17</b> <i>Security Templates snap-in</i><!--/caption-->
</p>

<p>A security template is a physical file representation of a security configuration, and can be applied to a local computer or imported to a Group Policy Object (GPO) in the Active Directory service. When you import a security template to a GPO, Group Policy processes the template and makes the corresponding changes to the members of that GPO, which may be users or computers.</p>

<p>The Security Templates snap-in allows you to perform a variety of tasks:</p>

<ul>
<p><li>Customize a predefined security template</li></p>

<p><li>Define a security template</li></p>

<p><li>Delete a security template</li></p>

<p><li>Refresh the security template list</li></p>

<p><li>Set a description for a security template</li></p>
</ul>

<p>
<img src="images/practic.JPG" border="0">
</p>

<A NAME="649"><h3>Exercise 3: Creating and Using the Security Analysis And Configuration Snap-In</h3></A>
<p>In this exercise you create a custom snap-in containing the Security Analysis And Configuration snap-in and the Security Templates snap-in. You then customize a template and open a new database using the custom template. You will then analyze the security settings of Server01 against the template and then you will apply the template's configuration to the security settings of Server01. Complete this exercise on Server01.</p>

<p><li><b>Procedure 1: Creating a Security Analysis And Configuration snap-in</b></li></p>

<p>You will run the MMC and add the Security Analysis And Configuration snap-in. MMC version 1.2, included with Windows 2000, allows you to add multiple snap-ins to an existing console. For the purpose of clarity, you will create a new console rather than adding to an existing console running other snap-ins.</p>

<ol>
<p><li>Log on to Server01 as administrator with a password of &quot;password.&quot;</li></p>

<p><li>Click Start and then click Run.</li></p>

<p>The Run dialog box appears.</p>

<p><li>In the Open text box, type <b>mmc</b> and then click OK.</li></p>

<p>An empty MMC console opens and is named Console1.</p>

<p><li>Click the Console menu and then click Add/Remove Snap-in.</li></p>

<p>The Add/Remove Snap-in dialog box appears.</p>

<p><li>Click the Add button.</li></p>

<p>The Add Standalone snap-in window appears.</p>

<p><li>Scroll down and click Security Configuration And Analysis and then click the Add button.</li></p>

<p><li>Click Close.</li></p>

<p>The Add/Remove Snap-in dialog box appears.</p>

<p><li>Click OK.</li></p>

<p><li>Click the Console menu and then click Save.</li></p>

<p>The Save As dialog box appears.</p>

<p><li>In the File Name text box, type <b>Security</b> and then click Save.</li></p>
</ol>

<p><li><b>Procedure 2: Adding and configuring security using the Security Template snap-in to the Security console</b></li></p>

<p>Before analyzing Server01 and applying new security settings, you install the Security Template snap-in to the Security console.</p>

<ol>
<p><li>Click the Console menu and then choose Add/Remove Snap-in.</li></p>

<p>The Add/Remove Snap-in dialog box appears.</p>

<p><li>Click the Add button.</li></p>

<p>The Add Standalone Snap-in window appears.</p>

<p><li>Scroll down and click Security Templates and then click the Add button.</li></p>

<p><li>Click Close.</li></p>

<p>The Add/Remove Snap-in dialog box appears.</p>

<p><li>Click OK.</li></p>

<p><li>Click the Console menu and then click Save.</li></p>

<p><li>Expand the Security Templates node then expand the C:\WINNT\Security\Templates folder.</li></p>

<p>All of the defined templates appear in the console tree and in the details pane.</p>

<p><li>Expand the securedc.</li></p>

<p>This is an incremental security template usually used after a basic security template is applied. For the purpose of this exercise, this template is sufficient.</p>

<p><li>Expand the Account Policies node and then click Password Policy.</li></p>

<p>Password policy settings appear in the details pane.</p>

<p><li>In the details pane, double-click Minimum Password Length.</li></p>

<p>The Template Security Policy Setting dialog box appears.</p>

<p><li>In the Password Must Be At Least box, change the value to <b>5</b> characters and then click OK.</li></p>

<p><li>In the console tree, click securedc.</li></p>

<p><li>Click the Action menu and then click Save As.</li></p>

<p>The Save As window appears.</p>

<p><li>In the File Name text box, type <b>customdc</b> and then click Save.</li></p>

<p><li>In the console tree, click customdc.</li></p>

<p><li>Click the Action menu and click Set Description.</li></p>

<p>The Security Template Description box appears.</p>

<p><li>In the Description box, type <b>Custom Security Template for Training</b> and click OK.</li></p>

<p><li>In the console tree, click the C:\WINNT\Security\Templates folder.</li></p>

<p>Notice in the details pane that customdc now has a description associated with it.</p>

<p><li>Read the other template descriptions to familiarize yourself with the templates included with Windows 2000 Server.</li></p>
</ol>

<p><li><b>Procedure 3: Creating a new security database</b></li></p>

<p>In this procedure you create a new security database.</p>

<ol>
<p><li>In the console tree, click Security Configuration And Analysis and read the text in the details pane.</li></p>

<p><li>Click the Action menu and then click Open Database.</li></p>

<p>The Open Database dialog box appears.</p>

<p><li>In the File Name text box, type <b>training</b> and then click Open.</li></p>

<p>The Import Template dialog box appears.</p>

<p><li>Click customdc.inf and then click Open.</p><p>This is the custom template you created in the previous procedure.</li></p>
</ol>

<p><li><b>Procedure 4: Analyzing current security settings</b></li></p>

<p>In this procedure you analyze the current settings of Server01 against the custom template you created in Procedure 2.</p>

<ol>
<p><li>In the console tree, verify that the Security Configuration And Analysis node is selected.</li></p>

<p><li>Click the Action menu and then click Analyze Computer Now.</li></p>

<p>The Perform Analysis dialog box appears an it is shows the path and name of the error log as C:\Documents and Settings\Administrator\Local Settings\Temp\training.log.</p>

<p><li>Click OK.</li></p>

<p>The Analyzing System Security status box appears as various aspect of Server01's security configuration are checked against the template.</p>

<p><li>When the analysis is complete, expand the Security Configuration And Analysis node.</li></p>

<p><li>Expand the Account Policies node and then click the Password Policy node.</li></p>

<p>In the details pane, both template settings and the computer's settings are displayed for each policy. Discrepancies appear with a red circle with a white &quot;X&quot; in the center. Consistencies appear with a white circle and a green check mark in the center. If there is no flag or check mark, the security setting is not specified in the template.</p>

<p><li>In the console tree, click the Security Configuration And Analysis node.</li></p>

<p><li>Click the Action menu and then click Configure Computer Now.</li></p>

<p>The Configure System dialog box appears.</p>

<p><li>Click OK.</li></p>

<p><li>Click the Action menu and then click Analyze Computer Now.</li></p>

<p>The Perform Analysis dialog box appears.</p>

<p><li>Click OK.</li></p>

<p><li>Review the policy settings to verify that the Database Settings column is equivalent to the Computer Setting column.</li></p>

<p><li>Close the Security snap-in.</li></p>

<p>The Microsoft Management Console message box appears.</p>

<p><li>Click Yes.</li></p>

<p><li>If a Save Security Templates window appears, click Yes.</li></p>
</ol>

<A NAME="650"><h2>Group Policy Snap-In</h2></A>
<p>Security settings define the security-relevant behavior of the system. Through the use of GPOs in Active Directory services, administrators can centrally apply the security levels required to protect enterprise systems.</p>

<p>When determining settings for a GPO that contains multiple computers, the organizational and functional character of that given site, domain, or organizational unit (OU) must be considered. For example, the security levels necessary for an OU containing computers in a sales department would be very different from that for an OU containing finance department computers.</p>

<p>The Group Policy snap-in allows you to configure security centrally in the Active Directory store. A Security Settings folder is located on the Computer Configuration node and the User Configuration node. The security settings allow group policy administrators to set policies that can restrict user access to files and folders, set how many incorrect passwords a user can enter before the user is locked out, and control user rights, such as which users are able to log on at a domain server. For details about how to use the Group Policy snap-in and how to administer group policies, see Chapter 7, Lesson 4, &quot;<A HREF="ch07e.htm#356">Administering Group Policies</A>.&quot;</p>

<A NAME="651"><h2>Lesson Summary</h2></A>
<p>Windows 2000 provides a set of security configuration tools that allow you to configure Windows 2000 security settings and perform periodic analyses of the system to ensure that the configuration remains intact or to make necessary changes over time. The Security Configuration And Analysis snap-in allows you to configure and analyze local system security. It reviews and analyzes your system security settings and recommends modifications to the current system settings. The Security Templates snap-in allows you to create and assign security templates for one or more computers. The Group Policy snap-in allows you to configure security centrally in the Active Directory store.</p>

</BODY>
</HTML>



