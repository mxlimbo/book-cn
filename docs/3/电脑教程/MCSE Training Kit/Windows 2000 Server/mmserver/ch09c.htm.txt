<HTML>
<HEAD>
<TITLE>Lesson 2: Transmission Control Protocol/Internet Protocol</TITLE>
<link rel="STYLESHEET" type="text/css" href="mmserver.css">

<SCRIPT LANGUAGE="JavaScript"><!-- 
function fullSize(sURL){window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}
--></SCRIPT>
</HEAD>
<SCRIPT LANGUAGE="JavaScript">
<!--

function fullSize(sURL){
	window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}

function LibraryHeaderNav(sBackward, sForward, sImgLeftOff, sImgLeftOn, sImgRightOff, sImgRightOn, iH, iW, sImgLeftStyle, sImgRightStyle, sImgRuleStyle, sRuleColor, sRuleSize){
	var tableStr;
	//validate questionable args for defs
	tableStr = "<TABLE BORDER=0 CELLPADDING=0 CELLSPACING=0 border=0 width=100%>";
	tableStr += "<TR VALIGN=top ALIGN=right>";

	tableStr += "<TD align=right class=" + sImgRuleStyle + ">&nbsp;</TD>";	
	
	tableStr += "<TD width=34 align=right class=" + sImgLeftStyle + ">";
	tableStr += "<A href='" + sBackward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgLeftOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgLeftOff + '\'\"';
	tableStr += " SRC='" + sImgLeftOff + "' vspace=0 hspace=0></a></TD>";
	
	tableStr += "<TD width=34 align=left class=" + sImgRightStyle + ">";
	tableStr += "<A href='" + sForward + "'>";
	tableStr += "<IMG HEIGHT=" + iH + " WIDTH=" + iW + " BORDER=0";
	tableStr += ' OnMouseOver=\"this.src=\'' + sImgRightOn + '\'\"';
	tableStr += ' OnMouseOut=\"this.src=\'' + sImgRightOff + '\'\"';
	tableStr += " SRC='" + sImgRightOff + "' vspace=0 hspace=0></a></TD></TR>";

	tableStr += "<TR VALIGN=top>";
	tableStr += "<TD height=3 align=center colspan=3 class=" + sImgRuleStyle + ">";
	tableStr += "<HR color=" + sRuleColor + " size=" + sRuleSize + "></TD></TR></TABLE>";
	//alert(tableStr);
	document.write(tableStr);
}

 																						     //purple is: #aa22aa   orange is: #ff9900
LibraryHeaderNav("ch09b.htm", "ch09d.htm", "images/unit_p_a1.gif", "images/unit_p_a2.gif", "images/unit_p_b1.gif", "images/unit_p_b2.gif", 18, 34, "unit01", "unit02", "headerrule", "#aa22aa", "2");
//--></SCRIPT><P>

<A NAME="436"><h1>Lesson 2: Transmission Control Protocol/Internet Protocol</h1></A>
<p>TCP/IP provides communication across networks that contain computers with various hardware architectures and operating systems. Microsoft's implementation of TCP/IP enables enterprise networking and connectivity on computers running Windows 2000.</p>

<p>
<div class="sidebar"><blockquote>
<b>After this lesson, you will be able to</b> 

<ul>
<p><li>Describe the TCP/IP protocol suite and the TCP/IP utilities that ship with Windows 2000</li></p>

<p><li>Configure TCP/IP</li></p>
</ul>

<b>Estimated lesson time: 60 minutes</b> 
</blockquote></div>
</p>

<A NAME="437"><h2>Overview of the TCP/IP Suite</h2></A>
<p>TCP/IP is an industry-standard suite of protocols that enables enterprise networking and connectivity on Windows 2000-based computers. Adding TCP/IP to a Windows 2000 configuration offers the following advantages:</p>

<ul>
<p><li>A routable networking protocol supported by most operating systems. Most large networks rely on TCP/IP.</li></p>

<p><li>A technology for connecting dissimilar systems. You can use many standard connectivity utilities to access and transfer data between dissimilar systems. Windows 2000 includes several of these standard utilities.</li></p>

<p><li>A robust, scalable, cross-platform client/server framework. TCP/IP supports the Winsock interface, which is ideal for developing client/server applications for Winsock-compliant stacks.</li></p>

<p><li>A method of gaining access to Internet resources.</li></p>
</ul>

<p>The TCP/IP suite of protocols provides a set of standards for how computers communicate and how networks are interconnected. The TCP/IP suite of protocols maps to a four-layer conceptual model: network interface, Internet, transport, and application (Figure 9.3).</p>

<p>
<A HREF="javascript:fullSize('f09xx03gx.htm')"> <img src="images/f09xx03g.jpg" border=0 ALT = "Click to view at full size."> </A>
</p><p>
<!--caption--><b>Figure 9.3</b> <i>The TCP/IP suite of protocols within four layers</i><!--/caption-->
</p>

<A NAME="438"><h3>Network Interface Layer</h3></A>
<p>At the base of the model is the network interface layer. This layer puts frames on the wire and pulls frames off the wire.</p>

<A NAME="439"><h3>Internet Layer</h3></A>
<p>Internet-layer protocols encapsulate packets in Internet datagrams and run all the necessary routing algorithms. The four Internet layer protocols are Internet Protocol (IP), Address Resolution Protocol (ARP), Internet Control Message Protocol (ICMP), and Internet Group Management Protocol (IGMP). The following table describes these four protocols.</p>

<p><table cellpadding=5 width="95%"><tr>
<th>Protocol</th><th>Description</th>
</tr><tr>
<td valign="top">IP</td> <td valign="top">Provides connectionless packet delivery for all other protocols in the suite. Does not guarantee packet arrival or correct packet sequence.</td></tr><tr>
<td valign="top">ARP</td> <td valign="top">Provides IP address mapping to the MAC sublayer address to acquire the physical MAC control address of the destination. IP broadcasts a special ARP inquiry packet containing the IP address of the destination system. The system that owns the IP address replies by sending its physical address to the requester. The MAC sublayer communicates directly with the network adapter card and is responsible for delivering error-free data between two computers on a network.</td></tr><tr>
<td valign="top">ICMP</td> <td valign="top">Provides special communication between hosts, allowing them to share status and error information. Higher-level protocols use this information to recover from transmission problems. Network administrators use this information to detect network trouble. The ping utility uses ICMP packets to determine whether a particular IP device on a network is functional.</td></tr><tr>
<td valign="top">IGMP</td> <td valign="top">Provides multicasting, which is a limited form of broadcasting, to communicate and manage information between all member devices in a multicast group. IGMP informs neighboring multicast routers of the host group memberships present on a particular network. Windows 2000 supports multicast capabilities, such as Windows 2000 Server NetShow Services, that allow developers to create multicast programs.</td></tr></table></p>

<A NAME="440"><h3>Transport Layer</h3></A>
<p>Transport layer protocols provide communication sessions between computers. The desired method of data delivery determines the transport protocol. The two transport layer protocols are Transmission Control Protocol (TCP) and User Datagram Protocol (UDP). The following table describes these two protocols.</p>

<p><table cellpadding=5 width="95%"><tr>
<th>Protocol</th><th>Description</th>
</tr><tr>
<td valign="top">TCP</td> <td valign="top">Provides connection-oriented, reliable communications for applications that typically transfer large amounts of data at one time or that require an acknowledgment for data received. TCP guarantees the delivery of packets, ensures proper sequencing of data, and provides a checksum feature that validates both the packet header and its data for accuracy.</td></tr><tr>
<td valign="top">UDP</td> <td valign="top">Provides connectionless communications and does not guarantee that packets will be delivered. Applications that use UDP typically transfer small amounts of data at one time. Reliable delivery is the responsibility of the application.</td></tr></table></p>

<A NAME="441"><h3>Application Layer</h3></A>
<p>At the top of the model is the application layer, in which applications gain access to the network. There are many standard TCP/IP utilities and services in the application layer, such as FTP, Telnet, Simple Network Management Protocol (SNMP), DNS, and so on.</p>

<p>TCP/IP provides two interfaces for network applications to use the services of the TCP/IP protocol stack: Winsock and the NetBIOS over TCP/IP (NetBT) interface. The following table describes these two interfaces.</p>

<p><table cellpadding=5 width="95%"><tr>
<th>Interface</th><th>Description</th>
</tr><tr>
<td valign="top">Winsock</td> <td valign="top">Serves as the standard interface between socket-based applications and TCP/IP protocols.</td></tr><tr>
<td valign="top">NetBT</td> <td valign="top">Serves as the standard interface for NetBIOS services, including name, datagram, and session services. It also provides a standard interface between NetBIOS-based applications and TCP/IP protocols.</td></tr></table></p>

<p><img src="images/cd.JPG" border="0"></p>

<p>
<div class="note"><blockquote><b>NOTE</b> <hr>
For more information about TCP/IP and TCP/IP implementation, see the Supplemental Course Materials CD-ROM (\chapt09\articles\tcpip2000.doc) that accompanies this book.</blockquote></div>
</p>

<A NAME="442"><h2>Configuring TCP/IP to Use a Static IP Address</h2></A>
<p>By default, client computers running Microsoft Windows 2000, Windows NT, Windows 95, or Windows 98 obtain TCP/IP configuration information automatically from the Dynamic Host Configuration Protocol (DHCP) Service. However, even in a DHCP-enabled environment, you should assign a static IP address to selected network computers. For example, a computer running the DHCP Service cannot be a DHCP client, so it must have a static IP address. If the DHCP Service is not available, you must also configure TCP/IP to use a static IP address.</p>

<p>
<div class="note"><blockquote><b>NOTE</b> <hr>
In a small private network where a DHCP server is not available, you can use the Windows 2000 Server feature called Automatic Private IP Addressing (APIPA) to automatically assign IP addresses for you. This feature is described later in this lesson.</blockquote></div>
</p>

<p>For each network adapter card that uses TCP/IP in a computer, you can configure an IP address, subnet mask, and default gateway, as shown in Figure 9.4.</p>

<p>
<img src="images/f09xx04.jpg" border="0">
</p><p>
<!--caption--><b>Figure 9.4</b> <i>Configuring a static TCP/IP address in the Internet Protocol (TCP/IP) Properties dialog box</i><!--/caption-->
</p>

<p>The following table describes the options used in configuring a static TCP/IP address.</p>

<p><table cellpadding=5 width="95%"><tr>
<th>Option</th><th>Description</th>
</tr><tr>
<td valign="top">IP Address</td> <td valign="top">A logical 32-bit address that identifies a TCP/IP host. Each network adapter card in a computer running TCP/IP requires a unique IP address, such as 192.168.0.108. Each address has two parts: a network ID, which identifies all hosts on the same physical network, and a host ID, which identifies a host on the network. In this example, the network ID is 192.168.0, and the host ID is 108.</td></tr><tr>
<td valign="top">Subnet Mask</td> <td valign="top">A network in a multiple-network environment that uses IP addresses derived from a single network ID. Subnets divide a large network into multiple physical networks connected with routers. A subnet mask blocks out part of the IP address so that TCP/IP can distinguish the network ID from the host ID. When TCP/IP hosts try to communicate, the subnet mask determines whether the destination host is on a local or remote network. To communicate within a local network, computers must have the same subnet mask.</td></tr><tr>
<td valign="top">Default Gateway</td> <td valign="top">The intermediate device on a local network that stores network IDs of other networks in the enterprise or on the Internet. To communicate with a host on another network, configure an IP address for the default gateway. TCP/IP sends packets for remote networks to the default gateway (if no other route is configured), which forwards the packets to other gateways until the packet is delivered to a gateway connected to the specified destination.</td></tr></table></p>

<p>You can open the Internet Protocol (TCP/IP) Properties dialog box by first opening the Properties dialog box for My Network Places, opening the Properties dialog box for the appropriate network adapter card, and then opening the Internet Protocol (TCP/IP) Properties dialog box for the Internet Protocol (TCP/IP) component.</p>

<p>
<div class="caution"><blockquote><b>CAUTION</b><hr> 
IP communications can fail if duplicate IP addresses exist on a network. Therefore, you should always check with the network administrator to obtain a valid static IP address.</blockquote></div>
</p>

<A NAME="443"><h2>Configuring TCP/IP to Obtain an IP Address Automatically</h2></A>
<p>If a server running the DHCP Service is available on the network, it can automatically assign TCP/IP configuration information to the DHCP client. You can then configure any clients running MS-DOS, Windows 3.<i>x</i>, Windows for Workgroups, Windows