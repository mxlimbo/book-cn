<HTML>
<HEAD>
<LINK REL=StyleSheet HREF="basicIE4.css" TYPE="text/css">
<TITLE>The PreCreateWindow Member Function</TITLE>

<SCRIPT LANGUAGE="JavaScript"><!-- 
function fullSize(sURL){window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}
--></SCRIPT>
</HEAD>
<BODY>
<A NAME="300"><H1>The <I>PreCreateWindow</I> Member Function</H1></A>
<P><I>PreCreateWindow</I>, declared at the <I>CWnd</I> level, is another virtual function that you can override to change the characteristics of your window before it is displayed. The framework calls this function before it calls <I>ActivateFrame</I>. AppWizard <U>always</U> generates an overridden 
<I>PreCreateWindow</I> function in your project's view and frame window classes.
<P>This function has a <I>CREATESTRUCT</I> structure as a parameter, and two of the data members in this structure are <I>style</I> and <I>dwExStyle</I>. You can change these data members before passing the structure on to the base class 
<I>PreCreateWindow</I> function. The <I>style</I> flag determines whether the window has a border, scroll bars, a minimize box, and so on. The <I>dwExStyle</I> flag controls other characteristics, such as always-on-top status. See the online documentation for Window Styles and Extended Window Styles for details.
<P>The <I>CREATESTRUCT</I> member <I>lpszClass</I> is also useful to change the window's background brush, cursor, or icon. It makes no sense to change the brush or cursor in a frame window because the view window covers the client area. If you want an ugly red view window with a special cursor, for example, you can override your <U>view's</U> <I>PreCreateWindow</I> function like this:
<PRE>BOOL CMyView::PreCreateWindow(CREATESTRUCT&amp; cs)
{
    if (!CView::PreCreateWindow(cs)) {
        return FALSE;
    }
    cs.lpszClass =
        AfxRegisterWndClass(CS_DBLCLKS | CS_HREDRAW | CS_VREDRAW,
                            AfxGetApp()-&gt;LoadCursor(IDC_MYCURSOR),
                            ::CreateSolidBrush(RGB(255, 0, 0)));
    if (cs.lpszClass != NULL) {
        return TRUE;
    }
    else {
        return FALSE;
    }
}</PRE>
<P>If you override the <I>PreCreateWindow</I> function in your persistent frame class, windows of all derived classes will share the characteristics you programmed in the base class. Of course, derived classes can have their own overridden <I>PreCreateWindow</I> functions, but then you'll have to be careful about the interaction between the base class and derived class functions.
</BODY>
</HTML>



