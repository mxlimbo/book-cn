<HTML>
<HEAD>
<LINK REL=StyleSheet HREF="basicIE4.css" TYPE="text/css">
<TITLE>The Simplest Document-View Application</TITLE>

<SCRIPT LANGUAGE="JavaScript"><!-- 
function fullSize(sURL){window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}
--></SCRIPT>
</HEAD>
<BODY>

<A NAME="316"><H1>The Simplest Document-View Application</H1></A><P>Suppose you don't need multiple views of your document but you plan to take advantage of the application framework's file support. In this case, you can forget about the <I>UpdateAllViews</I> and <I>OnUpdate</I> functions. Simply follow these 
steps when you develop the application:
<OL>
<P><LI>In your derived document class header file (generated by AppWizard), declare your document's data members. These data members are the primary data storage for your application. You can make these data members public, or you can declare the derived view class a <U>friend</U> of the document class.
<P>

<LI>In your derived view class, override the <I>OnInitialUpdate</I> virtual member function. The application framework calls this function after the document data has been initialized or read from disk. (<A HREF="ch17a.htm">Chapter 17</A> discusses disk file I/O.) <I>OnInitialUpdate</I> should update the view to reflect the current document data.<P>
<LI>In your derived view class, let your window message handlers, command message handlers and your <I>OnDraw</I> function read and update the document data members directly, using <I>GetDocument</I> to access the document object.
</OL>
<P>The sequence of events for this simplified document-view environment is as follows.
<TABLE WIDTH="95%" BORDER="0" CELLPADDING="5"><TR><TD VALIGN="TOP">Application starts </TD> <TD VALIGN="TOP">   <I>CMyDocument</I> object constructed

<P>     <I>CMyView</I> object constructed

<P>     View window created
<P>     <I>CMyView::OnCreate</I> called (if mapped)
<P>     <I>CMyDocument::OnNewDocument</I> called
<P>     <I>CMyView::OnInitialUpdate</I> called<BR>
<blockquote>
View object initialized<p>
View window invalidated<p>
<I>CMyView::OnDraw</I> called
</blockquote></TD></TR>
<TR><TD VALIGN="TOP">User edits data  </TD><TD VALIGN="TOP">   <I>CMyView</I> functions update
<I>CMyDocument</I> data members</TD></TR>
<TR><TD VALIGN="TOP">User exits application  </TD>  <TD VALIGN="TOP"> <I>CMyView</I> object destroyed
<P>
<I>CMyDocument</I> object destroyed</TD></TR></TABLE>

</BODY>
</HTML>



