<HTML>
<HEAD>
<LINK REL=StyleSheet HREF="basicIE4.css" TYPE="text/css">
<TITLE>Painting Inside the Dialog Window</TITLE>

<SCRIPT LANGUAGE="JavaScript"><!-- 
function fullSize(sURL){window.open(sURL,'scrshot','width=500,height=375,top=20,left=20,directories=no , Toolbar = no, resizable = yes, menubar = no, ScrollBars = yes ');
}
--></SCRIPT>
</HEAD>
<BODY>
<A NAME="145"><H1>Painting Inside the Dialog Window</H1></A>
<P>You can paint directly in the client area of the dialog window, but you'll avoid overwriting dialog elements if you paint only inside a control window. If you want to display text only, use the dialog editor to create a blank static control with a unique ID and then call the <I>CWnd::SetDlgItemText</I> function in a dialog member function such as <I>OnInitDialog</I> to place text in the control.
<P>Displaying graphics is more complicated. You must use ClassWizard to add an <I>OnPaint</I> member function to the dialog; this function must convert the 
static control's ID to a <I>CWnd</I> pointer and get its device context. The trick is to draw inside the control window while preventing Windows from overwriting your work later. The <I>Invalidate/UpdateWindow</I> sequence achieves this. Here is an <I>OnPaint</I> function that paints a small black square in a static control:
<P>
<PRE>void CMyDialog::OnPaint()
{
    CWnd* pWnd = GetDlgItem(IDC_STATIC1);     // IDC_STATIC1 specified
                                              //  in the dialog editor
    CDC* pControlDC = pWnd-&gt;GetDC();

    pWnd-&gt;Invalidate();
    pWnd-&gt;UpdateWindow();
    pControlDC-&gt;SelectStockObject(BLACK_BRUSH);
    pControlDC-&gt;Rectangle(0, 0, 10, 10);      // black square bullet
    pWnd-&gt;ReleaseDC(pControlDC);
}
</PRE>
<P>As with all windows, the dialog's <I>OnPaint</I> function is called only if some part of the dialog is invalidated. You can force the <I>OnPaint</I> call from another dialog member function with the following statement:
<P><PRE>Invalidate();</PRE>
</BODY>
</HTML>



