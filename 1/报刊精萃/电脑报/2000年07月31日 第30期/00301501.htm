 
<HTML>
<!-- #BeginTemplate "/Templates/software.dwt" --> 
<HEAD>
<META HTTP-EQUIV='Content-Type' CONTENT='text/html; charset=gb2312'>
<META NAME='author' CONTENT='William Wan'>
<LINK REL='STYLESHEET' HREF='epcw.css' TYPE='text/css'>
<!-- #BeginEditable "doctitle" --> 
<TITLE>电脑报电子版 -- LINUX实用技巧（下）</TITLE>
<!-- #EndEditable --> 
<style type="text/css">
<!--
.centertitle {  font-weight: bold; text-align: center; line-height: 35px; font-size: 9pt; color: #000000}
.lefttitle {  line-height: 35px; font-weight: bold; font-size: 9pt; color: #000000}
-->
</style>
</HEAD>
<BODY BGCOLOR='white'>
<span class="centertitle"></span> 
<TABLE BORDER='0' WIDTH='615' CELLSPACING='0' CELLPADDING='0' HEIGHT='6' ALIGN='Center' BGCOLOR='#CCCC99'>
  <TR VALIGN='top'> 
    <TD WIDTH='100%'><IMG SRC='../../images/dot.gif' WIDTH='615' HEIGHT='1'></TD>
  </TR>
</TABLE>
<TABLE WIDTH='615' BORDER='0' CELLSPACING='0' CELLPADDING='0' ALIGN='Center'>
  <TR> 
    <TD WIDTH='145' BGCOLOR='#CCCC99' 	ALIGN='Center' VALIGN='top'><A HREF='/'><IMG SRC='../../images/logo.gif' WIDTH='143' HEIGHT='50' ALT='电脑报' BORDER='0'></A></TD>
    <TD WIDTH='470' BGCOLOR='#CCCC99' HEIGHT='50'> 
      <a href="http://chat.yesky.com"><img src="images/0823-3.gif" width="468" height="60" border="0"></a>
    </TD>
  </TR>
</TABLE>
<TABLE BORDER='0' WIDTH='615' CELLSPACING='0' CELLPADDING='0' HEIGHT='2' ALIGN='Center' BGCOLOR='#CCCC99'>
  <TR> 
    <TD WIDTH='100%'><IMG SRC='../../images/pixel.gif' WIDTH='1' HEIGHT='1'></TD>
  </TR>
</TABLE>
<TABLE BORDER='0' WIDTH='615' CELLSPACING='0' CELLPADDING='0' HEIGHT='3' ALIGN='Center' BGCOLOR='#CCCC99'>
  <TR VALIGN='bottom'> 
    <TD WIDTH='100%'><IMG SRC='../../images/dot.gif' WIDTH='615' HEIGHT='1'></TD>
  </TR>
</TABLE>
<table width='615' border='0' cellspacing='0' cellpadding='2' align='Center'>
  <tr> 
    <td width='615' colspan='2'><font color="#FF6666">当前位置：</font><a href='/issue/index.html'>CPCW电子版</a> 
      &gt; <a href='http://drivers.cpcw.com/issue.htm'>2000 年</a> &gt; <a href='index.html'><!-- #BeginEditable "%C6%DA" -->30期<!-- #EndEditable --></a> 
      &gt; <!-- #BeginEditable "%C0%B8%C4%BF" --><a href="software.html">软件世界</a><!-- #EndEditable --> 
      &gt; <!-- #BeginEditable "%B1%EA%CC%E2" -->LINUX实用技巧（下）<!-- #EndEditable --></td>
  </tr>
</table>
<TABLE WIDTH='615' BORDER='0' CELLSPACING='0' CELLPADDING='0' ALIGN='center'>
  <TR ALIGN='center' VALIGN='bottom'> 
    <TD HEIGHT='6'><IMG SRC='../../images/dot.gif' WIDTH='615' HEIGHT='1'></TD>
  </TR>
</TABLE>
<BR>
<TABLE WIDTH='615' BORDER='0' CELLSPACING='0' CELLPADDING='2' BGCOLOR='#FFCC66' ALIGN='center'>
  <TR> 
    <TD><SPAN CLASS='title'>《 <!-- #BeginEditable "%CE%C4%D5%C2%CD%B7" -->LINUX实用技巧（下）<!-- #EndEditable --> 
      》</SPAN></TD>
  </TR>
</TABLE>
<BR>
<TABLE WIDTH='615' BORDER='0' CELLSPACING='0' CELLPADDING='2' ALIGN='center'>
  <TR> 
    <TD><!-- #BeginEditable "%CE%C4%D5%C2%C4%DA%C8%DD" -->10 使用nohup(不挂起)命令<br>
      　　如果想进程在你退出系统后还能执行，可以使用nohup命令如：<br>
      　　％ nohup tar －cf ／dev／tape ／home ＆<br>
      　　如logout退出后再重新登录的话，使用“ps”命令可以看到进程还在执行。注意，要想把命令真正放到后台运行，nohup必须与＆操作同时使用。有些软件自己能处理SIGHUP信号，如wget，对它们则无须用nohup。<br>
      　　你还可以用nohup来实现ppp回拨：先拨号上去，然后以nohup执行一个自制的脚本，如“sleep 60; ppp－start－script”等等。最后logout退出并挂断电话等着就是。<br>
      11 快速查找某个程序运行中的PID号／关机<br>
      　　例如想查找inetd可以用：ps aux | grep inetd命令；又如想找到最耗内存的进程可以用： ps aux | sort ＋4n命令。找到进程的PID之后就可以用kill命令给它发信号,或者强制杀死它。如：kill 
      －9 xxx(某个进程的PID)。<br>
      　　在Linux下还提供了一个killall命令，可以直接使用进程的名字而不是PID号，如killall －HUP inetd；又如killall 
      xdm。killall会把信号发给以指定名字的程序运行的所有进程。用killall －l可以列出所有可用的信号。<br>
      　　下面给大家介绍一下qps,它是用qt写的图形界面，综合了free、top、ps及kill的特点，还可以看到进程的Socket／Memory 
      Map／Files信息。还有为KDE写的ktop，优点是列出了父子进程的关系。<br>
      　　shutdown －r now 杀掉所有进程立即重新启动；<br>
      　　shutdown －h now 杀掉所有进程立即停机；<br>
      　　shutdown －h ＋5 ″Warning: After 5 minutes I'll shutdown″ 给用户发消息并在5分钟后停机。<br>
      　　相关命令有reboot,halt,poweroff,init等。<br>
      　　要想实现软件关掉电源，则你的PC机必须是ATX结构的，然后去配置编译内核，打开charactor device／Advanced Power 
      Management support／Power off on shutdown这一项。<br>
      12 查找Xwindow下的字体信息，<br>
      特别是字符映射表(内码)<br>
      　　xlsfonts 列出所有字体；<br>
      　　xfontsel 分类列出所有字体并显示示范文本；<br>
      xfd 显示某个字体文件中的所有字符及内码，比如用 xfd －fn hanzigb16fs 查看中文内码，再用xfd －fn cclib16st查看cxterm所用字库的内码与XF86的不同(注意最高位)。 
      <br>
      13 添加／删除用户<br>
      　　可以用useradd username(或者adduser username)添加一个名为username的用户，然后用passwd username指定口令。用户的信息记录在／etc／passwd文件里，由于每个用户都可以(而且必须能)读出这个文件然后就可以crack出其它用户的密码，为安全考虑现在都使用shadow。<br>
      　　真正的口令密码记录在／etc／shadow里，而这个文件只有以root权限才能读出。Redhat 5.1以下版本没有直接使用shadow，需要用pwconv转换一下，如果要变回来，可以用pwunconv。提示：在／etc／skel目录记录了一个用户应该有的基本文件(可以用ls 
      －a ／etc／skel／查看),useradd会自动把这些文件复制到用户的家目录下并置上适当的权限(除非添加用户时用了－m参数: useradd 
      －m xxx)。如果你在这个目录下键一个public_html的目录，则以后添加的用户在它的家目录下都会自动有个同名的目录，这样每个用户都有了“个人主页”。<br>
      　　删除用户可以用userdel usrname或userdel －r username命令(有些发行版可能是deluser)，－r参数会删除这个用户的家目录，但是在系统里别的地方还可能有此用户的信息，所以在删除用户之前最好还要用find 
      ／ －user username等方式去查找相关信息。<br>
      　　如果要临时禁止一个用户，可以在／etc／passwd文件中此用户的密码这一项第一个字符前添加一个＊号。<br>
      　　如果把密码域改为空，则此用户不需要密码就可以进入系统，当你忘记root口令时，可以用软盘启动把原来的root安装上来，直接去改passwd文件。<br>
      　　长用户名的问题，在Redhat发行版中已经做得很好了，也允许用户名中有空格。如果你手上的发行版不支持，可以到／usr／include／utmpbits.h里把UT_NAMEDSIZE改为32,重新编译相关程序。<br>
      　　另一个直观的配置工具是linuxconf，比如可以用它来配置pppuser等等。这里只能给一些线索,你可以多看″man useradd″,″man 
      shadow″,″man group″,″man userdel″......<br>
      14 列出一个目录占用的空间<br>
      　　可以用du或du －s或du －k命令。<br>
      　　du －s | sort －n 可以迅速发现那个目录是最大的。<br>
      　　用df可以看到已安装的文件系统的空间大小及剩余空间大小。<br>
      　　如果你用quota限制了用户空间大小的话，可以用quota －v查看用户的磁盘空间信息。<br>
      15 如何驱动声卡<br>
      　　RedHat 自带的2.0.34－1 kernel中用了模块化的声卡驱动，有许多声卡都只需要恰当地配置 ／etc／conf.modules 
      就行了，不需要重建 kernel，也不需要其它软件；但是 sndconfig 配置程序只支持 sb声卡，其它声卡要按照／usr／dos／rhsound－1.5／README.modules.usage 
      的要求自己写／etc／conf.modules，如对OPTI929／930／931 系列要加<br>
      　　alias sound mad16<br>
      　　options mad16 io=xxx irq=xxx dma=xxx cdtype=0<br>
      　　options sb mad16=1<br>
      　　options opl3 io=xxx<br>
      　　注意对mad16.o模块用depend sb.o。修改设置后不需要重启动，用lsmod看看已经启动的modules，用rmmod卸载sound, 
      sb等，再play sound时，kerneld将会自动加载，用lsmod查看，应该有<br>
      　　mad16<br>
      　　opl3<br>
      　　sb<br>
      　　sound<br>
      　　在RedHat5.1中，只要使用支持清单中的声卡，这样配置都没有问题，你马上就可以听到优美的声音。<br>
      （河北　李文龙<br>
      lwl888@263.net）<!-- #EndEditable --></TD>
  </TR>
</TABLE>
<TABLE WIDTH='615' BORDER='0' CELLSPACING='0' CELLPADDING='2' ALIGN='center'>
  <TR> 
    <TD>&nbsp;</TD>
    <TD ALIGN='right'><A HREF='#top'>页 首</A></TD>
  </TR>
</TABLE>
<BR>
<TABLE WIDTH='615' BORDER='0' CELLSPACING='0' CELLPADDING='0' ALIGN='center'>
  <TR ALIGN='center' VALIGN='bottom'> 
    <TD HEIGHT='6'><IMG SRC='../../images/dot.gif' WIDTH='615' HEIGHT='1'></TD>
  </TR>
</TABLE>
<TABLE WIDTH='615' BORDER='0' CELLSPACING='0' CELLPADDING='2' ALIGN='center'>
  <TR ALIGN='center'> 
    <TD>&nbsp;</TD>
    <TD> <a name='top'></a> <img src='http://cq.cpcw.com/cgi-bin/Count.cgi?ft=2|md=8|df=cpcw.dat|dd=E|cache=F|expires=18000' width='1' height='1' alt='312345678'> 
       <A HREF='/'>CPCW版权所有</A>，<A HREF='mailto:webmaster@cpcw.com'>CPCW网站编辑部</A>设计制作发布<script language="JavaScript" src="http://nethome.yesky.com/sp/yeskye.js">
</script></TD>
  </TR>
</TABLE>
</BODY>
<!-- #EndTemplate -->
</HTML>
