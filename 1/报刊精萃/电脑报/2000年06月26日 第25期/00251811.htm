 
<HTML>
 
<HEAD>
<META HTTP-EQUIV='Content-Type' CONTENT='text/html; charset=gb2312'>
<META NAME='author' CONTENT='William Wan'>
<LINK REL='STYLESHEET' HREF='images/epcw.css' TYPE='text/css'>
 
<TITLE>电脑报电子版 -- 编程乐园</TITLE>
 
<style type="text/css">
<!--
.centertitle {  font-weight: bold; text-align: center; line-height: 35px; font-size: 9pt; color: #000000}
.lefttitle {  line-height: 35px; font-weight: bold; font-size: 9pt; color: #000000}
-->
</style>
</HEAD>
<BODY BGCOLOR='white'>
<span class="centertitle"></span> 
<TABLE BORDER='0' WIDTH='468' CELLSPACING='0' CELLPADDING='0' HEIGHT='6' ALIGN='Center' BGCOLOR='#CCCC99'>
  <TR VALIGN='top'> 
    <TD WIDTH='100%'><IMG SRC='images/dot.gif' WIDTH='468' HEIGHT='1'></TD>
  </TR>
</TABLE>
<TABLE WIDTH='468' BORDER='0' CELLSPACING='0' CELLPADDING='0' ALIGN='Center'>
  <TR> 
    <TD WIDTH='470' BGCOLOR='#CCCC99' HEIGHT='50'><img src="images/yjds.gif" width="468" height="60"> 
      
    </TD>
  </TR>
</TABLE>
<TABLE BORDER='0' WIDTH='468' CELLSPACING='0' CELLPADDING='0' HEIGHT='2' ALIGN='Center' BGCOLOR='#CCCC99'>
  <TR> 
    <TD WIDTH='100%'><IMG SRC='images/pixel.gif' WIDTH='1' HEIGHT='1'></TD>
  </TR>
</TABLE>
<TABLE BORDER='0' WIDTH='468' CELLSPACING='0' CELLPADDING='0' HEIGHT='3' ALIGN='Center' BGCOLOR='#CCCC99'>
  <TR VALIGN='bottom'> 
    <TD WIDTH='100%'><IMG SRC='images/dot.gif' WIDTH='468' HEIGHT='1'></TD>
  </TR>
</TABLE>
<table width='468' border='0' cellspacing='0' cellpadding='2' align='Center'>
  <tr> 
    <td width='615' colspan='2'><font color="#FF6666">当前位置：</font>CPCW电子版 
      &gt; <a href='http://drivers.cpcw.com/issue.htm'>2000 年</a> &gt; <a href="index.html">25期</a> 
      &gt; <a href="software.html">软件世界</a> &gt; 编程乐园</td>
  </tr>
</table>
<TABLE WIDTH='468' BORDER='0' CELLSPACING='0' CELLPADDING='0' ALIGN='center'>
  <TR ALIGN='center' VALIGN='bottom'> 
    <TD HEIGHT='6'><IMG SRC='images/dot.gif' WIDTH='468' HEIGHT='1'></TD>
  </TR>
</TABLE>
<BR>
<TABLE WIDTH='468' BORDER='0' CELLSPACING='0' CELLPADDING='2' BGCOLOR='#FFCC66' ALIGN='center'>
  <TR> 
    <TD><SPAN CLASS='title'>《 编程乐园 
      》</SPAN></TD>
  </TR>
</TABLE>
<BR>
<TABLE WIDTH='468' BORDER='0' CELLSPACING='0' CELLPADDING='2' ALIGN='center'>
  <TR> 
    <TD><b>2000．6 请你编程</b><br>
      　　大家好！“请你编程”又与你们见面了。“请你编程”得到了广大朋友的关心和支持，我在这里表示衷心的感谢。“请你编程”是一个读者朋友直接参与的栏目，是一个体现自我的园地，希望有编程愿望的朋友，无论是编程高手，还是初学者都能参与进来，我们将会认真对待每一份作品。下面请看2000.4期重庆读者张周的程序。<br>
      　　本程序的基本思想是：先定义一个数组，该数组包含9个元素，每个元素都是一个结构，存放一个三角形的信息：a,b,c代表三角形三个顶点的序号，linenum代表三角形中已连线的数目，若该数目为3，则说明已组成了一个完整的三角形。程序开始时，首先按题意将每个三角形的序号填入结构数组的一个元素中，然后从输入文件中读取每个参赛者的每一次连线的两个序号，再在上述定义好的结构数组中查找，若发现该两个序号属于某一结构数组中的元素，则将该元素中的linenum加1，如果linenum为3，则表明该游戏者已找到了属于他的三角形，下一次仍由他玩，继续如此循环直到游戏结束。最后比较游戏双方找到三角形的数目，数目大者便为胜利者。<br>
      　　＃ include &lt;stdio.h&gt;<br>
      　　void main()<br>
      　　{/＊定义一个结构，用于存放三角形的信息＊/<br>
      　　typedef struct<br>
      　　{int a,b,c;/＊分别存放三个顶点的序号＊/<br>
      　　int linenum;/＊存放该三角形已实际连起来的边的数目，若为3，则说明已组成了一个完整的三角形 ＊/<br>
      　　} TriangleNode;<br>
      　　 TriangleNode TriangleArray[9]; /＊ 结构数组，共有9个元素，其中每个元素表示一个三角形的信息＊/<br>
      　　int ANum,BNum,times,i,j,k,n,m,x,y,StepFlag,FindFlag;<br>
      　　/＊ ANum, BNum 分别存放两个游戏者已找出的属于自己的三角形的个数 ＊/<br>
      　　FILE ＊fp;<br>
      　　fp=fopen(″method.txt″,″rb″);<br>
      　　if (!fp)<br>
      　　{ printf(″Can not open the file: method.txt!″);<br>
      　　exit(1);}<br>
      　　/＊装入每个三角形的顶点的序号到结构数组中＊/<br>
      　　TriangleArray[0].a=1; TriangleArray[0].b=2; TriangleArray[0].c=3;<br>
      　　TriangleArray[1].a=2; TriangleArray[1].b=4; TriangleArray[1].c=5;<br>
      　　TriangleArray[2].a=2; TriangleArray[2].b=3; TriangleArray[2].c=5;<br>
      　　TriangleArray[3].a=3; TriangleArray[3].b=5; TriangleArray[3].c=6;<br>
      　　TriangleArray[4].a=4; TriangleArray[4].b=7; TriangleArray[4].c=8;<br>
      　　TriangleArray[5].a=4; TriangleArray[5].b=5; TriangleArray[5].c=8;<br>
      　　TriangleArray[6].a=5; TriangleArray[6].b=8; TriangleArray[6].c=9;<br>
      　　TriangleArray[7].a=5; TriangleArray[7].b=6; TriangleArray[7].c=9;<br>
      　　TriangleArray[8].a=6; TriangleArray[8].b=9; TriangleArray[8].c=10;<br>
      　　fscanf(fp,″％d″,＆times); /＊读入总共玩游戏的次数＊/<br>
      　　for (i=0; i&lt;times; ＋＋i)<br>
      　　{for (j=0; j&lt;9; ＋＋j) TriangleArray[j].linenum=0; /＊ 每次游戏开始时，初始每个三角形结构中的linenum为0 
      ＊/<br>
      　　ANum=BNum=0;<br>
      　　StepFlag=0; /＊玩家标志。0 表示下一步由A走，1 表示由B走。按题意，每次开始时都是由A走 ＊/<br>
      　　fscanf(fp,″％d″,＆m); /＊ 读入该次游戏中的回合数 ＊/<br>
      　　for (j=0; j&lt;m; ＋＋j)<br>
      　　{FindFlag=0; /＊每个回合中是否找到一个或多个三角形的标志，0表示没找到，1表示找到。每个回合开始时总清为0 ＊/<br>
      　　fscanf(fp, ″％d ％d″,＆x,＆y); /＊ 读入玩家连线的两个顶点，按题意，假设输入的点都是符合要求的：即不重复输入且都是有效的边的顶点 
      ＊/<br>
      　　for (k=0; k&lt;9; ＋＋k) /＊在9个三角形结构信息中扫描，看这两个顶点属于哪个三角形的＊/<br>
      　　{ if ((TriangleArray[k].a==x ＆＆ TriangleArray[k].b==y) ||<br>
      　　(TriangleArray[k].a==y ＆＆ TriangleArray[k].b==x) ||<br>
      　　(TriangleArray[k].a==x ＆＆ TriangleArray[k].c==y) ||<br>
      　　(TriangleArray[k].a==y ＆＆ TriangleArray[k].c==x) ||<br>
      　　(TriangleArray[k].b==x ＆＆ TriangleArray[k].c==y) ||<br>
      　　(TriangleArray[k].b==y ＆＆ TriangleArray[k].c==x))<br>
      　　{＋＋TriangleArray[k].linenum; /＊把相应的三角形结构中的linenum加1，表示该三角形中又连好了一条线 ＊/<br>
      　　if (TriangleArray[k].linenum==3) /＊ 若linenum为3，则表明出现了一个完整的三角形 ＊/<br>
      　　{ FindFlag=1; /＊ 把找到标志置为1 ＊/<br>
      　　if (StepFlag==0) ＋＋ANum; /＊ 如该步是A走的，则该三角形属于A ＊/<br>
      　　else ＋＋BNum; /＊ 否则属于B ＊/ }}}<br>
      　　/＊ 若FindFlag为1，则表明某玩家在该次连线中出现了完整的三角形 ，下一步仍由他走，否则由另一玩家走 ＊/<br>
      　　if (FindFlag==1) StepFlag=StepFlag==0? 0:1;<br>
      　　else StepFlag=StepFlag==0?1:0;}<br>
      　　/＊打印出该回合每个玩家找到的三角形的个数，并比较，个数多者便为胜利者，若相等，则两个都是胜利者 ＊/<br>
      　　printf(″Beacuse A is ％d,B is ％d,\n″,ANum,BNum);　　if (ANum&gt;BNum) printf(″Game 
      ％d: A wins.\n\n″,i＋1);<br>
      　　else if (ANum&lt;BNum) printf(″Game ％d: B wins.\n\n″,i＋1);<br>
      　　else printf(″Game ％d: A ＆ B all wins.\n\n″,i＋1);}　　fclose(fp);}<br>
      　　本期请你编程题目<br>
      　　美食家俱乐部<br>
      　　美食家俱乐部有16位成员。他们将在同一家餐馆内连续吃五顿晚餐。他们被分成4桌，每桌4人。他们同时规定：在这五个晚上，曾经在同一桌吃过饭的人，以后不能再在同一桌上吃饭。Maitre负责安排这五天的座位。不幸的是，在第四天的早晨，Maitre失踪了。他只留下了前三天晚上座位安排的记录。现在，请你来完成他的工作。<br>
      　　输入：输入文件为“gourmet.txt”，每一位俱乐部成员由大写字母A,B,C,...,P来代替。每一批数据由三行组成，每一行分成4块（用空格来区分），每一块由4个字母组成，表示该天这桌的安排。每一批数据用空行来区分。<br>
      　　输出：如果能够成功安排最后两天的座位，则按照输入的格式将五天的座位安排全部输出；否则，输出“It is not possible to complete 
      this schedule.”每一批数据的输出用一个空行来区分。<br>
      　　例如：<br>
      　　输入：<br>
      　　ABCD　EFGH　IJKL　MNOP<br>
      　　AEIM　BFJN　CGKO　DHLP<br>
      　　AFKP　BGLM　CHIN　DEJO<br>
      　　输出：<br>
      　　It is not possible to complete this schedule.</TD>
  </TR>
</TABLE>
<TABLE WIDTH='468' BORDER='0' CELLSPACING='0' CELLPADDING='2' ALIGN='center'>
  <TR> 
    <TD>&nbsp;</TD>
    <TD ALIGN='right'><A HREF='#top'>页 首</A></TD>
  </TR>
</TABLE>
<BR>
<TABLE WIDTH='468' BORDER='0' CELLSPACING='0' CELLPADDING='0' ALIGN='center'>
  <TR ALIGN='center' VALIGN='bottom'> 
    <TD HEIGHT='6'><IMG SRC='images/dot.gif' WIDTH='468' HEIGHT='1'></TD>
  </TR>
</TABLE>
<TABLE WIDTH='468' BORDER='0' CELLSPACING='0' CELLPADDING='2' ALIGN='center'>
  <TR ALIGN='center'> 
    <TD>&nbsp;</TD>
    <TD> <a name='top'></a>  
      
       CPCW版权所有，<A HREF='mailto:webmaster@cpcw.com'>CPCW网站编辑部</A>设计制作发布</TD>
  </TR>
</TABLE>
</BODY>

</HTML>
